
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});

(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory(exports,require('jquery')):typeof define==='function'&&define.amd?define(['exports','jquery'],factory):(factory((global.bootstrap={}),global.jQuery));}(this,(function(exports,$){'use strict';$=$&&$.hasOwnProperty('default')?$['default']:$;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}
var Util=function($$$1){var transition=false;var MAX_UID=1000000;function toType(obj){return{}.toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase();}
function getSpecialTransitionEndEvent(){return{bindType:transition.end,delegateType:transition.end,handle:function handle(event){if($$$1(event.target).is(this)){return event.handleObj.handler.apply(this,arguments);}
return undefined;}};}
function transitionEndTest(){if(typeof window!=='undefined'&&window.QUnit){return false;}
return{end:'transitionend'};}
function transitionEndEmulator(duration){var _this=this;var called=false;$$$1(this).one(Util.TRANSITION_END,function(){called=true;});setTimeout(function(){if(!called){Util.triggerTransitionEnd(_this);}},duration);return this;}
function setTransitionEndSupport(){transition=transitionEndTest();$$$1.fn.emulateTransitionEnd=transitionEndEmulator;if(Util.supportsTransitionEnd()){$$$1.event.special[Util.TRANSITION_END]=getSpecialTransitionEndEvent();}}
function escapeId(selector){selector=typeof $$$1.escapeSelector==='function'?$$$1.escapeSelector(selector).substr(1):selector.replace(/(:|\.|\[|\]|,|=|@)/g,'\\$1');return selector;}
var Util={TRANSITION_END:'bsTransitionEnd',getUID:function getUID(prefix){do{prefix+=~~(Math.random()*MAX_UID);}while(document.getElementById(prefix));return prefix;},getSelectorFromElement:function getSelectorFromElement(element){var selector=element.getAttribute('data-target');if(!selector||selector==='#'){selector=element.getAttribute('href')||'';}
if(selector.charAt(0)==='#'){selector=escapeId(selector);}
try{var $selector=$$$1(document).find(selector);return $selector.length>0?selector:null;}catch(err){return null;}},reflow:function reflow(element){return element.offsetHeight;},triggerTransitionEnd:function triggerTransitionEnd(element){$$$1(element).trigger(transition.end);},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean(transition);},isElement:function isElement(obj){return(obj[0]||obj).nodeType;},typeCheckConfig:function typeCheckConfig(componentName,config,configTypes){for(var property in configTypes){if(Object.prototype.hasOwnProperty.call(configTypes,property)){var expectedTypes=configTypes[property];var value=config[property];var valueType=value&&Util.isElement(value)?'element':toType(value);if(!new RegExp(expectedTypes).test(valueType)){throw new Error(componentName.toUpperCase()+": "+("Option \""+property+"\" provided type \""+valueType+"\" ")+("but expected type \""+expectedTypes+"\"."));}}}}};setTransitionEndSupport();return Util;}($);var Alert=function($$$1){var NAME='alert';var VERSION='4.0.0';var DATA_KEY='bs.alert';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=150;var Selector={DISMISS:'[data-dismiss="alert"]'};var Event={CLOSE:"close"+EVENT_KEY,CLOSED:"closed"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY};var ClassName={ALERT:'alert',FADE:'fade',SHOW:'show'};var Alert=function(){function Alert(element){this._element=element;}
var _proto=Alert.prototype;_proto.close=function close(element){element=element||this._element;var rootElement=this._getRootElement(element);var customEvent=this._triggerCloseEvent(rootElement);if(customEvent.isDefaultPrevented()){return;}
this._removeElement(rootElement);};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);this._element=null;};_proto._getRootElement=function _getRootElement(element){var selector=Util.getSelectorFromElement(element);var parent=false;if(selector){parent=$$$1(selector)[0];}
if(!parent){parent=$$$1(element).closest("."+ClassName.ALERT)[0];}
return parent;};_proto._triggerCloseEvent=function _triggerCloseEvent(element){var closeEvent=$$$1.Event(Event.CLOSE);$$$1(element).trigger(closeEvent);return closeEvent;};_proto._removeElement=function _removeElement(element){var _this=this;$$$1(element).removeClass(ClassName.SHOW);if(!Util.supportsTransitionEnd()||!$$$1(element).hasClass(ClassName.FADE)){this._destroyElement(element);return;}
$$$1(element).one(Util.TRANSITION_END,function(event){return _this._destroyElement(element,event);}).emulateTransitionEnd(TRANSITION_DURATION);};_proto._destroyElement=function _destroyElement(element){$$$1(element).detach().trigger(Event.CLOSED).remove();};Alert._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var $element=$$$1(this);var data=$element.data(DATA_KEY);if(!data){data=new Alert(this);$element.data(DATA_KEY,data);}
if(config==='close'){data[config](this);}});};Alert._handleDismiss=function _handleDismiss(alertInstance){return function(event){if(event){event.preventDefault();}
alertInstance.close(this);};};_createClass(Alert,null,[{key:"VERSION",get:function get(){return VERSION;}}]);return Alert;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DISMISS,Alert._handleDismiss(new Alert()));$$$1.fn[NAME]=Alert._jQueryInterface;$$$1.fn[NAME].Constructor=Alert;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Alert._jQueryInterface;};return Alert;}($);var Button=function($$$1){var NAME='button';var VERSION='4.0.0';var DATA_KEY='bs.button';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var ClassName={ACTIVE:'active',BUTTON:'btn',FOCUS:'focus'};var Selector={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input',ACTIVE:'.active',BUTTON:'.btn'};var Event={CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY,FOCUS_BLUR_DATA_API:"focus"+EVENT_KEY+DATA_API_KEY+" "+("blur"+EVENT_KEY+DATA_API_KEY)};var Button=function(){function Button(element){this._element=element;}
var _proto=Button.prototype;_proto.toggle=function toggle(){var triggerChangeEvent=true;var addAriaPressed=true;var rootElement=$$$1(this._element).closest(Selector.DATA_TOGGLE)[0];if(rootElement){var input=$$$1(this._element).find(Selector.INPUT)[0];if(input){if(input.type==='radio'){if(input.checked&&$$$1(this._element).hasClass(ClassName.ACTIVE)){triggerChangeEvent=false;}else{var activeElement=$$$1(rootElement).find(Selector.ACTIVE)[0];if(activeElement){$$$1(activeElement).removeClass(ClassName.ACTIVE);}}}
if(triggerChangeEvent){if(input.hasAttribute('disabled')||rootElement.hasAttribute('disabled')||input.classList.contains('disabled')||rootElement.classList.contains('disabled')){return;}
input.checked=!$$$1(this._element).hasClass(ClassName.ACTIVE);$$$1(input).trigger('change');}
input.focus();addAriaPressed=false;}}
if(addAriaPressed){this._element.setAttribute('aria-pressed',!$$$1(this._element).hasClass(ClassName.ACTIVE));}
if(triggerChangeEvent){$$$1(this._element).toggleClass(ClassName.ACTIVE);}};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);this._element=null;};Button._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);if(!data){data=new Button(this);$$$1(this).data(DATA_KEY,data);}
if(config==='toggle'){data[config]();}});};_createClass(Button,null,[{key:"VERSION",get:function get(){return VERSION;}}]);return Button;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE_CARROT,function(event){event.preventDefault();var button=event.target;if(!$$$1(button).hasClass(ClassName.BUTTON)){button=$$$1(button).closest(Selector.BUTTON);}
Button._jQueryInterface.call($$$1(button),'toggle');}).on(Event.FOCUS_BLUR_DATA_API,Selector.DATA_TOGGLE_CARROT,function(event){var button=$$$1(event.target).closest(Selector.BUTTON)[0];$$$1(button).toggleClass(ClassName.FOCUS,/^focus(in)?$/.test(event.type));});$$$1.fn[NAME]=Button._jQueryInterface;$$$1.fn[NAME].Constructor=Button;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Button._jQueryInterface;};return Button;}($);var Carousel=function($$$1){var NAME='carousel';var VERSION='4.0.0';var DATA_KEY='bs.carousel';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=600;var ARROW_LEFT_KEYCODE=37;var ARROW_RIGHT_KEYCODE=39;var TOUCHEVENT_COMPAT_WAIT=500;var Default={interval:5000,keyboard:true,slide:false,pause:'hover',wrap:true};var DefaultType={interval:'(number|boolean)',keyboard:'boolean',slide:'(boolean|string)',pause:'(string|boolean)',wrap:'boolean'};var Direction={NEXT:'next',PREV:'prev',LEFT:'left',RIGHT:'right'};var Event={SLIDE:"slide"+EVENT_KEY,SLID:"slid"+EVENT_KEY,KEYDOWN:"keydown"+EVENT_KEY,MOUSEENTER:"mouseenter"+EVENT_KEY,MOUSELEAVE:"mouseleave"+EVENT_KEY,TOUCHEND:"touchend"+EVENT_KEY,LOAD_DATA_API:"load"+EVENT_KEY+DATA_API_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY};var ClassName={CAROUSEL:'carousel',ACTIVE:'active',SLIDE:'slide',RIGHT:'carousel-item-right',LEFT:'carousel-item-left',NEXT:'carousel-item-next',PREV:'carousel-item-prev',ITEM:'carousel-item'};var Selector={ACTIVE:'.active',ACTIVE_ITEM:'.active.carousel-item',ITEM:'.carousel-item',NEXT_PREV:'.carousel-item-next, .carousel-item-prev',INDICATORS:'.carousel-indicators',DATA_SLIDE:'[data-slide], [data-slide-to]',DATA_RIDE:'[data-ride="carousel"]'};var Carousel=function(){function Carousel(element,config){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=false;this._isSliding=false;this.touchTimeout=null;this._config=this._getConfig(config);this._element=$$$1(element)[0];this._indicatorsElement=$$$1(this._element).find(Selector.INDICATORS)[0];this._addEventListeners();}
var _proto=Carousel.prototype;_proto.next=function next(){if(!this._isSliding){this._slide(Direction.NEXT);}};_proto.nextWhenVisible=function nextWhenVisible(){if(!document.hidden&&$$$1(this._element).is(':visible')&&$$$1(this._element).css('visibility')!=='hidden'){this.next();}};_proto.prev=function prev(){if(!this._isSliding){this._slide(Direction.PREV);}};_proto.pause=function pause(event){if(!event){this._isPaused=true;}
if($$$1(this._element).find(Selector.NEXT_PREV)[0]&&Util.supportsTransitionEnd()){Util.triggerTransitionEnd(this._element);this.cycle(true);}
clearInterval(this._interval);this._interval=null;};_proto.cycle=function cycle(event){if(!event){this._isPaused=false;}
if(this._interval){clearInterval(this._interval);this._interval=null;}
if(this._config.interval&&!this._isPaused){this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval);}};_proto.to=function to(index){var _this=this;this._activeElement=$$$1(this._element).find(Selector.ACTIVE_ITEM)[0];var activeIndex=this._getItemIndex(this._activeElement);if(index>this._items.length-1||index<0){return;}
if(this._isSliding){$$$1(this._element).one(Event.SLID,function(){return _this.to(index);});return;}
if(activeIndex===index){this.pause();this.cycle();return;}
var direction=index>activeIndex?Direction.NEXT:Direction.PREV;this._slide(direction,this._items[index]);};_proto.dispose=function dispose(){$$$1(this._element).off(EVENT_KEY);$$$1.removeData(this._element,DATA_KEY);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null;};_proto._getConfig=function _getConfig(config){config=_extends({},Default,config);Util.typeCheckConfig(NAME,config,DefaultType);return config;};_proto._addEventListeners=function _addEventListeners(){var _this2=this;if(this._config.keyboard){$$$1(this._element).on(Event.KEYDOWN,function(event){return _this2._keydown(event);});}
if(this._config.pause==='hover'){$$$1(this._element).on(Event.MOUSEENTER,function(event){return _this2.pause(event);}).on(Event.MOUSELEAVE,function(event){return _this2.cycle(event);});if('ontouchstart'in document.documentElement){$$$1(this._element).on(Event.TOUCHEND,function(){_this2.pause();if(_this2.touchTimeout){clearTimeout(_this2.touchTimeout);}
_this2.touchTimeout=setTimeout(function(event){return _this2.cycle(event);},TOUCHEVENT_COMPAT_WAIT+_this2._config.interval);});}}};_proto._keydown=function _keydown(event){if(/input|textarea/i.test(event.target.tagName)){return;}
switch(event.which){case ARROW_LEFT_KEYCODE:event.preventDefault();this.prev();break;case ARROW_RIGHT_KEYCODE:event.preventDefault();this.next();break;default:}};_proto._getItemIndex=function _getItemIndex(element){this._items=$$$1.makeArray($$$1(element).parent().find(Selector.ITEM));return this._items.indexOf(element);};_proto._getItemByDirection=function _getItemByDirection(direction,activeElement){var isNextDirection=direction===Direction.NEXT;var isPrevDirection=direction===Direction.PREV;var activeIndex=this._getItemIndex(activeElement);var lastItemIndex=this._items.length-1;var isGoingToWrap=isPrevDirection&&activeIndex===0||isNextDirection&&activeIndex===lastItemIndex;if(isGoingToWrap&&!this._config.wrap){return activeElement;}
var delta=direction===Direction.PREV?-1:1;var itemIndex=(activeIndex+delta)%this._items.length;return itemIndex===-1?this._items[this._items.length-1]:this._items[itemIndex];};_proto._triggerSlideEvent=function _triggerSlideEvent(relatedTarget,eventDirectionName){var targetIndex=this._getItemIndex(relatedTarget);var fromIndex=this._getItemIndex($$$1(this._element).find(Selector.ACTIVE_ITEM)[0]);var slideEvent=$$$1.Event(Event.SLIDE,{relatedTarget:relatedTarget,direction:eventDirectionName,from:fromIndex,to:targetIndex});$$$1(this._element).trigger(slideEvent);return slideEvent;};_proto._setActiveIndicatorElement=function _setActiveIndicatorElement(element){if(this._indicatorsElement){$$$1(this._indicatorsElement).find(Selector.ACTIVE).removeClass(ClassName.ACTIVE);var nextIndicator=this._indicatorsElement.children[this._getItemIndex(element)];if(nextIndicator){$$$1(nextIndicator).addClass(ClassName.ACTIVE);}}};_proto._slide=function _slide(direction,element){var _this3=this;var activeElement=$$$1(this._element).find(Selector.ACTIVE_ITEM)[0];var activeElementIndex=this._getItemIndex(activeElement);var nextElement=element||activeElement&&this._getItemByDirection(direction,activeElement);var nextElementIndex=this._getItemIndex(nextElement);var isCycling=Boolean(this._interval);var directionalClassName;var orderClassName;var eventDirectionName;if(direction===Direction.NEXT){directionalClassName=ClassName.LEFT;orderClassName=ClassName.NEXT;eventDirectionName=Direction.LEFT;}else{directionalClassName=ClassName.RIGHT;orderClassName=ClassName.PREV;eventDirectionName=Direction.RIGHT;}
if(nextElement&&$$$1(nextElement).hasClass(ClassName.ACTIVE)){this._isSliding=false;return;}
var slideEvent=this._triggerSlideEvent(nextElement,eventDirectionName);if(slideEvent.isDefaultPrevented()){return;}
if(!activeElement||!nextElement){return;}
this._isSliding=true;if(isCycling){this.pause();}
this._setActiveIndicatorElement(nextElement);var slidEvent=$$$1.Event(Event.SLID,{relatedTarget:nextElement,direction:eventDirectionName,from:activeElementIndex,to:nextElementIndex});if(Util.supportsTransitionEnd()&&$$$1(this._element).hasClass(ClassName.SLIDE)){$$$1(nextElement).addClass(orderClassName);Util.reflow(nextElement);$$$1(activeElement).addClass(directionalClassName);$$$1(nextElement).addClass(directionalClassName);$$$1(activeElement).one(Util.TRANSITION_END,function(){$$$1(nextElement).removeClass(directionalClassName+" "+orderClassName).addClass(ClassName.ACTIVE);$$$1(activeElement).removeClass(ClassName.ACTIVE+" "+orderClassName+" "+directionalClassName);_this3._isSliding=false;setTimeout(function(){return $$$1(_this3._element).trigger(slidEvent);},0);}).emulateTransitionEnd(TRANSITION_DURATION);}else{$$$1(activeElement).removeClass(ClassName.ACTIVE);$$$1(nextElement).addClass(ClassName.ACTIVE);this._isSliding=false;$$$1(this._element).trigger(slidEvent);}
if(isCycling){this.cycle();}};Carousel._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=_extends({},Default,$$$1(this).data());if(typeof config==='object'){_config=_extends({},_config,config);}
var action=typeof config==='string'?config:_config.slide;if(!data){data=new Carousel(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='number'){data.to(config);}else if(typeof action==='string'){if(typeof data[action]==='undefined'){throw new TypeError("No method named \""+action+"\"");}
data[action]();}else if(_config.interval){data.pause();data.cycle();}});};Carousel._dataApiClickHandler=function _dataApiClickHandler(event){var selector=Util.getSelectorFromElement(this);if(!selector){return;}
var target=$$$1(selector)[0];if(!target||!$$$1(target).hasClass(ClassName.CAROUSEL)){return;}
var config=_extends({},$$$1(target).data(),$$$1(this).data());var slideIndex=this.getAttribute('data-slide-to');if(slideIndex){config.interval=false;}
Carousel._jQueryInterface.call($$$1(target),config);if(slideIndex){$$$1(target).data(DATA_KEY).to(slideIndex);}
event.preventDefault();};_createClass(Carousel,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}}]);return Carousel;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DATA_SLIDE,Carousel._dataApiClickHandler);$$$1(window).on(Event.LOAD_DATA_API,function(){$$$1(Selector.DATA_RIDE).each(function(){var $carousel=$$$1(this);Carousel._jQueryInterface.call($carousel,$carousel.data());});});$$$1.fn[NAME]=Carousel._jQueryInterface;$$$1.fn[NAME].Constructor=Carousel;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Carousel._jQueryInterface;};return Carousel;}($);var Collapse=function($$$1){var NAME='collapse';var VERSION='4.0.0';var DATA_KEY='bs.collapse';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=600;var Default={toggle:true,parent:''};var DefaultType={toggle:'boolean',parent:'(string|element)'};var Event={SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY};var ClassName={SHOW:'show',COLLAPSE:'collapse',COLLAPSING:'collapsing',COLLAPSED:'collapsed'};var Dimension={WIDTH:'width',HEIGHT:'height'};var Selector={ACTIVES:'.show, .collapsing',DATA_TOGGLE:'[data-toggle="collapse"]'};var Collapse=function(){function Collapse(element,config){this._isTransitioning=false;this._element=element;this._config=this._getConfig(config);this._triggerArray=$$$1.makeArray($$$1("[data-toggle=\"collapse\"][href=\"#"+element.id+"\"],"+("[data-toggle=\"collapse\"][data-target=\"#"+element.id+"\"]")));var tabToggles=$$$1(Selector.DATA_TOGGLE);for(var i=0;i<tabToggles.length;i++){var elem=tabToggles[i];var selector=Util.getSelectorFromElement(elem);if(selector!==null&&$$$1(selector).filter(element).length>0){this._selector=selector;this._triggerArray.push(elem);}}
this._parent=this._config.parent?this._getParent():null;if(!this._config.parent){this._addAriaAndCollapsedClass(this._element,this._triggerArray);}
if(this._config.toggle){this.toggle();}}
var _proto=Collapse.prototype;_proto.toggle=function toggle(){if($$$1(this._element).hasClass(ClassName.SHOW)){this.hide();}else{this.show();}};_proto.show=function show(){var _this=this;if(this._isTransitioning||$$$1(this._element).hasClass(ClassName.SHOW)){return;}
var actives;var activesData;if(this._parent){actives=$$$1.makeArray($$$1(this._parent).find(Selector.ACTIVES).filter("[data-parent=\""+this._config.parent+"\"]"));if(actives.length===0){actives=null;}}
if(actives){activesData=$$$1(actives).not(this._selector).data(DATA_KEY);if(activesData&&activesData._isTransitioning){return;}}
var startEvent=$$$1.Event(Event.SHOW);$$$1(this._element).trigger(startEvent);if(startEvent.isDefaultPrevented()){return;}
if(actives){Collapse._jQueryInterface.call($$$1(actives).not(this._selector),'hide');if(!activesData){$$$1(actives).data(DATA_KEY,null);}}
var dimension=this._getDimension();$$$1(this._element).removeClass(ClassName.COLLAPSE).addClass(ClassName.COLLAPSING);this._element.style[dimension]=0;if(this._triggerArray.length>0){$$$1(this._triggerArray).removeClass(ClassName.COLLAPSED).attr('aria-expanded',true);}
this.setTransitioning(true);var complete=function complete(){$$$1(_this._element).removeClass(ClassName.COLLAPSING).addClass(ClassName.COLLAPSE).addClass(ClassName.SHOW);_this._element.style[dimension]='';_this.setTransitioning(false);$$$1(_this._element).trigger(Event.SHOWN);};if(!Util.supportsTransitionEnd()){complete();return;}
var capitalizedDimension=dimension[0].toUpperCase()+dimension.slice(1);var scrollSize="scroll"+capitalizedDimension;$$$1(this._element).one(Util.TRANSITION_END,complete).emulateTransitionEnd(TRANSITION_DURATION);this._element.style[dimension]=this._element[scrollSize]+"px";};_proto.hide=function hide(){var _this2=this;if(this._isTransitioning||!$$$1(this._element).hasClass(ClassName.SHOW)){return;}
var startEvent=$$$1.Event(Event.HIDE);$$$1(this._element).trigger(startEvent);if(startEvent.isDefaultPrevented()){return;}
var dimension=this._getDimension();this._element.style[dimension]=this._element.getBoundingClientRect()[dimension]+"px";Util.reflow(this._element);$$$1(this._element).addClass(ClassName.COLLAPSING).removeClass(ClassName.COLLAPSE).removeClass(ClassName.SHOW);if(this._triggerArray.length>0){for(var i=0;i<this._triggerArray.length;i++){var trigger=this._triggerArray[i];var selector=Util.getSelectorFromElement(trigger);if(selector!==null){var $elem=$$$1(selector);if(!$elem.hasClass(ClassName.SHOW)){$$$1(trigger).addClass(ClassName.COLLAPSED).attr('aria-expanded',false);}}}}
this.setTransitioning(true);var complete=function complete(){_this2.setTransitioning(false);$$$1(_this2._element).removeClass(ClassName.COLLAPSING).addClass(ClassName.COLLAPSE).trigger(Event.HIDDEN);};this._element.style[dimension]='';if(!Util.supportsTransitionEnd()){complete();return;}
$$$1(this._element).one(Util.TRANSITION_END,complete).emulateTransitionEnd(TRANSITION_DURATION);};_proto.setTransitioning=function setTransitioning(isTransitioning){this._isTransitioning=isTransitioning;};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null;};_proto._getConfig=function _getConfig(config){config=_extends({},Default,config);config.toggle=Boolean(config.toggle);Util.typeCheckConfig(NAME,config,DefaultType);return config;};_proto._getDimension=function _getDimension(){var hasWidth=$$$1(this._element).hasClass(Dimension.WIDTH);return hasWidth?Dimension.WIDTH:Dimension.HEIGHT;};_proto._getParent=function _getParent(){var _this3=this;var parent=null;if(Util.isElement(this._config.parent)){parent=this._config.parent;if(typeof this._config.parent.jquery!=='undefined'){parent=this._config.parent[0];}}else{parent=$$$1(this._config.parent)[0];}
var selector="[data-toggle=\"collapse\"][data-parent=\""+this._config.parent+"\"]";$$$1(parent).find(selector).each(function(i,element){_this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element),[element]);});return parent;};_proto._addAriaAndCollapsedClass=function _addAriaAndCollapsedClass(element,triggerArray){if(element){var isOpen=$$$1(element).hasClass(ClassName.SHOW);if(triggerArray.length>0){$$$1(triggerArray).toggleClass(ClassName.COLLAPSED,!isOpen).attr('aria-expanded',isOpen);}}};Collapse._getTargetFromElement=function _getTargetFromElement(element){var selector=Util.getSelectorFromElement(element);return selector?$$$1(selector)[0]:null;};Collapse._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var $this=$$$1(this);var data=$this.data(DATA_KEY);var _config=_extends({},Default,$this.data(),typeof config==='object'&&config);if(!data&&_config.toggle&&/show|hide/.test(config)){_config.toggle=false;}
if(!data){data=new Collapse(this,_config);$this.data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(Collapse,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}}]);return Collapse;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){if(event.currentTarget.tagName==='A'){event.preventDefault();}
var $trigger=$$$1(this);var selector=Util.getSelectorFromElement(this);$$$1(selector).each(function(){var $target=$$$1(this);var data=$target.data(DATA_KEY);var config=data?'toggle':$trigger.data();Collapse._jQueryInterface.call($target,config);});});$$$1.fn[NAME]=Collapse._jQueryInterface;$$$1.fn[NAME].Constructor=Collapse;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Collapse._jQueryInterface;};return Collapse;}($);var isBrowser=typeof window!=='undefined'&&typeof document!=='undefined';var longerTimeoutBrowsers=['Edge','Trident','Firefox'];var timeoutDuration=0;for(var i=0;i<longerTimeoutBrowsers.length;i+=1){if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break;}}
function microtaskDebounce(fn){var called=false;return function(){if(called){return;}
called=true;window.Promise.resolve().then(function(){called=false;fn();});};}
function taskDebounce(fn){var scheduled=false;return function(){if(!scheduled){scheduled=true;setTimeout(function(){scheduled=false;fn();},timeoutDuration);}};}
var supportsMicroTasks=isBrowser&&window.Promise;var debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction(functionToCheck){var getType={};return functionToCheck&&getType.toString.call(functionToCheck)==='[object Function]';}
function getStyleComputedProperty(element,property){if(element.nodeType!==1){return[];}
var css=getComputedStyle(element,null);return property?css[property]:css;}
function getParentNode(element){if(element.nodeName==='HTML'){return element;}
return element.parentNode||element.host;}
function getScrollParent(element){if(!element){return document.body;}
switch(element.nodeName){case'HTML':case'BODY':return element.ownerDocument.body;case'#document':return element.body;}
var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;if(/(auto|scroll)/.test(overflow+overflowY+overflowX)){return element;}
return getScrollParent(getParentNode(element));}
function getOffsetParent(element){var offsetParent=element&&element.offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;if(!nodeName||nodeName==='BODY'||nodeName==='HTML'){if(element){return element.ownerDocument.documentElement;}
return document.documentElement;}
if(['TD','TABLE'].indexOf(offsetParent.nodeName)!==-1&&getStyleComputedProperty(offsetParent,'position')==='static'){return getOffsetParent(offsetParent);}
return offsetParent;}
function isOffsetContainer(element){var nodeName=element.nodeName;if(nodeName==='BODY'){return false;}
return nodeName==='HTML'||getOffsetParent(element.firstElementChild)===element;}
function getRoot(node){if(node.parentNode!==null){return getRoot(node.parentNode);}
return node;}
function findCommonOffsetParent(element1,element2){if(!element1||!element1.nodeType||!element2||!element2.nodeType){return document.documentElement;}
var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING;var start=order?element1:element2;var end=order?element2:element1;var range=document.createRange();range.setStart(start,0);range.setEnd(end,0);var commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end)){if(isOffsetContainer(commonAncestorContainer)){return commonAncestorContainer;}
return getOffsetParent(commonAncestorContainer);}
var element1root=getRoot(element1);if(element1root.host){return findCommonOffsetParent(element1root.host,element2);}else{return findCommonOffsetParent(element1,getRoot(element2).host);}}
function getScroll(element){var side=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'top';var upperSide=side==='top'?'scrollTop':'scrollLeft';var nodeName=element.nodeName;if(nodeName==='BODY'||nodeName==='HTML'){var html=element.ownerDocument.documentElement;var scrollingElement=element.ownerDocument.scrollingElement||html;return scrollingElement[upperSide];}
return element[upperSide];}
function includeScroll(rect,element){var subtract=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var scrollTop=getScroll(element,'top');var scrollLeft=getScroll(element,'left');var modifier=subtract?-1:1;rect.top+=scrollTop*modifier;rect.bottom+=scrollTop*modifier;rect.left+=scrollLeft*modifier;rect.right+=scrollLeft*modifier;return rect;}
function getBordersSize(styles,axis){var sideA=axis==='x'?'Left':'Top';var sideB=sideA==='Left'?'Right':'Bottom';return parseFloat(styles['border'+sideA+'Width'],10)+parseFloat(styles['border'+sideB+'Width'],10);}
var isIE10=undefined;var isIE10$1=function(){if(isIE10===undefined){isIE10=navigator.appVersion.indexOf('MSIE 10')!==-1;}
return isIE10;};function getSize(axis,body,html,computedStyle){return Math.max(body['offset'+axis],body['scroll'+axis],html['client'+axis],html['offset'+axis],html['scroll'+axis],isIE10$1()?html['offset'+axis]+computedStyle['margin'+(axis==='Height'?'Top':'Left')]+computedStyle['margin'+(axis==='Height'?'Bottom':'Right')]:0);}
function getWindowSizes(){var body=document.body;var html=document.documentElement;var computedStyle=isIE10$1()&&getComputedStyle(html);return{height:getSize('Height',body,html,computedStyle),width:getSize('Width',body,html,computedStyle)};}
var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var defineProperty=function(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;};var _extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};function getClientRect(offsets){return _extends$1({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height});}
function getBoundingClientRect(element){var rect={};if(isIE10$1()){try{rect=element.getBoundingClientRect();var scrollTop=getScroll(element,'top');var scrollLeft=getScroll(element,'left');rect.top+=scrollTop;rect.left+=scrollLeft;rect.bottom+=scrollTop;rect.right+=scrollLeft;}catch(err){}}else{rect=element.getBoundingClientRect();}
var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top};var sizes=element.nodeName==='HTML'?getWindowSizes():{};var width=sizes.width||element.clientWidth||result.right-result.left;var height=sizes.height||element.clientHeight||result.bottom-result.top;var horizScrollbar=element.offsetWidth-width;var vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,'x');vertScrollbar-=getBordersSize(styles,'y');result.width-=horizScrollbar;result.height-=vertScrollbar;}
return getClientRect(result);}
function getOffsetRectRelativeToArbitraryNode(children,parent){var isIE10=isIE10$1();var isHTML=parent.nodeName==='HTML';var childrenRect=getBoundingClientRect(children);var parentRect=getBoundingClientRect(parent);var scrollParent=getScrollParent(children);var styles=getStyleComputedProperty(parent);var borderTopWidth=parseFloat(styles.borderTopWidth,10);var borderLeftWidth=parseFloat(styles.borderLeftWidth,10);var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});offsets.marginTop=0;offsets.marginLeft=0;if(!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop,10);var marginLeft=parseFloat(styles.marginLeft,10);offsets.top-=borderTopWidth-marginTop;offsets.bottom-=borderTopWidth-marginTop;offsets.left-=borderLeftWidth-marginLeft;offsets.right-=borderLeftWidth-marginLeft;offsets.marginTop=marginTop;offsets.marginLeft=marginLeft;}
if(isIE10?parent.contains(scrollParent):parent===scrollParent&&scrollParent.nodeName!=='BODY'){offsets=includeScroll(offsets,parent);}
return offsets;}
function getViewportOffsetRectRelativeToArtbitraryNode(element){var html=element.ownerDocument.documentElement;var relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html);var width=Math.max(html.clientWidth,window.innerWidth||0);var height=Math.max(html.clientHeight,window.innerHeight||0);var scrollTop=getScroll(html);var scrollLeft=getScroll(html,'left');var offset={top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width:width,height:height};return getClientRect(offset);}
function isFixed(element){var nodeName=element.nodeName;if(nodeName==='BODY'||nodeName==='HTML'){return false;}
if(getStyleComputedProperty(element,'position')==='fixed'){return true;}
return isFixed(getParentNode(element));}
function getBoundaries(popper,reference,padding,boundariesElement){var boundaries={top:0,left:0};var offsetParent=findCommonOffsetParent(popper,reference);if(boundariesElement==='viewport'){boundaries=getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);}else{var boundariesNode=void 0;if(boundariesElement==='scrollParent'){boundariesNode=getScrollParent(getParentNode(reference));if(boundariesNode.nodeName==='BODY'){boundariesNode=popper.ownerDocument.documentElement;}}else if(boundariesElement==='window'){boundariesNode=popper.ownerDocument.documentElement;}else{boundariesNode=boundariesElement;}
var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent);if(boundariesNode.nodeName==='HTML'&&!isFixed(offsetParent)){var _getWindowSizes=getWindowSizes(),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop;boundaries.bottom=height+offsets.top;boundaries.left+=offsets.left-offsets.marginLeft;boundaries.right=width+offsets.left;}else{boundaries=offsets;}}
boundaries.left+=padding;boundaries.top+=padding;boundaries.right-=padding;boundaries.bottom-=padding;return boundaries;}
function getArea(_ref){var width=_ref.width,height=_ref.height;return width*height;}
function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(placement.indexOf('auto')===-1){return placement;}
var boundaries=getBoundaries(popper,reference,padding,boundariesElement);var rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}};var sortedAreas=Object.keys(rects).map(function(key){return _extends$1({key:key},rects[key],{area:getArea(rects[key])});}).sort(function(a,b){return b.area-a.area;});var filteredAreas=sortedAreas.filter(function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight;});var computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key;var variation=placement.split('-')[1];return computedPlacement+(variation?'-'+variation:'');}
function getReferenceOffsets(state,popper,reference){var commonOffsetParent=findCommonOffsetParent(popper,reference);return getOffsetRectRelativeToArbitraryNode(reference,commonOffsetParent);}
function getOuterSizes(element){var styles=getComputedStyle(element);var x=parseFloat(styles.marginTop)+parseFloat(styles.marginBottom);var y=parseFloat(styles.marginLeft)+parseFloat(styles.marginRight);var result={width:element.offsetWidth+y,height:element.offsetHeight+x};return result;}
function getOppositePlacement(placement){var hash={left:'right',right:'left',bottom:'top',top:'bottom'};return placement.replace(/left|right|bottom|top/g,function(matched){return hash[matched];});}
function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split('-')[0];var popperRect=getOuterSizes(popper);var popperOffsets={width:popperRect.width,height:popperRect.height};var isHoriz=['right','left'].indexOf(placement)!==-1;var mainSide=isHoriz?'top':'left';var secondarySide=isHoriz?'left':'top';var measurement=isHoriz?'height':'width';var secondaryMeasurement=!isHoriz?'height':'width';popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2;if(placement===secondarySide){popperOffsets[secondarySide]=referenceOffsets[secondarySide]-popperRect[secondaryMeasurement];}else{popperOffsets[secondarySide]=referenceOffsets[getOppositePlacement(secondarySide)];}
return popperOffsets;}
function find(arr,check){if(Array.prototype.find){return arr.find(check);}
return arr.filter(check)[0];}
function findIndex(arr,prop,value){if(Array.prototype.findIndex){return arr.findIndex(function(cur){return cur[prop]===value;});}
var match=find(arr,function(obj){return obj[prop]===value;});return arr.indexOf(match);}
function runModifiers(modifiers,data,ends){var modifiersToRun=ends===undefined?modifiers:modifiers.slice(0,findIndex(modifiers,'name',ends));modifiersToRun.forEach(function(modifier){if(modifier['function']){console.warn('`modifier.function` is deprecated, use `modifier.fn`!');}
var fn=modifier['function']||modifier.fn;if(modifier.enabled&&isFunction(fn)){data.offsets.popper=getClientRect(data.offsets.popper);data.offsets.reference=getClientRect(data.offsets.reference);data=fn(data,modifier);}});return data;}
function update(){if(this.state.isDestroyed){return;}
var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:false,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference);data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);data.originalPlacement=data.placement;data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement);data.offsets.popper.position='absolute';data=runModifiers(this.modifiers,data);if(!this.state.isCreated){this.state.isCreated=true;this.options.onCreate(data);}else{this.options.onUpdate(data);}}
function isModifierEnabled(modifiers,modifierName){return modifiers.some(function(_ref){var name=_ref.name,enabled=_ref.enabled;return enabled&&name===modifierName;});}
function getSupportedPropertyName(property){var prefixes=[false,'ms','Webkit','Moz','O'];var upperProp=property.charAt(0).toUpperCase()+property.slice(1);for(var i=0;i<prefixes.length-1;i++){var prefix=prefixes[i];var toCheck=prefix?''+prefix+upperProp:property;if(typeof document.body.style[toCheck]!=='undefined'){return toCheck;}}
return null;}
function destroy(){this.state.isDestroyed=true;if(isModifierEnabled(this.modifiers,'applyStyle')){this.popper.removeAttribute('x-placement');this.popper.style.left='';this.popper.style.position='';this.popper.style.top='';this.popper.style[getSupportedPropertyName('transform')]='';}
this.disableEventListeners();if(this.options.removeOnDestroy){this.popper.parentNode.removeChild(this.popper);}
return this;}
function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window;}
function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody=scrollParent.nodeName==='BODY';var target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:true});if(!isBody){attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents);}
scrollParents.push(target);}
function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound;getWindow(reference).addEventListener('resize',state.updateBound,{passive:true});var scrollElement=getScrollParent(reference);attachToScrollParents(scrollElement,'scroll',state.updateBound,state.scrollParents);state.scrollElement=scrollElement;state.eventsEnabled=true;return state;}
function enableEventListeners(){if(!this.state.eventsEnabled){this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate);}}
function removeEventListeners(reference,state){getWindow(reference).removeEventListener('resize',state.updateBound);state.scrollParents.forEach(function(target){target.removeEventListener('scroll',state.updateBound);});state.updateBound=null;state.scrollParents=[];state.scrollElement=null;state.eventsEnabled=false;return state;}
function disableEventListeners(){if(this.state.eventsEnabled){cancelAnimationFrame(this.scheduleUpdate);this.state=removeEventListeners(this.reference,this.state);}}
function isNumeric(n){return n!==''&&!isNaN(parseFloat(n))&&isFinite(n);}
function setStyles(element,styles){Object.keys(styles).forEach(function(prop){var unit='';if(['width','height','top','right','bottom','left'].indexOf(prop)!==-1&&isNumeric(styles[prop])){unit='px';}
element.style[prop]=styles[prop]+unit;});}
function setAttributes(element,attributes){Object.keys(attributes).forEach(function(prop){var value=attributes[prop];if(value!==false){element.setAttribute(prop,attributes[prop]);}else{element.removeAttribute(prop);}});}
function applyStyle(data){setStyles(data.instance.popper,data.styles);setAttributes(data.instance.popper,data.attributes);if(data.arrowElement&&Object.keys(data.arrowStyles).length){setStyles(data.arrowElement,data.arrowStyles);}
return data;}
function applyStyleOnLoad(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference);var placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);popper.setAttribute('x-placement',placement);setStyles(popper,{position:'absolute'});return options;}
function computeStyle(data,options){var x=options.x,y=options.y;var popper=data.offsets.popper;var legacyGpuAccelerationOption=find(data.instance.modifiers,function(modifier){return modifier.name==='applyStyle';}).gpuAcceleration;if(legacyGpuAccelerationOption!==undefined){console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');}
var gpuAcceleration=legacyGpuAccelerationOption!==undefined?legacyGpuAccelerationOption:options.gpuAcceleration;var offsetParent=getOffsetParent(data.instance.popper);var offsetParentRect=getBoundingClientRect(offsetParent);var styles={position:popper.position};var offsets={left:Math.floor(popper.left),top:Math.floor(popper.top),bottom:Math.floor(popper.bottom),right:Math.floor(popper.right)};var sideA=x==='bottom'?'top':'bottom';var sideB=y==='right'?'left':'right';var prefixedProperty=getSupportedPropertyName('transform');var left=void 0,top=void 0;if(sideA==='bottom'){top=-offsetParentRect.height+offsets.bottom;}else{top=offsets.top;}
if(sideB==='right'){left=-offsetParentRect.width+offsets.right;}else{left=offsets.left;}
if(gpuAcceleration&&prefixedProperty){styles[prefixedProperty]='translate3d('+left+'px, '+top+'px, 0)';styles[sideA]=0;styles[sideB]=0;styles.willChange='transform';}else{var invertTop=sideA==='bottom'?-1:1;var invertLeft=sideB==='right'?-1:1;styles[sideA]=top*invertTop;styles[sideB]=left*invertLeft;styles.willChange=sideA+', '+sideB;}
var attributes={'x-placement':data.placement};data.attributes=_extends$1({},attributes,data.attributes);data.styles=_extends$1({},styles,data.styles);data.arrowStyles=_extends$1({},data.offsets.arrow,data.arrowStyles);return data;}
function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,function(_ref){var name=_ref.name;return name===requestingName;});var isRequired=!!requesting&&modifiers.some(function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order;});if(!isRequired){var _requesting='`'+requestingName+'`';var requested='`'+requestedName+'`';console.warn(requested+' modifier is required by '+_requesting+' modifier in order to work, be sure to include it before '+_requesting+'!');}
return isRequired;}
function arrow(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,'arrow','keepTogether')){return data;}
var arrowElement=options.element;if(typeof arrowElement==='string'){arrowElement=data.instance.popper.querySelector(arrowElement);if(!arrowElement){return data;}}else{if(!data.instance.popper.contains(arrowElement)){console.warn('WARNING: `arrow.element` must be child of its popper element!');return data;}}
var placement=data.placement.split('-')[0];var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var isVertical=['left','right'].indexOf(placement)!==-1;var len=isVertical?'height':'width';var sideCapitalized=isVertical?'Top':'Left';var side=sideCapitalized.toLowerCase();var altSide=isVertical?'left':'top';var opSide=isVertical?'bottom':'right';var arrowElementSize=getOuterSizes(arrowElement)[len];if(reference[opSide]-arrowElementSize<popper[side]){data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize);}
if(reference[side]+arrowElementSize>popper[opSide]){data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide];}
data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2;var css=getStyleComputedProperty(data.instance.popper);var popperMarginSide=parseFloat(css['margin'+sideCapitalized],10);var popperBorderSide=parseFloat(css['border'+sideCapitalized+'Width'],10);var sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0);data.arrowElement=arrowElement;data.offsets.arrow=(_data$offsets$arrow={},defineProperty(_data$offsets$arrow,side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,''),_data$offsets$arrow);return data;}
function getOppositeVariation(variation){if(variation==='end'){return'start';}else if(variation==='start'){return'end';}
return variation;}
var placements=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'];var validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var index=validPlacements.indexOf(placement);var arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr;}
var BEHAVIORS={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'};function flip(data,options){if(isModifierEnabled(data.instance.modifiers,'inner')){return data;}
if(data.flipped&&data.placement===data.originalPlacement){return data;}
var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement);var placement=data.placement.split('-')[0];var placementOpposite=getOppositePlacement(placement);var variation=data.placement.split('-')[1]||'';var flipOrder=[];switch(options.behavior){case BEHAVIORS.FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS.CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS.COUNTERCLOCKWISE:flipOrder=clockwise(placement,true);break;default:flipOrder=options.behavior;}
flipOrder.forEach(function(step,index){if(placement!==step||flipOrder.length===index+1){return data;}
placement=data.placement.split('-')[0];placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper;var refOffsets=data.offsets.reference;var floor=Math.floor;var overlapsRef=placement==='left'&&floor(popperOffsets.right)>floor(refOffsets.left)||placement==='right'&&floor(popperOffsets.left)<floor(refOffsets.right)||placement==='top'&&floor(popperOffsets.bottom)>floor(refOffsets.top)||placement==='bottom'&&floor(popperOffsets.top)<floor(refOffsets.bottom);var overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left);var overflowsRight=floor(popperOffsets.right)>floor(boundaries.right);var overflowsTop=floor(popperOffsets.top)<floor(boundaries.top);var overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom);var overflowsBoundaries=placement==='left'&&overflowsLeft||placement==='right'&&overflowsRight||placement==='top'&&overflowsTop||placement==='bottom'&&overflowsBottom;var isVertical=['top','bottom'].indexOf(placement)!==-1;var flippedVariation=!!options.flipVariations&&(isVertical&&variation==='start'&&overflowsLeft||isVertical&&variation==='end'&&overflowsRight||!isVertical&&variation==='start'&&overflowsTop||!isVertical&&variation==='end'&&overflowsBottom);if(overlapsRef||overflowsBoundaries||flippedVariation){data.flipped=true;if(overlapsRef||overflowsBoundaries){placement=flipOrder[index+1];}
if(flippedVariation){variation=getOppositeVariation(variation);}
data.placement=placement+(variation?'-'+variation:'');data.offsets.popper=_extends$1({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement));data=runModifiers(data.instance.modifiers,data,'flip');}});return data;}
function keepTogether(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var placement=data.placement.split('-')[0];var floor=Math.floor;var isVertical=['top','bottom'].indexOf(placement)!==-1;var side=isVertical?'right':'bottom';var opSide=isVertical?'left':'top';var measurement=isVertical?'width':'height';if(popper[side]<floor(reference[opSide])){data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement];}
if(popper[opSide]>floor(reference[side])){data.offsets.popper[opSide]=floor(reference[side]);}
return data;}
function toValue(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var value=+split[1];var unit=split[2];if(!value){return str;}
if(unit.indexOf('%')===0){var element=void 0;switch(unit){case'%p':element=popperOffsets;break;case'%':case'%r':default:element=referenceOffsets;}
var rect=getClientRect(element);return rect[measurement]/100*value;}else if(unit==='vh'||unit==='vw'){var size=void 0;if(unit==='vh'){size=Math.max(document.documentElement.clientHeight,window.innerHeight||0);}else{size=Math.max(document.documentElement.clientWidth,window.innerWidth||0);}
return size/100*value;}else{return value;}}
function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0];var useHeight=['right','left'].indexOf(basePlacement)!==-1;var fragments=offset.split(/(\+|\-)/).map(function(frag){return frag.trim();});var divider=fragments.indexOf(find(fragments,function(frag){return frag.search(/,|\s/)!==-1;}));if(fragments[divider]&&fragments[divider].indexOf(',')===-1){console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');}
var splitRegex=/\s*,\s*|\s+/;var ops=divider!==-1?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];ops=ops.map(function(op,index){var measurement=(index===1?!useHeight:useHeight)?'height':'width';var mergeWithPrevious=false;return op.reduce(function(a,b){if(a[a.length-1]===''&&['+','-'].indexOf(b)!==-1){a[a.length-1]=b;mergeWithPrevious=true;return a;}else if(mergeWithPrevious){a[a.length-1]+=b;mergeWithPrevious=false;return a;}else{return a.concat(b);}},[]).map(function(str){return toValue(str,measurement,popperOffsets,referenceOffsets);});});ops.forEach(function(op,index){op.forEach(function(frag,index2){if(isNumeric(frag)){offsets[index]+=frag*(op[index2-1]==='-'?-1:1);}});});return offsets;}
function offset(data,_ref){var offset=_ref.offset;var placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var basePlacement=placement.split('-')[0];var offsets=void 0;if(isNumeric(+offset)){offsets=[+offset,0];}else{offsets=parseOffset(offset,popper,reference,basePlacement);}
if(basePlacement==='left'){popper.top+=offsets[0];popper.left-=offsets[1];}else if(basePlacement==='right'){popper.top+=offsets[0];popper.left+=offsets[1];}else if(basePlacement==='top'){popper.left+=offsets[0];popper.top-=offsets[1];}else if(basePlacement==='bottom'){popper.left+=offsets[0];popper.top+=offsets[1];}
data.popper=popper;return data;}
function preventOverflow(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);if(data.instance.reference===boundariesElement){boundariesElement=getOffsetParent(boundariesElement);}
var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement);options.boundaries=boundaries;var order=options.priority;var popper=data.offsets.popper;var check={primary:function primary(placement){var value=popper[placement];if(popper[placement]<boundaries[placement]&&!options.escapeWithReference){value=Math.max(popper[placement],boundaries[placement]);}
return defineProperty({},placement,value);},secondary:function secondary(placement){var mainSide=placement==='right'?'left':'top';var value=popper[mainSide];if(popper[placement]>boundaries[placement]&&!options.escapeWithReference){value=Math.min(popper[mainSide],boundaries[placement]-(placement==='right'?popper.width:popper.height));}
return defineProperty({},mainSide,value);}};order.forEach(function(placement){var side=['left','top'].indexOf(placement)!==-1?'primary':'secondary';popper=_extends$1({},popper,check[side](placement));});data.offsets.popper=popper;return data;}
function shift(data){var placement=data.placement;var basePlacement=placement.split('-')[0];var shiftvariation=placement.split('-')[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper;var isVertical=['bottom','top'].indexOf(basePlacement)!==-1;var side=isVertical?'left':'top';var measurement=isVertical?'width':'height';var shiftOffsets={start:defineProperty({},side,reference[side]),end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends$1({},popper,shiftOffsets[shiftvariation]);}
return data;}
function hide(data){if(!isModifierRequired(data.instance.modifiers,'hide','preventOverflow')){return data;}
var refRect=data.offsets.reference;var bound=find(data.instance.modifiers,function(modifier){return modifier.name==='preventOverflow';}).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(data.hide===true){return data;}
data.hide=true;data.attributes['x-out-of-boundaries']='';}else{if(data.hide===false){return data;}
data.hide=false;data.attributes['x-out-of-boundaries']=false;}
return data;}
function inner(data){var placement=data.placement;var basePlacement=placement.split('-')[0];var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var isHoriz=['left','right'].indexOf(basePlacement)!==-1;var subtractLength=['top','left'].indexOf(basePlacement)===-1;popper[isHoriz?'left':'top']=reference[basePlacement]-(subtractLength?popper[isHoriz?'width':'height']:0);data.placement=getOppositePlacement(placement);data.offsets.popper=getClientRect(popper);return data;}
var modifiers={shift:{order:100,enabled:true,fn:shift},offset:{order:200,enabled:true,fn:offset,offset:0},preventOverflow:{order:300,enabled:true,fn:preventOverflow,priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:true,fn:keepTogether},arrow:{order:500,enabled:true,fn:arrow,element:'[x-arrow]'},flip:{order:600,enabled:true,fn:flip,behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:false,fn:inner},hide:{order:800,enabled:true,fn:hide},computeStyle:{order:850,enabled:true,fn:computeStyle,gpuAcceleration:true,x:'bottom',y:'right'},applyStyle:{order:900,enabled:true,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:undefined}};var Defaults={placement:'bottom',eventsEnabled:true,removeOnDestroy:false,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:modifiers};var Popper=function(){function Popper(reference,popper){var _this=this;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};classCallCheck(this,Popper);this.scheduleUpdate=function(){return requestAnimationFrame(_this.update);};this.update=debounce(this.update.bind(this));this.options=_extends$1({},Popper.Defaults,options);this.state={isDestroyed:false,isCreated:false,scrollParents:[]};this.reference=reference&&reference.jquery?reference[0]:reference;this.popper=popper&&popper.jquery?popper[0]:popper;this.options.modifiers={};Object.keys(_extends$1({},Popper.Defaults.modifiers,options.modifiers)).forEach(function(name){_this.options.modifiers[name]=_extends$1({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{});});this.modifiers=Object.keys(this.options.modifiers).map(function(name){return _extends$1({name:name},_this.options.modifiers[name]);}).sort(function(a,b){return a.order-b.order;});this.modifiers.forEach(function(modifierOptions){if(modifierOptions.enabled&&isFunction(modifierOptions.onLoad)){modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state);}});this.update();var eventsEnabled=this.options.eventsEnabled;if(eventsEnabled){this.enableEventListeners();}
this.state.eventsEnabled=eventsEnabled;}
createClass(Popper,[{key:'update',value:function update$$1(){return update.call(this);}},{key:'destroy',value:function destroy$$1(){return destroy.call(this);}},{key:'enableEventListeners',value:function enableEventListeners$$1(){return enableEventListeners.call(this);}},{key:'disableEventListeners',value:function disableEventListeners$$1(){return disableEventListeners.call(this);}}]);return Popper;}();Popper.Utils=(typeof window!=='undefined'?window:global).PopperUtils;Popper.placements=placements;Popper.Defaults=Defaults;var Dropdown=function($$$1){var NAME='dropdown';var VERSION='4.0.0';var DATA_KEY='bs.dropdown';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var ESCAPE_KEYCODE=27;var SPACE_KEYCODE=32;var TAB_KEYCODE=9;var ARROW_UP_KEYCODE=38;var ARROW_DOWN_KEYCODE=40;var RIGHT_MOUSE_BUTTON_WHICH=3;var REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE);var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,CLICK:"click"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY,KEYDOWN_DATA_API:"keydown"+EVENT_KEY+DATA_API_KEY,KEYUP_DATA_API:"keyup"+EVENT_KEY+DATA_API_KEY};var ClassName={DISABLED:'disabled',SHOW:'show',DROPUP:'dropup',DROPRIGHT:'dropright',DROPLEFT:'dropleft',MENURIGHT:'dropdown-menu-right',MENULEFT:'dropdown-menu-left',POSITION_STATIC:'position-static'};var Selector={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:'.dropdown form',MENU:'.dropdown-menu',NAVBAR_NAV:'.navbar-nav',VISIBLE_ITEMS:'.dropdown-menu .dropdown-item:not(.disabled)'};var AttachmentMap={TOP:'top-start',TOPEND:'top-end',BOTTOM:'bottom-start',BOTTOMEND:'bottom-end',RIGHT:'right-start',RIGHTEND:'right-end',LEFT:'left-start',LEFTEND:'left-end'};var Default={offset:0,flip:true,boundary:'scrollParent'};var DefaultType={offset:'(number|string|function)',flip:'boolean',boundary:'(string|element)'};var Dropdown=function(){function Dropdown(element,config){this._element=element;this._popper=null;this._config=this._getConfig(config);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners();}
var _proto=Dropdown.prototype;_proto.toggle=function toggle(){if(this._element.disabled||$$$1(this._element).hasClass(ClassName.DISABLED)){return;}
var parent=Dropdown._getParentFromElement(this._element);var isActive=$$$1(this._menu).hasClass(ClassName.SHOW);Dropdown._clearMenus();if(isActive){return;}
var relatedTarget={relatedTarget:this._element};var showEvent=$$$1.Event(Event.SHOW,relatedTarget);$$$1(parent).trigger(showEvent);if(showEvent.isDefaultPrevented()){return;}
if(!this._inNavbar){if(typeof Popper==='undefined'){throw new TypeError('Bootstrap dropdown require Popper.js (https://popper.js.org)');}
var element=this._element;if($$$1(parent).hasClass(ClassName.DROPUP)){if($$$1(this._menu).hasClass(ClassName.MENULEFT)||$$$1(this._menu).hasClass(ClassName.MENURIGHT)){element=parent;}}
if(this._config.boundary!=='scrollParent'){$$$1(parent).addClass(ClassName.POSITION_STATIC);}
this._popper=new Popper(element,this._menu,this._getPopperConfig());}
if('ontouchstart'in document.documentElement&&$$$1(parent).closest(Selector.NAVBAR_NAV).length===0){$$$1('body').children().on('mouseover',null,$$$1.noop);}
this._element.focus();this._element.setAttribute('aria-expanded',true);$$$1(this._menu).toggleClass(ClassName.SHOW);$$$1(parent).toggleClass(ClassName.SHOW).trigger($$$1.Event(Event.SHOWN,relatedTarget));};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);$$$1(this._element).off(EVENT_KEY);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null;}};_proto.update=function update(){this._inNavbar=this._detectNavbar();if(this._popper!==null){this._popper.scheduleUpdate();}};_proto._addEventListeners=function _addEventListeners(){var _this=this;$$$1(this._element).on(Event.CLICK,function(event){event.preventDefault();event.stopPropagation();_this.toggle();});};_proto._getConfig=function _getConfig(config){config=_extends({},this.constructor.Default,$$$1(this._element).data(),config);Util.typeCheckConfig(NAME,config,this.constructor.DefaultType);return config;};_proto._getMenuElement=function _getMenuElement(){if(!this._menu){var parent=Dropdown._getParentFromElement(this._element);this._menu=$$$1(parent).find(Selector.MENU)[0];}
return this._menu;};_proto._getPlacement=function _getPlacement(){var $parentDropdown=$$$1(this._element).parent();var placement=AttachmentMap.BOTTOM;if($parentDropdown.hasClass(ClassName.DROPUP)){placement=AttachmentMap.TOP;if($$$1(this._menu).hasClass(ClassName.MENURIGHT)){placement=AttachmentMap.TOPEND;}}else if($parentDropdown.hasClass(ClassName.DROPRIGHT)){placement=AttachmentMap.RIGHT;}else if($parentDropdown.hasClass(ClassName.DROPLEFT)){placement=AttachmentMap.LEFT;}else if($$$1(this._menu).hasClass(ClassName.MENURIGHT)){placement=AttachmentMap.BOTTOMEND;}
return placement;};_proto._detectNavbar=function _detectNavbar(){return $$$1(this._element).closest('.navbar').length>0;};_proto._getPopperConfig=function _getPopperConfig(){var _this2=this;var offsetConf={};if(typeof this._config.offset==='function'){offsetConf.fn=function(data){data.offsets=_extends({},data.offsets,_this2._config.offset(data.offsets)||{});return data;};}else{offsetConf.offset=this._config.offset;}
var popperConfig={placement:this._getPlacement(),modifiers:{offset:offsetConf,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return popperConfig;};Dropdown._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=typeof config==='object'?config:null;if(!data){data=new Dropdown(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};Dropdown._clearMenus=function _clearMenus(event){if(event&&(event.which===RIGHT_MOUSE_BUTTON_WHICH||event.type==='keyup'&&event.which!==TAB_KEYCODE)){return;}
var toggles=$$$1.makeArray($$$1(Selector.DATA_TOGGLE));for(var i=0;i<toggles.length;i++){var parent=Dropdown._getParentFromElement(toggles[i]);var context=$$$1(toggles[i]).data(DATA_KEY);var relatedTarget={relatedTarget:toggles[i]};if(!context){continue;}
var dropdownMenu=context._menu;if(!$$$1(parent).hasClass(ClassName.SHOW)){continue;}
if(event&&(event.type==='click'&&/input|textarea/i.test(event.target.tagName)||event.type==='keyup'&&event.which===TAB_KEYCODE)&&$$$1.contains(parent,event.target)){continue;}
var hideEvent=$$$1.Event(Event.HIDE,relatedTarget);$$$1(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){continue;}
if('ontouchstart'in document.documentElement){$$$1('body').children().off('mouseover',null,$$$1.noop);}
toggles[i].setAttribute('aria-expanded','false');$$$1(dropdownMenu).removeClass(ClassName.SHOW);$$$1(parent).removeClass(ClassName.SHOW).trigger($$$1.Event(Event.HIDDEN,relatedTarget));}};Dropdown._getParentFromElement=function _getParentFromElement(element){var parent;var selector=Util.getSelectorFromElement(element);if(selector){parent=$$$1(selector)[0];}
return parent||element.parentNode;};Dropdown._dataApiKeydownHandler=function _dataApiKeydownHandler(event){if(/input|textarea/i.test(event.target.tagName)?event.which===SPACE_KEYCODE||event.which!==ESCAPE_KEYCODE&&(event.which!==ARROW_DOWN_KEYCODE&&event.which!==ARROW_UP_KEYCODE||$$$1(event.target).closest(Selector.MENU).length):!REGEXP_KEYDOWN.test(event.which)){return;}
event.preventDefault();event.stopPropagation();if(this.disabled||$$$1(this).hasClass(ClassName.DISABLED)){return;}
var parent=Dropdown._getParentFromElement(this);var isActive=$$$1(parent).hasClass(ClassName.SHOW);if(!isActive&&(event.which!==ESCAPE_KEYCODE||event.which!==SPACE_KEYCODE)||isActive&&(event.which===ESCAPE_KEYCODE||event.which===SPACE_KEYCODE)){if(event.which===ESCAPE_KEYCODE){var toggle=$$$1(parent).find(Selector.DATA_TOGGLE)[0];$$$1(toggle).trigger('focus');}
$$$1(this).trigger('click');return;}
var items=$$$1(parent).find(Selector.VISIBLE_ITEMS).get();if(items.length===0){return;}
var index=items.indexOf(event.target);if(event.which===ARROW_UP_KEYCODE&&index>0){index--;}
if(event.which===ARROW_DOWN_KEYCODE&&index<items.length-1){index++;}
if(index<0){index=0;}
items[index].focus();};_createClass(Dropdown,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}},{key:"DefaultType",get:function get(){return DefaultType;}}]);return Dropdown;}();$$$1(document).on(Event.KEYDOWN_DATA_API,Selector.DATA_TOGGLE,Dropdown._dataApiKeydownHandler).on(Event.KEYDOWN_DATA_API,Selector.MENU,Dropdown._dataApiKeydownHandler).on(Event.CLICK_DATA_API+" "+Event.KEYUP_DATA_API,Dropdown._clearMenus).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){event.preventDefault();event.stopPropagation();Dropdown._jQueryInterface.call($$$1(this),'toggle');}).on(Event.CLICK_DATA_API,Selector.FORM_CHILD,function(e){e.stopPropagation();});$$$1.fn[NAME]=Dropdown._jQueryInterface;$$$1.fn[NAME].Constructor=Dropdown;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Dropdown._jQueryInterface;};return Dropdown;}($,Popper);var Modal=function($$$1){var NAME='modal';var VERSION='4.0.0';var DATA_KEY='bs.modal';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=300;var BACKDROP_TRANSITION_DURATION=150;var ESCAPE_KEYCODE=27;var Default={backdrop:true,keyboard:true,focus:true,show:true};var DefaultType={backdrop:'(boolean|string)',keyboard:'boolean',focus:'boolean',show:'boolean'};var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,FOCUSIN:"focusin"+EVENT_KEY,RESIZE:"resize"+EVENT_KEY,CLICK_DISMISS:"click.dismiss"+EVENT_KEY,KEYDOWN_DISMISS:"keydown.dismiss"+EVENT_KEY,MOUSEUP_DISMISS:"mouseup.dismiss"+EVENT_KEY,MOUSEDOWN_DISMISS:"mousedown.dismiss"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY};var ClassName={SCROLLBAR_MEASURER:'modal-scrollbar-measure',BACKDROP:'modal-backdrop',OPEN:'modal-open',FADE:'fade',SHOW:'show'};var Selector={DIALOG:'.modal-dialog',DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:'.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',STICKY_CONTENT:'.sticky-top',NAVBAR_TOGGLER:'.navbar-toggler'};var Modal=function(){function Modal(element,config){this._config=this._getConfig(config);this._element=element;this._dialog=$$$1(element).find(Selector.DIALOG)[0];this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._originalBodyPadding=0;this._scrollbarWidth=0;}
var _proto=Modal.prototype;_proto.toggle=function toggle(relatedTarget){return this._isShown?this.hide():this.show(relatedTarget);};_proto.show=function show(relatedTarget){var _this=this;if(this._isTransitioning||this._isShown){return;}
if(Util.supportsTransitionEnd()&&$$$1(this._element).hasClass(ClassName.FADE)){this._isTransitioning=true;}
var showEvent=$$$1.Event(Event.SHOW,{relatedTarget:relatedTarget});$$$1(this._element).trigger(showEvent);if(this._isShown||showEvent.isDefaultPrevented()){return;}
this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();$$$1(document.body).addClass(ClassName.OPEN);this._setEscapeEvent();this._setResizeEvent();$$$1(this._element).on(Event.CLICK_DISMISS,Selector.DATA_DISMISS,function(event){return _this.hide(event);});$$$1(this._dialog).on(Event.MOUSEDOWN_DISMISS,function(){$$$1(_this._element).one(Event.MOUSEUP_DISMISS,function(event){if($$$1(event.target).is(_this._element)){_this._ignoreBackdropClick=true;}});});this._showBackdrop(function(){return _this._showElement(relatedTarget);});};_proto.hide=function hide(event){var _this2=this;if(event){event.preventDefault();}
if(this._isTransitioning||!this._isShown){return;}
var hideEvent=$$$1.Event(Event.HIDE);$$$1(this._element).trigger(hideEvent);if(!this._isShown||hideEvent.isDefaultPrevented()){return;}
this._isShown=false;var transition=Util.supportsTransitionEnd()&&$$$1(this._element).hasClass(ClassName.FADE);if(transition){this._isTransitioning=true;}
this._setEscapeEvent();this._setResizeEvent();$$$1(document).off(Event.FOCUSIN);$$$1(this._element).removeClass(ClassName.SHOW);$$$1(this._element).off(Event.CLICK_DISMISS);$$$1(this._dialog).off(Event.MOUSEDOWN_DISMISS);if(transition){$$$1(this._element).one(Util.TRANSITION_END,function(event){return _this2._hideModal(event);}).emulateTransitionEnd(TRANSITION_DURATION);}else{this._hideModal();}};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);$$$1(window,document,this._element,this._backdrop).off(EVENT_KEY);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null;};_proto.handleUpdate=function handleUpdate(){this._adjustDialog();};_proto._getConfig=function _getConfig(config){config=_extends({},Default,config);Util.typeCheckConfig(NAME,config,DefaultType);return config;};_proto._showElement=function _showElement(relatedTarget){var _this3=this;var transition=Util.supportsTransitionEnd()&&$$$1(this._element).hasClass(ClassName.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element);}
this._element.style.display='block';this._element.removeAttribute('aria-hidden');this._element.scrollTop=0;if(transition){Util.reflow(this._element);}
$$$1(this._element).addClass(ClassName.SHOW);if(this._config.focus){this._enforceFocus();}
var shownEvent=$$$1.Event(Event.SHOWN,{relatedTarget:relatedTarget});var transitionComplete=function transitionComplete(){if(_this3._config.focus){_this3._element.focus();}
_this3._isTransitioning=false;$$$1(_this3._element).trigger(shownEvent);};if(transition){$$$1(this._dialog).one(Util.TRANSITION_END,transitionComplete).emulateTransitionEnd(TRANSITION_DURATION);}else{transitionComplete();}};_proto._enforceFocus=function _enforceFocus(){var _this4=this;$$$1(document).off(Event.FOCUSIN).on(Event.FOCUSIN,function(event){if(document!==event.target&&_this4._element!==event.target&&$$$1(_this4._element).has(event.target).length===0){_this4._element.focus();}});};_proto._setEscapeEvent=function _setEscapeEvent(){var _this5=this;if(this._isShown&&this._config.keyboard){$$$1(this._element).on(Event.KEYDOWN_DISMISS,function(event){if(event.which===ESCAPE_KEYCODE){event.preventDefault();_this5.hide();}});}else if(!this._isShown){$$$1(this._element).off(Event.KEYDOWN_DISMISS);}};_proto._setResizeEvent=function _setResizeEvent(){var _this6=this;if(this._isShown){$$$1(window).on(Event.RESIZE,function(event){return _this6.handleUpdate(event);});}else{$$$1(window).off(Event.RESIZE);}};_proto._hideModal=function _hideModal(){var _this7=this;this._element.style.display='none';this._element.setAttribute('aria-hidden',true);this._isTransitioning=false;this._showBackdrop(function(){$$$1(document.body).removeClass(ClassName.OPEN);_this7._resetAdjustments();_this7._resetScrollbar();$$$1(_this7._element).trigger(Event.HIDDEN);});};_proto._removeBackdrop=function _removeBackdrop(){if(this._backdrop){$$$1(this._backdrop).remove();this._backdrop=null;}};_proto._showBackdrop=function _showBackdrop(callback){var _this8=this;var animate=$$$1(this._element).hasClass(ClassName.FADE)?ClassName.FADE:'';if(this._isShown&&this._config.backdrop){var doAnimate=Util.supportsTransitionEnd()&&animate;this._backdrop=document.createElement('div');this._backdrop.className=ClassName.BACKDROP;if(animate){$$$1(this._backdrop).addClass(animate);}
$$$1(this._backdrop).appendTo(document.body);$$$1(this._element).on(Event.CLICK_DISMISS,function(event){if(_this8._ignoreBackdropClick){_this8._ignoreBackdropClick=false;return;}
if(event.target!==event.currentTarget){return;}
if(_this8._config.backdrop==='static'){_this8._element.focus();}else{_this8.hide();}});if(doAnimate){Util.reflow(this._backdrop);}
$$$1(this._backdrop).addClass(ClassName.SHOW);if(!callback){return;}
if(!doAnimate){callback();return;}
$$$1(this._backdrop).one(Util.TRANSITION_END,callback).emulateTransitionEnd(BACKDROP_TRANSITION_DURATION);}else if(!this._isShown&&this._backdrop){$$$1(this._backdrop).removeClass(ClassName.SHOW);var callbackRemove=function callbackRemove(){_this8._removeBackdrop();if(callback){callback();}};if(Util.supportsTransitionEnd()&&$$$1(this._element).hasClass(ClassName.FADE)){$$$1(this._backdrop).one(Util.TRANSITION_END,callbackRemove).emulateTransitionEnd(BACKDROP_TRANSITION_DURATION);}else{callbackRemove();}}else if(callback){callback();}};_proto._adjustDialog=function _adjustDialog(){var isModalOverflowing=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&isModalOverflowing){this._element.style.paddingLeft=this._scrollbarWidth+"px";}
if(this._isBodyOverflowing&&!isModalOverflowing){this._element.style.paddingRight=this._scrollbarWidth+"px";}};_proto._resetAdjustments=function _resetAdjustments(){this._element.style.paddingLeft='';this._element.style.paddingRight='';};_proto._checkScrollbar=function _checkScrollbar(){var rect=document.body.getBoundingClientRect();this._isBodyOverflowing=rect.left+rect.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth();};_proto._setScrollbar=function _setScrollbar(){var _this9=this;if(this._isBodyOverflowing){$$$1(Selector.FIXED_CONTENT).each(function(index,element){var actualPadding=$$$1(element)[0].style.paddingRight;var calculatedPadding=$$$1(element).css('padding-right');$$$1(element).data('padding-right',actualPadding).css('padding-right',parseFloat(calculatedPadding)+_this9._scrollbarWidth+"px");});$$$1(Selector.STICKY_CONTENT).each(function(index,element){var actualMargin=$$$1(element)[0].style.marginRight;var calculatedMargin=$$$1(element).css('margin-right');$$$1(element).data('margin-right',actualMargin).css('margin-right',parseFloat(calculatedMargin)-_this9._scrollbarWidth+"px");});$$$1(Selector.NAVBAR_TOGGLER).each(function(index,element){var actualMargin=$$$1(element)[0].style.marginRight;var calculatedMargin=$$$1(element).css('margin-right');$$$1(element).data('margin-right',actualMargin).css('margin-right',parseFloat(calculatedMargin)+_this9._scrollbarWidth+"px");});var actualPadding=document.body.style.paddingRight;var calculatedPadding=$$$1('body').css('padding-right');$$$1('body').data('padding-right',actualPadding).css('padding-right',parseFloat(calculatedPadding)+this._scrollbarWidth+"px");}};_proto._resetScrollbar=function _resetScrollbar(){$$$1(Selector.FIXED_CONTENT).each(function(index,element){var padding=$$$1(element).data('padding-right');if(typeof padding!=='undefined'){$$$1(element).css('padding-right',padding).removeData('padding-right');}});$$$1(Selector.STICKY_CONTENT+", "+Selector.NAVBAR_TOGGLER).each(function(index,element){var margin=$$$1(element).data('margin-right');if(typeof margin!=='undefined'){$$$1(element).css('margin-right',margin).removeData('margin-right');}});var padding=$$$1('body').data('padding-right');if(typeof padding!=='undefined'){$$$1('body').css('padding-right',padding).removeData('padding-right');}};_proto._getScrollbarWidth=function _getScrollbarWidth(){var scrollDiv=document.createElement('div');scrollDiv.className=ClassName.SCROLLBAR_MEASURER;document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.getBoundingClientRect().width-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth;};Modal._jQueryInterface=function _jQueryInterface(config,relatedTarget){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=_extends({},Modal.Default,$$$1(this).data(),typeof config==='object'&&config);if(!data){data=new Modal(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config](relatedTarget);}else if(_config.show){data.show(relatedTarget);}});};_createClass(Modal,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}}]);return Modal;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){var _this10=this;var target;var selector=Util.getSelectorFromElement(this);if(selector){target=$$$1(selector)[0];}
var config=$$$1(target).data(DATA_KEY)?'toggle':_extends({},$$$1(target).data(),$$$1(this).data());if(this.tagName==='A'||this.tagName==='AREA'){event.preventDefault();}
var $target=$$$1(target).one(Event.SHOW,function(showEvent){if(showEvent.isDefaultPrevented()){return;}
$target.one(Event.HIDDEN,function(){if($$$1(_this10).is(':visible')){_this10.focus();}});});Modal._jQueryInterface.call($$$1(target),config,this);});$$$1.fn[NAME]=Modal._jQueryInterface;$$$1.fn[NAME].Constructor=Modal;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Modal._jQueryInterface;};return Modal;}($);var Tooltip=function($$$1){var NAME='tooltip';var VERSION='4.0.0';var DATA_KEY='bs.tooltip';var EVENT_KEY="."+DATA_KEY;var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=150;var CLASS_PREFIX='bs-tooltip';var BSCLS_PREFIX_REGEX=new RegExp("(^|\\s)"+CLASS_PREFIX+"\\S+",'g');var DefaultType={animation:'boolean',template:'string',title:'(string|element|function)',trigger:'string',delay:'(number|object)',html:'boolean',selector:'(string|boolean)',placement:'(string|function)',offset:'(number|string)',container:'(string|element|boolean)',fallbackPlacement:'(string|array)',boundary:'(string|element)'};var AttachmentMap={AUTO:'auto',TOP:'top',RIGHT:'right',BOTTOM:'bottom',LEFT:'left'};var Default={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,selector:false,placement:'top',offset:0,container:false,fallbackPlacement:'flip',boundary:'scrollParent'};var HoverState={SHOW:'show',OUT:'out'};var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,INSERTED:"inserted"+EVENT_KEY,CLICK:"click"+EVENT_KEY,FOCUSIN:"focusin"+EVENT_KEY,FOCUSOUT:"focusout"+EVENT_KEY,MOUSEENTER:"mouseenter"+EVENT_KEY,MOUSELEAVE:"mouseleave"+EVENT_KEY};var ClassName={FADE:'fade',SHOW:'show'};var Selector={TOOLTIP:'.tooltip',TOOLTIP_INNER:'.tooltip-inner',ARROW:'.arrow'};var Trigger={HOVER:'hover',FOCUS:'focus',CLICK:'click',MANUAL:'manual'};var Tooltip=function(){function Tooltip(element,config){if(typeof Popper==='undefined'){throw new TypeError('Bootstrap tooltips require Popper.js (https://popper.js.org)');}
this._isEnabled=true;this._timeout=0;this._hoverState='';this._activeTrigger={};this._popper=null;this.element=element;this.config=this._getConfig(config);this.tip=null;this._setListeners();}
var _proto=Tooltip.prototype;_proto.enable=function enable(){this._isEnabled=true;};_proto.disable=function disable(){this._isEnabled=false;};_proto.toggleEnabled=function toggleEnabled(){this._isEnabled=!this._isEnabled;};_proto.toggle=function toggle(event){if(!this._isEnabled){return;}
if(event){var dataKey=this.constructor.DATA_KEY;var context=$$$1(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$$$1(event.currentTarget).data(dataKey,context);}
context._activeTrigger.click=!context._activeTrigger.click;if(context._isWithActiveTrigger()){context._enter(null,context);}else{context._leave(null,context);}}else{if($$$1(this.getTipElement()).hasClass(ClassName.SHOW)){this._leave(null,this);return;}
this._enter(null,this);}};_proto.dispose=function dispose(){clearTimeout(this._timeout);$$$1.removeData(this.element,this.constructor.DATA_KEY);$$$1(this.element).off(this.constructor.EVENT_KEY);$$$1(this.element).closest('.modal').off('hide.bs.modal');if(this.tip){$$$1(this.tip).remove();}
this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper!==null){this._popper.destroy();}
this._popper=null;this.element=null;this.config=null;this.tip=null;};_proto.show=function show(){var _this=this;if($$$1(this.element).css('display')==='none'){throw new Error('Please use show on visible elements');}
var showEvent=$$$1.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){$$$1(this.element).trigger(showEvent);var isInTheDom=$$$1.contains(this.element.ownerDocument.documentElement,this.element);if(showEvent.isDefaultPrevented()||!isInTheDom){return;}
var tip=this.getTipElement();var tipId=Util.getUID(this.constructor.NAME);tip.setAttribute('id',tipId);this.element.setAttribute('aria-describedby',tipId);this.setContent();if(this.config.animation){$$$1(tip).addClass(ClassName.FADE);}
var placement=typeof this.config.placement==='function'?this.config.placement.call(this,tip,this.element):this.config.placement;var attachment=this._getAttachment(placement);this.addAttachmentClass(attachment);var container=this.config.container===false?document.body:$$$1(this.config.container);$$$1(tip).data(this.constructor.DATA_KEY,this);if(!$$$1.contains(this.element.ownerDocument.documentElement,this.tip)){$$$1(tip).appendTo(container);}
$$$1(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new Popper(this.element,tip,{placement:attachment,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:Selector.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function onCreate(data){if(data.originalPlacement!==data.placement){_this._handlePopperPlacementChange(data);}},onUpdate:function onUpdate(data){_this._handlePopperPlacementChange(data);}});$$$1(tip).addClass(ClassName.SHOW);if('ontouchstart'in document.documentElement){$$$1('body').children().on('mouseover',null,$$$1.noop);}
var complete=function complete(){if(_this.config.animation){_this._fixTransition();}
var prevHoverState=_this._hoverState;_this._hoverState=null;$$$1(_this.element).trigger(_this.constructor.Event.SHOWN);if(prevHoverState===HoverState.OUT){_this._leave(null,_this);}};if(Util.supportsTransitionEnd()&&$$$1(this.tip).hasClass(ClassName.FADE)){$$$1(this.tip).one(Util.TRANSITION_END,complete).emulateTransitionEnd(Tooltip._TRANSITION_DURATION);}else{complete();}}};_proto.hide=function hide(callback){var _this2=this;var tip=this.getTipElement();var hideEvent=$$$1.Event(this.constructor.Event.HIDE);var complete=function complete(){if(_this2._hoverState!==HoverState.SHOW&&tip.parentNode){tip.parentNode.removeChild(tip);}
_this2._cleanTipClass();_this2.element.removeAttribute('aria-describedby');$$$1(_this2.element).trigger(_this2.constructor.Event.HIDDEN);if(_this2._popper!==null){_this2._popper.destroy();}
if(callback){callback();}};$$$1(this.element).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return;}
$$$1(tip).removeClass(ClassName.SHOW);if('ontouchstart'in document.documentElement){$$$1('body').children().off('mouseover',null,$$$1.noop);}
this._activeTrigger[Trigger.CLICK]=false;this._activeTrigger[Trigger.FOCUS]=false;this._activeTrigger[Trigger.HOVER]=false;if(Util.supportsTransitionEnd()&&$$$1(this.tip).hasClass(ClassName.FADE)){$$$1(tip).one(Util.TRANSITION_END,complete).emulateTransitionEnd(TRANSITION_DURATION);}else{complete();}
this._hoverState='';};_proto.update=function update(){if(this._popper!==null){this._popper.scheduleUpdate();}};_proto.isWithContent=function isWithContent(){return Boolean(this.getTitle());};_proto.addAttachmentClass=function addAttachmentClass(attachment){$$$1(this.getTipElement()).addClass(CLASS_PREFIX+"-"+attachment);};_proto.getTipElement=function getTipElement(){this.tip=this.tip||$$$1(this.config.template)[0];return this.tip;};_proto.setContent=function setContent(){var $tip=$$$1(this.getTipElement());this.setElementContent($tip.find(Selector.TOOLTIP_INNER),this.getTitle());$tip.removeClass(ClassName.FADE+" "+ClassName.SHOW);};_proto.setElementContent=function setElementContent($element,content){var html=this.config.html;if(typeof content==='object'&&(content.nodeType||content.jquery)){if(html){if(!$$$1(content).parent().is($element)){$element.empty().append(content);}}else{$element.text($$$1(content).text());}}else{$element[html?'html':'text'](content);}};_proto.getTitle=function getTitle(){var title=this.element.getAttribute('data-original-title');if(!title){title=typeof this.config.title==='function'?this.config.title.call(this.element):this.config.title;}
return title;};_proto._getAttachment=function _getAttachment(placement){return AttachmentMap[placement.toUpperCase()];};_proto._setListeners=function _setListeners(){var _this3=this;var triggers=this.config.trigger.split(' ');triggers.forEach(function(trigger){if(trigger==='click'){$$$1(_this3.element).on(_this3.constructor.Event.CLICK,_this3.config.selector,function(event){return _this3.toggle(event);});}else if(trigger!==Trigger.MANUAL){var eventIn=trigger===Trigger.HOVER?_this3.constructor.Event.MOUSEENTER:_this3.constructor.Event.FOCUSIN;var eventOut=trigger===Trigger.HOVER?_this3.constructor.Event.MOUSELEAVE:_this3.constructor.Event.FOCUSOUT;$$$1(_this3.element).on(eventIn,_this3.config.selector,function(event){return _this3._enter(event);}).on(eventOut,_this3.config.selector,function(event){return _this3._leave(event);});}
$$$1(_this3.element).closest('.modal').on('hide.bs.modal',function(){return _this3.hide();});});if(this.config.selector){this.config=_extends({},this.config,{trigger:'manual',selector:''});}else{this._fixTitle();}};_proto._fixTitle=function _fixTitle(){var titleType=typeof this.element.getAttribute('data-original-title');if(this.element.getAttribute('title')||titleType!=='string'){this.element.setAttribute('data-original-title',this.element.getAttribute('title')||'');this.element.setAttribute('title','');}};_proto._enter=function _enter(event,context){var dataKey=this.constructor.DATA_KEY;context=context||$$$1(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$$$1(event.currentTarget).data(dataKey,context);}
if(event){context._activeTrigger[event.type==='focusin'?Trigger.FOCUS:Trigger.HOVER]=true;}
if($$$1(context.getTipElement()).hasClass(ClassName.SHOW)||context._hoverState===HoverState.SHOW){context._hoverState=HoverState.SHOW;return;}
clearTimeout(context._timeout);context._hoverState=HoverState.SHOW;if(!context.config.delay||!context.config.delay.show){context.show();return;}
context._timeout=setTimeout(function(){if(context._hoverState===HoverState.SHOW){context.show();}},context.config.delay.show);};_proto._leave=function _leave(event,context){var dataKey=this.constructor.DATA_KEY;context=context||$$$1(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$$$1(event.currentTarget).data(dataKey,context);}
if(event){context._activeTrigger[event.type==='focusout'?Trigger.FOCUS:Trigger.HOVER]=false;}
if(context._isWithActiveTrigger()){return;}
clearTimeout(context._timeout);context._hoverState=HoverState.OUT;if(!context.config.delay||!context.config.delay.hide){context.hide();return;}
context._timeout=setTimeout(function(){if(context._hoverState===HoverState.OUT){context.hide();}},context.config.delay.hide);};_proto._isWithActiveTrigger=function _isWithActiveTrigger(){for(var trigger in this._activeTrigger){if(this._activeTrigger[trigger]){return true;}}
return false;};_proto._getConfig=function _getConfig(config){config=_extends({},this.constructor.Default,$$$1(this.element).data(),config);if(typeof config.delay==='number'){config.delay={show:config.delay,hide:config.delay};}
if(typeof config.title==='number'){config.title=config.title.toString();}
if(typeof config.content==='number'){config.content=config.content.toString();}
Util.typeCheckConfig(NAME,config,this.constructor.DefaultType);return config;};_proto._getDelegateConfig=function _getDelegateConfig(){var config={};if(this.config){for(var key in this.config){if(this.constructor.Default[key]!==this.config[key]){config[key]=this.config[key];}}}
return config;};_proto._cleanTipClass=function _cleanTipClass(){var $tip=$$$1(this.getTipElement());var tabClass=$tip.attr('class').match(BSCLS_PREFIX_REGEX);if(tabClass!==null&&tabClass.length>0){$tip.removeClass(tabClass.join(''));}};_proto._handlePopperPlacementChange=function _handlePopperPlacementChange(data){this._cleanTipClass();this.addAttachmentClass(this._getAttachment(data.placement));};_proto._fixTransition=function _fixTransition(){var tip=this.getTipElement();var initConfigAnimation=this.config.animation;if(tip.getAttribute('x-placement')!==null){return;}
$$$1(tip).removeClass(ClassName.FADE);this.config.animation=false;this.hide();this.show();this.config.animation=initConfigAnimation;};Tooltip._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=typeof config==='object'&&config;if(!data&&/dispose|hide/.test(config)){return;}
if(!data){data=new Tooltip(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(Tooltip,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}},{key:"NAME",get:function get(){return NAME;}},{key:"DATA_KEY",get:function get(){return DATA_KEY;}},{key:"Event",get:function get(){return Event;}},{key:"EVENT_KEY",get:function get(){return EVENT_KEY;}},{key:"DefaultType",get:function get(){return DefaultType;}}]);return Tooltip;}();$$$1.fn[NAME]=Tooltip._jQueryInterface;$$$1.fn[NAME].Constructor=Tooltip;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Tooltip._jQueryInterface;};return Tooltip;}($,Popper);var Popover=function($$$1){var NAME='popover';var VERSION='4.0.0';var DATA_KEY='bs.popover';var EVENT_KEY="."+DATA_KEY;var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var CLASS_PREFIX='bs-popover';var BSCLS_PREFIX_REGEX=new RegExp("(^|\\s)"+CLASS_PREFIX+"\\S+",'g');var Default=_extends({},Tooltip.Default,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-header"></h3>'+'<div class="popover-body"></div></div>'});var DefaultType=_extends({},Tooltip.DefaultType,{content:'(string|element|function)'});var ClassName={FADE:'fade',SHOW:'show'};var Selector={TITLE:'.popover-header',CONTENT:'.popover-body'};var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,INSERTED:"inserted"+EVENT_KEY,CLICK:"click"+EVENT_KEY,FOCUSIN:"focusin"+EVENT_KEY,FOCUSOUT:"focusout"+EVENT_KEY,MOUSEENTER:"mouseenter"+EVENT_KEY,MOUSELEAVE:"mouseleave"+EVENT_KEY};var Popover=function(_Tooltip){_inheritsLoose(Popover,_Tooltip);function Popover(){return _Tooltip.apply(this,arguments)||this;}
var _proto=Popover.prototype;_proto.isWithContent=function isWithContent(){return this.getTitle()||this._getContent();};_proto.addAttachmentClass=function addAttachmentClass(attachment){$$$1(this.getTipElement()).addClass(CLASS_PREFIX+"-"+attachment);};_proto.getTipElement=function getTipElement(){this.tip=this.tip||$$$1(this.config.template)[0];return this.tip;};_proto.setContent=function setContent(){var $tip=$$$1(this.getTipElement());this.setElementContent($tip.find(Selector.TITLE),this.getTitle());var content=this._getContent();if(typeof content==='function'){content=content.call(this.element);}
this.setElementContent($tip.find(Selector.CONTENT),content);$tip.removeClass(ClassName.FADE+" "+ClassName.SHOW);};_proto._getContent=function _getContent(){return this.element.getAttribute('data-content')||this.config.content;};_proto._cleanTipClass=function _cleanTipClass(){var $tip=$$$1(this.getTipElement());var tabClass=$tip.attr('class').match(BSCLS_PREFIX_REGEX);if(tabClass!==null&&tabClass.length>0){$tip.removeClass(tabClass.join(''));}};Popover._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=typeof config==='object'?config:null;if(!data&&/destroy|hide/.test(config)){return;}
if(!data){data=new Popover(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(Popover,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}},{key:"NAME",get:function get(){return NAME;}},{key:"DATA_KEY",get:function get(){return DATA_KEY;}},{key:"Event",get:function get(){return Event;}},{key:"EVENT_KEY",get:function get(){return EVENT_KEY;}},{key:"DefaultType",get:function get(){return DefaultType;}}]);return Popover;}(Tooltip);$$$1.fn[NAME]=Popover._jQueryInterface;$$$1.fn[NAME].Constructor=Popover;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Popover._jQueryInterface;};return Popover;}($);var ScrollSpy=function($$$1){var NAME='scrollspy';var VERSION='4.0.0';var DATA_KEY='bs.scrollspy';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var Default={offset:10,method:'auto',target:''};var DefaultType={offset:'number',method:'string',target:'(string|element)'};var Event={ACTIVATE:"activate"+EVENT_KEY,SCROLL:"scroll"+EVENT_KEY,LOAD_DATA_API:"load"+EVENT_KEY+DATA_API_KEY};var ClassName={DROPDOWN_ITEM:'dropdown-item',DROPDOWN_MENU:'dropdown-menu',ACTIVE:'active'};var Selector={DATA_SPY:'[data-spy="scroll"]',ACTIVE:'.active',NAV_LIST_GROUP:'.nav, .list-group',NAV_LINKS:'.nav-link',NAV_ITEMS:'.nav-item',LIST_ITEMS:'.list-group-item',DROPDOWN:'.dropdown',DROPDOWN_ITEMS:'.dropdown-item',DROPDOWN_TOGGLE:'.dropdown-toggle'};var OffsetMethod={OFFSET:'offset',POSITION:'position'};var ScrollSpy=function(){function ScrollSpy(element,config){var _this=this;this._element=element;this._scrollElement=element.tagName==='BODY'?window:element;this._config=this._getConfig(config);this._selector=this._config.target+" "+Selector.NAV_LINKS+","+(this._config.target+" "+Selector.LIST_ITEMS+",")+(this._config.target+" "+Selector.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;$$$1(this._scrollElement).on(Event.SCROLL,function(event){return _this._process(event);});this.refresh();this._process();}
var _proto=ScrollSpy.prototype;_proto.refresh=function refresh(){var _this2=this;var autoMethod=this._scrollElement===this._scrollElement.window?OffsetMethod.OFFSET:OffsetMethod.POSITION;var offsetMethod=this._config.method==='auto'?autoMethod:this._config.method;var offsetBase=offsetMethod===OffsetMethod.POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var targets=$$$1.makeArray($$$1(this._selector));targets.map(function(element){var target;var targetSelector=Util.getSelectorFromElement(element);if(targetSelector){target=$$$1(targetSelector)[0];}
if(target){var targetBCR=target.getBoundingClientRect();if(targetBCR.width||targetBCR.height){return[$$$1(target)[offsetMethod]().top+offsetBase,targetSelector];}}
return null;}).filter(function(item){return item;}).sort(function(a,b){return a[0]-b[0];}).forEach(function(item){_this2._offsets.push(item[0]);_this2._targets.push(item[1]);});};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);$$$1(this._scrollElement).off(EVENT_KEY);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null;};_proto._getConfig=function _getConfig(config){config=_extends({},Default,config);if(typeof config.target!=='string'){var id=$$$1(config.target).attr('id');if(!id){id=Util.getUID(NAME);$$$1(config.target).attr('id',id);}
config.target="#"+id;}
Util.typeCheckConfig(NAME,config,DefaultType);return config;};_proto._getScrollTop=function _getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop;};_proto._getScrollHeight=function _getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);};_proto._getOffsetHeight=function _getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height;};_proto._process=function _process(){var scrollTop=this._getScrollTop()+this._config.offset;var scrollHeight=this._getScrollHeight();var maxScroll=this._config.offset+scrollHeight-this._getOffsetHeight();if(this._scrollHeight!==scrollHeight){this.refresh();}
if(scrollTop>=maxScroll){var target=this._targets[this._targets.length-1];if(this._activeTarget!==target){this._activate(target);}
return;}
if(this._activeTarget&&scrollTop<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null;this._clear();return;}
for(var i=this._offsets.length;i--;){var isActiveTarget=this._activeTarget!==this._targets[i]&&scrollTop>=this._offsets[i]&&(typeof this._offsets[i+1]==='undefined'||scrollTop<this._offsets[i+1]);if(isActiveTarget){this._activate(this._targets[i]);}}};_proto._activate=function _activate(target){this._activeTarget=target;this._clear();var queries=this._selector.split(',');queries=queries.map(function(selector){return selector+"[data-target=\""+target+"\"],"+(selector+"[href=\""+target+"\"]");});var $link=$$$1(queries.join(','));if($link.hasClass(ClassName.DROPDOWN_ITEM)){$link.closest(Selector.DROPDOWN).find(Selector.DROPDOWN_TOGGLE).addClass(ClassName.ACTIVE);$link.addClass(ClassName.ACTIVE);}else{$link.addClass(ClassName.ACTIVE);$link.parents(Selector.NAV_LIST_GROUP).prev(Selector.NAV_LINKS+", "+Selector.LIST_ITEMS).addClass(ClassName.ACTIVE);$link.parents(Selector.NAV_LIST_GROUP).prev(Selector.NAV_ITEMS).children(Selector.NAV_LINKS).addClass(ClassName.ACTIVE);}
$$$1(this._scrollElement).trigger(Event.ACTIVATE,{relatedTarget:target});};_proto._clear=function _clear(){$$$1(this._selector).filter(Selector.ACTIVE).removeClass(ClassName.ACTIVE);};ScrollSpy._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$$$1(this).data(DATA_KEY);var _config=typeof config==='object'&&config;if(!data){data=new ScrollSpy(this,_config);$$$1(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(ScrollSpy,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}}]);return ScrollSpy;}();$$$1(window).on(Event.LOAD_DATA_API,function(){var scrollSpys=$$$1.makeArray($$$1(Selector.DATA_SPY));for(var i=scrollSpys.length;i--;){var $spy=$$$1(scrollSpys[i]);ScrollSpy._jQueryInterface.call($spy,$spy.data());}});$$$1.fn[NAME]=ScrollSpy._jQueryInterface;$$$1.fn[NAME].Constructor=ScrollSpy;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return ScrollSpy._jQueryInterface;};return ScrollSpy;}($);var Tab=function($$$1){var NAME='tab';var VERSION='4.0.0';var DATA_KEY='bs.tab';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$$$1.fn[NAME];var TRANSITION_DURATION=150;var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,CLICK_DATA_API:"click"+EVENT_KEY+DATA_API_KEY};var ClassName={DROPDOWN_MENU:'dropdown-menu',ACTIVE:'active',DISABLED:'disabled',FADE:'fade',SHOW:'show'};var Selector={DROPDOWN:'.dropdown',NAV_LIST_GROUP:'.nav, .list-group',ACTIVE:'.active',ACTIVE_UL:'> li > .active',DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:'.dropdown-toggle',DROPDOWN_ACTIVE_CHILD:'> .dropdown-menu .active'};var Tab=function(){function Tab(element){this._element=element;}
var _proto=Tab.prototype;_proto.show=function show(){var _this=this;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&$$$1(this._element).hasClass(ClassName.ACTIVE)||$$$1(this._element).hasClass(ClassName.DISABLED)){return;}
var target;var previous;var listElement=$$$1(this._element).closest(Selector.NAV_LIST_GROUP)[0];var selector=Util.getSelectorFromElement(this._element);if(listElement){var itemSelector=listElement.nodeName==='UL'?Selector.ACTIVE_UL:Selector.ACTIVE;previous=$$$1.makeArray($$$1(listElement).find(itemSelector));previous=previous[previous.length-1];}
var hideEvent=$$$1.Event(Event.HIDE,{relatedTarget:this._element});var showEvent=$$$1.Event(Event.SHOW,{relatedTarget:previous});if(previous){$$$1(previous).trigger(hideEvent);}
$$$1(this._element).trigger(showEvent);if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented()){return;}
if(selector){target=$$$1(selector)[0];}
this._activate(this._element,listElement);var complete=function complete(){var hiddenEvent=$$$1.Event(Event.HIDDEN,{relatedTarget:_this._element});var shownEvent=$$$1.Event(Event.SHOWN,{relatedTarget:previous});$$$1(previous).trigger(hiddenEvent);$$$1(_this._element).trigger(shownEvent);};if(target){this._activate(target,target.parentNode,complete);}else{complete();}};_proto.dispose=function dispose(){$$$1.removeData(this._element,DATA_KEY);this._element=null;};_proto._activate=function _activate(element,container,callback){var _this2=this;var activeElements;if(container.nodeName==='UL'){activeElements=$$$1(container).find(Selector.ACTIVE_UL);}else{activeElements=$$$1(container).children(Selector.ACTIVE);}
var active=activeElements[0];var isTransitioning=callback&&Util.supportsTransitionEnd()&&active&&$$$1(active).hasClass(ClassName.FADE);var complete=function complete(){return _this2._transitionComplete(element,active,callback);};if(active&&isTransitioning){$$$1(active).one(Util.TRANSITION_END,complete).emulateTransitionEnd(TRANSITION_DURATION);}else{complete();}};_proto._transitionComplete=function _transitionComplete(element,active,callback){if(active){$$$1(active).removeClass(ClassName.SHOW+" "+ClassName.ACTIVE);var dropdownChild=$$$1(active.parentNode).find(Selector.DROPDOWN_ACTIVE_CHILD)[0];if(dropdownChild){$$$1(dropdownChild).removeClass(ClassName.ACTIVE);}
if(active.getAttribute('role')==='tab'){active.setAttribute('aria-selected',false);}}
$$$1(element).addClass(ClassName.ACTIVE);if(element.getAttribute('role')==='tab'){element.setAttribute('aria-selected',true);}
Util.reflow(element);$$$1(element).addClass(ClassName.SHOW);if(element.parentNode&&$$$1(element.parentNode).hasClass(ClassName.DROPDOWN_MENU)){var dropdownElement=$$$1(element).closest(Selector.DROPDOWN)[0];if(dropdownElement){$$$1(dropdownElement).find(Selector.DROPDOWN_TOGGLE).addClass(ClassName.ACTIVE);}
element.setAttribute('aria-expanded',true);}
if(callback){callback();}};Tab._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var $this=$$$1(this);var data=$this.data(DATA_KEY);if(!data){data=new Tab(this);$this.data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(Tab,null,[{key:"VERSION",get:function get(){return VERSION;}}]);return Tab;}();$$$1(document).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){event.preventDefault();Tab._jQueryInterface.call($$$1(this),'show');});$$$1.fn[NAME]=Tab._jQueryInterface;$$$1.fn[NAME].Constructor=Tab;$$$1.fn[NAME].noConflict=function(){$$$1.fn[NAME]=JQUERY_NO_CONFLICT;return Tab._jQueryInterface;};return Tab;}($);(function($$$1){if(typeof $$$1==='undefined'){throw new TypeError('Bootstrap\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\'s JavaScript.');}
var version=$$$1.fn.jquery.split(' ')[0].split('.');var minMajor=1;var ltMajor=2;var minMinor=9;var minPatch=1;var maxMajor=4;if(version[0]<ltMajor&&version[1]<minMinor||version[0]===minMajor&&version[1]===minMinor&&version[2]<minPatch||version[0]>=maxMajor){throw new Error('Bootstrap\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');}})($);exports.Util=Util;exports.Alert=Alert;exports.Button=Button;exports.Carousel=Carousel;exports.Collapse=Collapse;exports.Dropdown=Dropdown;exports.Modal=Modal;exports.Popover=Popover;exports.Scrollspy=ScrollSpy;exports.Tab=Tab;exports.Tooltip=Tooltip;Object.defineProperty(exports,'__esModule',{value:true});})));

(function(f,define){define([],f);})(function(){(function($,window,undefined){var kendo=window.kendo=window.kendo||{cultures:{}},extend=$.extend,each=$.each,isArray=$.isArray,proxy=$.proxy,noop=$.noop,math=Math,Template,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,numberRegExp=/^(\+|-?)\d+(\.?)\d*$/,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice,globalize=window.Globalize;kendo.version="2015.2.624";function Class(){}
Class.extend=function(proto){var base=function(){},member,that=this,subclass=proto&&proto.init?proto.init:function(){that.apply(this,arguments);},fn;base.prototype=that.prototype;fn=subclass.fn=subclass.prototype=new base();for(member in proto){if(proto[member]!=null&&proto[member].constructor===Object){fn[member]=extend(true,{},base.prototype[member],proto[member]);}else{fn[member]=proto[member];}}
fn.constructor=subclass;subclass.extend=that.extend;return subclass;};Class.prototype._initOptions=function(options){this.options=deepExtend({},this.options,options);};var isFunction=kendo.isFunction=function(fn){return typeof fn==="function";};var preventDefault=function(){this._defaultPrevented=true;};var isDefaultPrevented=function(){return this._defaultPrevented===true;};var Observable=Class.extend({init:function(){this._events={};},bind:function(eventName,handlers,one){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,original,handler,handlersIsFunction=typeof handlers===FUNCTION,events;if(handlers===undefined){for(idx in eventName){that.bind(idx,eventName[idx]);}
return that;}
for(idx=0,length=eventNames.length;idx<length;idx++){eventName=eventNames[idx];handler=handlersIsFunction?handlers:handlers[eventName];if(handler){if(one){original=handler;handler=function(){that.unbind(eventName,handler);original.apply(that,arguments);};handler.original=original;}
events=that._events[eventName]=that._events[eventName]||[];events.push(handler);}}
return that;},one:function(eventNames,handlers){return this.bind(eventNames,handlers,true);},first:function(eventName,handlers){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,handler,handlersIsFunction=typeof handlers===FUNCTION,events;for(idx=0,length=eventNames.length;idx<length;idx++){eventName=eventNames[idx];handler=handlersIsFunction?handlers:handlers[eventName];if(handler){events=that._events[eventName]=that._events[eventName]||[];events.unshift(handler);}}
return that;},trigger:function(eventName,e){var that=this,events=that._events[eventName],idx,length;if(events){e=e||{};e.sender=that;e._defaultPrevented=false;e.preventDefault=preventDefault;e.isDefaultPrevented=isDefaultPrevented;events=events.slice();for(idx=0,length=events.length;idx<length;idx++){events[idx].call(that,e);}
return e._defaultPrevented===true;}
return false;},unbind:function(eventName,handler){var that=this,events=that._events[eventName],idx;if(eventName===undefined){that._events={};}else if(events){if(handler){for(idx=events.length-1;idx>=0;idx--){if(events[idx]===handler||events[idx].original===handler){events.splice(idx,1);}}}else{that._events[eventName]=[];}}
return that;}});function compilePart(part,stringPart){if(stringPart){return"'"+
part.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";}else{var first=part.charAt(0),rest=part.substring(1);if(first==="="){return"+("+rest+")+";}else if(first===":"){return"+$kendoHtmlEncode("+rest+")+";}else{return";"+part+";$kendoOutput+=";}}}
var argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];Template={paramName:"data",useWithBlock:true,render:function(template,data){var idx,length,html="";for(idx=0,length=data.length;idx<length;idx++){html+=template(data[idx]);}
return html;},compile:function(template,options){var settings=extend({},this,options),paramName=settings.paramName,argumentName=paramName.match(argumentNameRegExp)[0],useWithBlock=settings.useWithBlock,functionBody="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",fn,parts,idx;if(isFunction(template)){return template;}
functionBody+=useWithBlock?"with("+paramName+"){":"";functionBody+="$kendoOutput=";parts=template.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=$kendoHtmlEncode($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#");for(idx=0;idx<parts.length;idx++){functionBody+=compilePart(parts[idx],idx%2===0);}
functionBody+=useWithBlock?";}":";";functionBody+="return $kendoOutput;";functionBody=functionBody.replace(sharpRegExp,"#");try{fn=new Function(argumentName,functionBody);fn._slotCount=Math.floor(parts.length/2);return fn;}catch(e){throw new Error(kendo.format("Invalid template:'{0}' Generated code:'{1}'",template,functionBody));}}};function pad(number,digits,end){number=number+"";digits=digits||2;end=digits-number.length;if(end){return zeros[digits].substring(0,end)+number;}
return number;}
(function(){var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":'\\"',"\\":"\\\\"},rep,toString={}.toString;if(typeof Date.prototype.toJSON!==FUNCTION){Date.prototype.toJSON=function(){var that=this;return isFinite(that.valueOf())?pad(that.getUTCFullYear(),4)+"-"+
pad(that.getUTCMonth()+1)+"-"+
pad(that.getUTCDate())+"T"+
pad(that.getUTCHours())+":"+
pad(that.getUTCMinutes())+":"+
pad(that.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}
function quote(string){escapable.lastIndex=0;return escapable.test(string)?"\""+string.replace(escapable,function(a){var c=meta[a];return typeof c===STRING?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+string+"\"";}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key],type;if(value&&typeof value===OBJECT&&typeof value.toJSON===FUNCTION){value=value.toJSON(key);}
if(typeof rep===FUNCTION){value=rep.call(holder,key,value);}
type=typeof value;if(type===STRING){return quote(value);}else if(type===NUMBER){return isFinite(value)?String(value):NULL;}else if(type===BOOLEAN||type===NULL){return String(value);}else if(type===OBJECT){if(!value){return NULL;}
gap+=indent;partial=[];if(toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i++){partial[i]=str(i,value)||NULL;}
v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}
if(rep&&typeof rep===OBJECT){length=rep.length;for(i=0;i<length;i++){if(typeof rep[i]===STRING){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}
v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}
if(typeof JSON.stringify!==FUNCTION){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space===NUMBER){for(i=0;i<space;i+=1){indent+=" ";}}else if(typeof space===STRING){indent=space;}
rep=replacer;if(replacer&&typeof replacer!==FUNCTION&&(typeof replacer!==OBJECT||typeof replacer.length!==NUMBER)){throw new Error("JSON.stringify");}
return str("",{"":value});};}})();(function(){var dateFormatRegExp=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,standardFormatRegExp=/^(n|c|p|e)(\d*)$/i,literalRegExp=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,commaRegExp=/\,/g,EMPTY="",POINT=".",COMMA=",",SHARP="#",ZERO="0",PLACEHOLDER="??",EN="en-US",objectToString={}.toString;kendo.cultures["en-US"]={name:EN,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function findCulture(culture){if(culture){if(culture.numberFormat){return culture;}
if(typeof culture===STRING){var cultures=kendo.cultures;return cultures[culture]||cultures[culture.split("-")[0]]||null;}
return null;}
return null;}
function getCulture(culture){if(culture){culture=findCulture(culture);}
return culture||kendo.cultures.current;}
function expandNumberFormat(numberFormat){numberFormat.groupSizes=numberFormat.groupSize;numberFormat.percent.groupSizes=numberFormat.percent.groupSize;numberFormat.currency.groupSizes=numberFormat.currency.groupSize;}
kendo.culture=function(cultureName){var cultures=kendo.cultures,culture;if(cultureName!==undefined){culture=findCulture(cultureName)||cultures[EN];culture.calendar=culture.calendars.standard;cultures.current=culture;if(globalize&&!globalize.load){expandNumberFormat(culture.numberFormat);}}else{return cultures.current;}};kendo.findCulture=findCulture;kendo.getCulture=getCulture;kendo.culture(EN);function formatDate(date,format,culture){culture=getCulture(culture);var calendar=culture.calendars.standard,days=calendar.days,months=calendar.months;format=calendar.patterns[format]||format;return format.replace(dateFormatRegExp,function(match){var minutes;var result;var sign;if(match==="d"){result=date.getDate();}else if(match==="dd"){result=pad(date.getDate());}else if(match==="ddd"){result=days.namesAbbr[date.getDay()];}else if(match==="dddd"){result=days.names[date.getDay()];}else if(match==="M"){result=date.getMonth()+1;}else if(match==="MM"){result=pad(date.getMonth()+1);}else if(match==="MMM"){result=months.namesAbbr[date.getMonth()];}else if(match==="MMMM"){result=months.names[date.getMonth()];}else if(match==="yy"){result=pad(date.getFullYear()%100);}else if(match==="yyyy"){result=pad(date.getFullYear(),4);}else if(match==="h"){result=date.getHours()%12||12;}else if(match==="hh"){result=pad(date.getHours()%12||12);}else if(match==="H"){result=date.getHours();}else if(match==="HH"){result=pad(date.getHours());}else if(match==="m"){result=date.getMinutes();}else if(match==="mm"){result=pad(date.getMinutes());}else if(match==="s"){result=date.getSeconds();}else if(match==="ss"){result=pad(date.getSeconds());}else if(match==="f"){result=math.floor(date.getMilliseconds()/100);}else if(match==="ff"){result=date.getMilliseconds();if(result>99){result=math.floor(result/10);}
result=pad(result);}else if(match==="fff"){result=pad(date.getMilliseconds(),3);}else if(match==="tt"){result=date.getHours()<12?calendar.AM[0]:calendar.PM[0];}else if(match==="zzz"){minutes=date.getTimezoneOffset();sign=minutes<0;result=math.abs(minutes/60).toString().split(".")[0];minutes=math.abs(minutes)-(result*60);result=(sign?"+":"-")+pad(result);result+=":"+pad(minutes);}else if(match==="zz"||match==="z"){result=date.getTimezoneOffset()/60;sign=result<0;result=math.abs(result).toString().split(".")[0];result=(sign?"+":"-")+(match==="zz"?pad(result):result);}
return result!==undefined?result:match.slice(1,match.length-1);});}
function formatNumber(number,format,culture){culture=getCulture(culture);var numberFormat=culture.numberFormat,groupSize=numberFormat.groupSize[0],groupSeparator=numberFormat[COMMA],decimal=numberFormat[POINT],precision=numberFormat.decimals,pattern=numberFormat.pattern[0],literals=[],symbol,isCurrency,isPercent,customPrecision,formatAndPrecision,negative=number<0,integer,fraction,integerLength,fractionLength,replacement=EMPTY,value=EMPTY,idx,length,ch,hasGroup,hasNegativeFormat,decimalIndex,sharpIndex,zeroIndex,hasZero,hasSharp,percentIndex,currencyIndex,startZeroIndex,start=-1,end;if(number===undefined){return EMPTY;}
if(!isFinite(number)){return number;}
if(!format){return culture.name.length?number.toLocaleString():number.toString();}
formatAndPrecision=standardFormatRegExp.exec(format);if(formatAndPrecision){format=formatAndPrecision[1].toLowerCase();isCurrency=format==="c";isPercent=format==="p";if(isCurrency||isPercent){numberFormat=isCurrency?numberFormat.currency:numberFormat.percent;groupSize=numberFormat.groupSize[0];groupSeparator=numberFormat[COMMA];decimal=numberFormat[POINT];precision=numberFormat.decimals;symbol=numberFormat.symbol;pattern=numberFormat.pattern[negative?0:1];}
customPrecision=formatAndPrecision[2];if(customPrecision){precision=+customPrecision;}
if(format==="e"){return customPrecision?number.toExponential(precision):number.toExponential();}
if(isPercent){number*=100;}
number=round(number,precision);negative=number<0;number=number.split(POINT);integer=number[0];fraction=number[1];if(negative){integer=integer.substring(1);}
value=integer;integerLength=integer.length;if(integerLength>=groupSize){value=EMPTY;for(idx=0;idx<integerLength;idx++){if(idx>0&&(integerLength-idx)%groupSize===0){value+=groupSeparator;}
value+=integer.charAt(idx);}}
if(fraction){value+=decimal+fraction;}
if(format==="n"&&!negative){return value;}
number=EMPTY;for(idx=0,length=pattern.length;idx<length;idx++){ch=pattern.charAt(idx);if(ch==="n"){number+=value;}else if(ch==="$"||ch==="%"){number+=symbol;}else{number+=ch;}}
return number;}
if(negative){number=-number;}
if(format.indexOf("'")>-1||format.indexOf("\"")>-1||format.indexOf("\\")>-1){format=format.replace(literalRegExp,function(match){var quoteChar=match.charAt(0).replace("\\",""),literal=match.slice(1).replace(quoteChar,"");literals.push(literal);return PLACEHOLDER;});}
format=format.split(";");if(negative&&format[1]){format=format[1];hasNegativeFormat=true;}else if(number===0){format=format[2]||format[0];if(format.indexOf(SHARP)==-1&&format.indexOf(ZERO)==-1){return format;}}else{format=format[0];}
percentIndex=format.indexOf("%");currencyIndex=format.indexOf("$");isPercent=percentIndex!=-1;isCurrency=currencyIndex!=-1;if(isPercent){number*=100;}
if(isCurrency&&format[currencyIndex-1]==="\\"){format=format.split("\\").join("");isCurrency=false;}
if(isCurrency||isPercent){numberFormat=isCurrency?numberFormat.currency:numberFormat.percent;groupSize=numberFormat.groupSize[0];groupSeparator=numberFormat[COMMA];decimal=numberFormat[POINT];precision=numberFormat.decimals;symbol=numberFormat.symbol;}
hasGroup=format.indexOf(COMMA)>-1;if(hasGroup){format=format.replace(commaRegExp,EMPTY);}
decimalIndex=format.indexOf(POINT);length=format.length;if(decimalIndex!=-1){fraction=number.toString().split("e");if(fraction[1]){fraction=round(number,Math.abs(fraction[1]));}else{fraction=fraction[0];}
fraction=fraction.split(POINT)[1]||EMPTY;zeroIndex=format.lastIndexOf(ZERO)-decimalIndex;sharpIndex=format.lastIndexOf(SHARP)-decimalIndex;hasZero=zeroIndex>-1;hasSharp=sharpIndex>-1;idx=fraction.length;if(!hasZero&&!hasSharp){format=format.substring(0,decimalIndex)+format.substring(decimalIndex+1);length=format.length;decimalIndex=-1;idx=0;}if(hasZero&&zeroIndex>sharpIndex){idx=zeroIndex;}else if(sharpIndex>zeroIndex){if(hasSharp&&idx>sharpIndex){idx=sharpIndex;}else if(hasZero&&idx<zeroIndex){idx=zeroIndex;}}
if(idx>-1){number=round(number,idx);}}else{number=round(number);}
sharpIndex=format.indexOf(SHARP);startZeroIndex=zeroIndex=format.indexOf(ZERO);if(sharpIndex==-1&&zeroIndex!=-1){start=zeroIndex;}else if(sharpIndex!=-1&&zeroIndex==-1){start=sharpIndex;}else{start=sharpIndex>zeroIndex?zeroIndex:sharpIndex;}
sharpIndex=format.lastIndexOf(SHARP);zeroIndex=format.lastIndexOf(ZERO);if(sharpIndex==-1&&zeroIndex!=-1){end=zeroIndex;}else if(sharpIndex!=-1&&zeroIndex==-1){end=sharpIndex;}else{end=sharpIndex>zeroIndex?sharpIndex:zeroIndex;}
if(start==length){end=start;}
if(start!=-1){value=number.toString().split(POINT);integer=value[0];fraction=value[1]||EMPTY;integerLength=integer.length;fractionLength=fraction.length;if(negative&&(number*-1)>=0){negative=false;}
if(hasGroup){if(integerLength===groupSize&&integerLength<decimalIndex-startZeroIndex){integer=groupSeparator+integer;}else if(integerLength>groupSize){value=EMPTY;for(idx=0;idx<integerLength;idx++){if(idx>0&&(integerLength-idx)%groupSize===0){value+=groupSeparator;}
value+=integer.charAt(idx);}
integer=value;}}
number=format.substring(0,start);if(negative&&!hasNegativeFormat){number+="-";}
for(idx=start;idx<length;idx++){ch=format.charAt(idx);if(decimalIndex==-1){if(end-idx<integerLength){number+=integer;break;}}else{if(zeroIndex!=-1&&zeroIndex<idx){replacement=EMPTY;}
if((decimalIndex-idx)<=integerLength&&decimalIndex-idx>-1){number+=integer;idx=decimalIndex;}
if(decimalIndex===idx){number+=(fraction?decimal:EMPTY)+fraction;idx+=end-decimalIndex+1;continue;}}
if(ch===ZERO){number+=ch;replacement=ch;}else if(ch===SHARP){number+=replacement;}}
if(end>=start){number+=format.substring(end+1);}
if(isCurrency||isPercent){value=EMPTY;for(idx=0,length=number.length;idx<length;idx++){ch=number.charAt(idx);value+=(ch==="$"||ch==="%")?symbol:ch;}
number=value;}
length=literals.length;if(length){for(idx=0;idx<length;idx++){number=number.replace(PLACEHOLDER,literals[idx]);}}}
return number;}
var round=function(value,precision){precision=precision||0;value=value.toString().split('e');value=Math.round(+(value[0]+'e'+(value[1]?(+value[1]+precision):precision)));value=value.toString().split('e');value=+(value[0]+'e'+(value[1]?(+value[1]-precision):-precision));return value.toFixed(precision);};var toString=function(value,fmt,culture){if(fmt){if(objectToString.call(value)==="[object Date]"){return formatDate(value,fmt,culture);}else if(typeof value===NUMBER){return formatNumber(value,fmt,culture);}}
return value!==undefined?value:"";};if(globalize&&!globalize.load){toString=function(value,format,culture){if($.isPlainObject(culture)){culture=culture.name;}
return globalize.format(value,format,culture);};}
kendo.format=function(fmt){var values=arguments;return fmt.replace(formatRegExp,function(match,index,placeholderFormat){var value=values[parseInt(index,10)+1];return toString(value,placeholderFormat?placeholderFormat.substring(1):"");});};kendo._extractFormat=function(format){if(format.slice(0,3)==="{0:"){format=format.slice(3,format.length-1);}
return format;};kendo._activeElement=function(){try{return document.activeElement;}catch(e){return document.documentElement.activeElement;}};kendo._round=round;kendo.toString=toString;})();(function(){var nonBreakingSpaceRegExp=/\u00A0/g,exponentRegExp=/[eE][\-+]?[0-9]+/,shortTimeZoneRegExp=/[+|\-]\d{1,2}/,longTimeZoneRegExp=/[+|\-]\d{1,2}:?\d{2}/,dateRegExp=/^\/Date\((.*?)\)\/$/,offsetRegExp=/[+-]\d*/,formatsSequence=["G","g","d","F","D","y","m","T","t"],numberRegExp={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},objectToString={}.toString;function outOfRange(value,start,end){return!(value>=start&&value<=end);}
function designatorPredicate(designator){return designator.charAt(0);}
function mapDesignators(designators){return $.map(designators,designatorPredicate);}
function adjustDST(date,hours){if(!hours&&date.getHours()===23){date.setHours(date.getHours()+2);}}
function lowerArray(data){var idx=0,length=data.length,array=[];for(;idx<length;idx++){array[idx]=(data[idx]+"").toLowerCase();}
return array;}
function lowerLocalInfo(localInfo){var newLocalInfo={},property;for(property in localInfo){newLocalInfo[property]=lowerArray(localInfo[property]);}
return newLocalInfo;}
function parseExact(value,format,culture){if(!value){return null;}
var lookAhead=function(match){var i=0;while(format[idx]===match){i++;idx++;}
if(i>0){idx-=1;}
return i;},getNumber=function(size){var rg=numberRegExp[size]||new RegExp('^\\d{1,'+size+'}'),match=value.substr(valueIdx,size).match(rg);if(match){match=match[0];valueIdx+=match.length;return parseInt(match,10);}
return null;},getIndexByName=function(names,lower){var i=0,length=names.length,name,nameLength,subValue;for(;i<length;i++){name=names[i];nameLength=name.length;subValue=value.substr(valueIdx,nameLength);if(lower){subValue=subValue.toLowerCase();}
if(subValue==name){valueIdx+=nameLength;return i+1;}}
return null;},checkLiteral=function(){var result=false;if(value.charAt(valueIdx)===format[idx]){valueIdx++;result=true;}
return result;},calendar=culture.calendars.standard,year=null,month=null,day=null,hours=null,minutes=null,seconds=null,milliseconds=null,idx=0,valueIdx=0,literal=false,date=new Date(),twoDigitYearMax=calendar.twoDigitYearMax||2029,defaultYear=date.getFullYear(),ch,count,length,pattern,pmHour,UTC,matches,amDesignators,pmDesignators,hoursOffset,minutesOffset,hasTime,match;if(!format){format="d";}
pattern=calendar.patterns[format];if(pattern){format=pattern;}
format=format.split("");length=format.length;for(;idx<length;idx++){ch=format[idx];if(literal){if(ch==="'"){literal=false;}else{checkLiteral();}}else{if(ch==="d"){count=lookAhead("d");if(!calendar._lowerDays){calendar._lowerDays=lowerLocalInfo(calendar.days);}
if(day!==null&&count>2){continue;}
day=count<3?getNumber(2):getIndexByName(calendar._lowerDays[count==3?"namesAbbr":"names"],true);if(day===null||outOfRange(day,1,31)){return null;}}else if(ch==="M"){count=lookAhead("M");if(!calendar._lowerMonths){calendar._lowerMonths=lowerLocalInfo(calendar.months);}
month=count<3?getNumber(2):getIndexByName(calendar._lowerMonths[count==3?'namesAbbr':'names'],true);if(month===null||outOfRange(month,1,12)){return null;}
month-=1;}else if(ch==="y"){count=lookAhead("y");year=getNumber(count);if(year===null){return null;}
if(count==2){if(typeof twoDigitYearMax==="string"){twoDigitYearMax=defaultYear+parseInt(twoDigitYearMax,10);}
year=(defaultYear-defaultYear%100)+year;if(year>twoDigitYearMax){year-=100;}}}else if(ch==="h"){lookAhead("h");hours=getNumber(2);if(hours==12){hours=0;}
if(hours===null||outOfRange(hours,0,11)){return null;}}else if(ch==="H"){lookAhead("H");hours=getNumber(2);if(hours===null||outOfRange(hours,0,23)){return null;}}else if(ch==="m"){lookAhead("m");minutes=getNumber(2);if(minutes===null||outOfRange(minutes,0,59)){return null;}}else if(ch==="s"){lookAhead("s");seconds=getNumber(2);if(seconds===null||outOfRange(seconds,0,59)){return null;}}else if(ch==="f"){count=lookAhead("f");match=value.substr(valueIdx,count).match(numberRegExp[3]);milliseconds=getNumber(count);if(milliseconds!==null){match=match[0].length;if(match<3){milliseconds*=Math.pow(10,(3-match));}
if(count>3){milliseconds=parseInt(milliseconds.toString().substring(0,3),10);}}
if(milliseconds===null||outOfRange(milliseconds,0,999)){return null;}}else if(ch==="t"){count=lookAhead("t");amDesignators=calendar.AM;pmDesignators=calendar.PM;if(count===1){amDesignators=mapDesignators(amDesignators);pmDesignators=mapDesignators(pmDesignators);}
pmHour=getIndexByName(pmDesignators);if(!pmHour&&!getIndexByName(amDesignators)){return null;}}
else if(ch==="z"){UTC=true;count=lookAhead("z");if(value.substr(valueIdx,1)==="Z"){checkLiteral();continue;}
matches=value.substr(valueIdx,6).match(count>2?longTimeZoneRegExp:shortTimeZoneRegExp);if(!matches){return null;}
matches=matches[0].split(":");hoursOffset=matches[0];minutesOffset=matches[1];if(!minutesOffset&&hoursOffset.length>3){valueIdx=hoursOffset.length-2;minutesOffset=hoursOffset.substring(valueIdx);hoursOffset=hoursOffset.substring(0,valueIdx);}
hoursOffset=parseInt(hoursOffset,10);if(outOfRange(hoursOffset,-12,13)){return null;}
if(count>2){minutesOffset=parseInt(minutesOffset,10);if(isNaN(minutesOffset)||outOfRange(minutesOffset,0,59)){return null;}}}else if(ch==="'"){literal=true;checkLiteral();}else if(!checkLiteral()){return null;}}}
hasTime=hours!==null||minutes!==null||seconds||null;if(year===null&&month===null&&day===null&&hasTime){year=defaultYear;month=date.getMonth();day=date.getDate();}else{if(year===null){year=defaultYear;}
if(day===null){day=1;}}
if(pmHour&&hours<12){hours+=12;}
if(UTC){if(hoursOffset){hours+=-hoursOffset;}
if(minutesOffset){minutes+=-minutesOffset;}
value=new Date(Date.UTC(year,month,day,hours,minutes,seconds,milliseconds));}else{value=new Date(year,month,day,hours,minutes,seconds,milliseconds);adjustDST(value,hours);}
if(year<100){value.setFullYear(year);}
if(value.getDate()!==day&&UTC===undefined){return null;}
return value;}
function parseMicrosoftFormatOffset(offset){var sign=offset.substr(0,1)==="-"?-1:1;offset=offset.substring(1);offset=(parseInt(offset.substr(0,2),10)*60)+parseInt(offset.substring(2),10);return sign*offset;}
kendo.parseDate=function(value,formats,culture){if(objectToString.call(value)==="[object Date]"){return value;}
var idx=0;var date=null;var length,patterns;var tzoffset;var sign;if(value&&value.indexOf("/D")===0){date=dateRegExp.exec(value);if(date){date=date[1];tzoffset=offsetRegExp.exec(date.substring(1));date=new Date(parseInt(date,10));if(tzoffset){tzoffset=parseMicrosoftFormatOffset(tzoffset[0]);date=kendo.timezone.apply(date,0);date=kendo.timezone.convert(date,0,-1*tzoffset);}
return date;}}
culture=kendo.getCulture(culture);if(!formats){formats=[];patterns=culture.calendar.patterns;length=formatsSequence.length;for(;idx<length;idx++){formats[idx]=patterns[formatsSequence[idx]];}
idx=0;formats=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(formats);}
formats=isArray(formats)?formats:[formats];length=formats.length;for(;idx<length;idx++){date=parseExact(value,formats[idx],culture);if(date){return date;}}
return date;};kendo.parseInt=function(value,culture){var result=kendo.parseFloat(value,culture);if(result){result=result|0;}
return result;};kendo.parseFloat=function(value,culture,format){if(!value&&value!==0){return null;}
if(typeof value===NUMBER){return value;}
value=value.toString();culture=kendo.getCulture(culture);var number=culture.numberFormat,percent=number.percent,currency=number.currency,symbol=currency.symbol,percentSymbol=percent.symbol,negative=value.indexOf("-"),parts,isPercent;if(exponentRegExp.test(value)){value=parseFloat(value.replace(number["."],"."));if(isNaN(value)){value=null;}
return value;}
if(negative>0){return null;}else{negative=negative>-1;}
if(value.indexOf(symbol)>-1||(format&&format.toLowerCase().indexOf("c")>-1)){number=currency;parts=number.pattern[0].replace("$",symbol).split("n");if(value.indexOf(parts[0])>-1&&value.indexOf(parts[1])>-1){value=value.replace(parts[0],"").replace(parts[1],"");negative=true;}}else if(value.indexOf(percentSymbol)>-1){isPercent=true;number=percent;symbol=percentSymbol;}
value=value.replace("-","").replace(symbol,"").replace(nonBreakingSpaceRegExp," ").split(number[","].replace(nonBreakingSpaceRegExp," ")).join("").replace(number["."],".");value=parseFloat(value);if(isNaN(value)){value=null;}else if(negative){value*=-1;}
if(value&&isPercent){value/=100;}
return value;};if(globalize&&!globalize.load){kendo.parseDate=function(value,format,culture){if(objectToString.call(value)==="[object Date]"){return value;}
return globalize.parseDate(value,format,culture);};kendo.parseFloat=function(value,culture){if(typeof value===NUMBER){return value;}
if(value===undefined||value===null){return null;}
if($.isPlainObject(culture)){culture=culture.name;}
value=globalize.parseFloat(value,culture);return isNaN(value)?null:value;};}})();function getShadows(element){var shadow=element.css(kendo.support.transitions.css+"box-shadow")||element.css("box-shadow"),radius=shadow?shadow.match(boxShadowRegExp)||[0,0,0,0,0]:[0,0,0,0,0],blur=math.max((+radius[3]),+(radius[4]||0));return{left:(-radius[1])+blur,right:(+radius[1])+blur,bottom:(+radius[2])+blur};}
function wrap(element,autosize){var browser=support.browser,percentage,isRtl=element.css("direction")=="rtl";if(!element.parent().hasClass("k-animation-container")){var shadows=getShadows(element),width=element[0].style.width,height=element[0].style.height,percentWidth=percentRegExp.test(width),percentHeight=percentRegExp.test(height);if(browser.opera){shadows.left=shadows.right=shadows.bottom=5;}
percentage=percentWidth||percentHeight;if(!percentWidth&&(!autosize||(autosize&&width))){width=element.outerWidth();}
if(!percentHeight&&(!autosize||(autosize&&height))){height=element.outerHeight();}
element.wrap($("<div/>").addClass("k-animation-container").css({width:width,height:height,marginLeft:shadows.left*(isRtl?1:-1),paddingLeft:shadows.left,paddingRight:shadows.right,paddingBottom:shadows.bottom}));if(percentage){element.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"});}}else{var wrapper=element.parent(".k-animation-container"),wrapperStyle=wrapper[0].style;if(wrapper.is(":hidden")){wrapper.show();}
percentage=percentRegExp.test(wrapperStyle.width)||percentRegExp.test(wrapperStyle.height);if(!percentage){wrapper.css({width:element.outerWidth(),height:element.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});}}
if(browser.msie&&math.floor(browser.version)<=7){element.css({zoom:1});element.children(".k-menu").width(element.width());}
return element.parent();}
function deepExtend(destination){var i=1,length=arguments.length;for(i=1;i<length;i++){deepExtendOne(destination,arguments[i]);}
return destination;}
function deepExtendOne(destination,source){var ObservableArray=kendo.data.ObservableArray,LazyObservableArray=kendo.data.LazyObservableArray,DataSource=kendo.data.DataSource,HierarchicalDataSource=kendo.data.HierarchicalDataSource,property,propValue,propType,propInit,destProp;for(property in source){propValue=source[property];propType=typeof propValue;if(propType===OBJECT&&propValue!==null){propInit=propValue.constructor;}else{propInit=null;}
if(propInit&&propInit!==Array&&propInit!==ObservableArray&&propInit!==LazyObservableArray&&propInit!==DataSource&&propInit!==HierarchicalDataSource){if(propValue instanceof Date){destination[property]=new Date(propValue.getTime());}else if(isFunction(propValue.clone)){destination[property]=propValue.clone();}else{destProp=destination[property];if(typeof(destProp)===OBJECT){destination[property]=destProp||{};}else{destination[property]={};}
deepExtendOne(destination[property],propValue);}}else if(propType!==UNDEFINED){destination[property]=propValue;}}
return destination;}
function testRx(agent,rxs,dflt){for(var rx in rxs){if(rxs.hasOwnProperty(rx)&&rxs[rx].test(agent)){return rx;}}
return dflt!==undefined?dflt:agent;}
function toHyphens(str){return str.replace(/([a-z][A-Z])/g,function(g){return g.charAt(0)+'-'+g.charAt(1).toLowerCase();});}
function toCamelCase(str){return str.replace(/\-(\w)/g,function(strMatch,g1){return g1.toUpperCase();});}
function getComputedStyles(element,properties){var styles={},computedStyle;if(document.defaultView&&document.defaultView.getComputedStyle){computedStyle=document.defaultView.getComputedStyle(element,"");if(properties){$.each(properties,function(idx,value){styles[value]=computedStyle.getPropertyValue(value);});}}else{computedStyle=element.currentStyle;if(properties){$.each(properties,function(idx,value){styles[value]=computedStyle[toCamelCase(value)];});}}
if(!kendo.size(styles)){styles=computedStyle;}
return styles;}
function isScrollable(element){return getComputedStyles(element,["overflow"]).overflow!="visible";}
(function(){support._scrollbar=undefined;support.scrollbar=function(refresh){if(!isNaN(support._scrollbar)&&!refresh){return support._scrollbar;}else{var div=document.createElement("div"),result;div.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";div.innerHTML="&nbsp;";document.body.appendChild(div);support._scrollbar=result=div.offsetWidth-div.scrollWidth;document.body.removeChild(div);return result;}};support.isRtl=function(element){return $(element).closest(".k-rtl").length>0;};var table=document.createElement("table");try{table.innerHTML="<tr><td></td></tr>";support.tbodyInnerHtml=true;}catch(e){support.tbodyInnerHtml=false;}
support.touch="ontouchstart"in window;support.msPointers=window.MSPointerEvent;support.pointers=window.PointerEvent;var transitions=support.transitions=false,transforms=support.transforms=false,elementProto="HTMLElement"in window?HTMLElement.prototype:[];support.hasHW3D=("WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix())||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style;each(["Moz","webkit","O","ms"],function(){var prefix=this.toString(),hasTransitions=typeof table.style[prefix+"Transition"]===STRING;if(hasTransitions||typeof table.style[prefix+"Transform"]===STRING){var lowPrefix=prefix.toLowerCase();transforms={css:(lowPrefix!="ms")?"-"+lowPrefix+"-":"",prefix:prefix,event:(lowPrefix==="o"||lowPrefix==="webkit")?lowPrefix:""};if(hasTransitions){transitions=transforms;transitions.event=transitions.event?transitions.event+"TransitionEnd":"transitionend";}
return false;}});table=null;support.transforms=transforms;support.transitions=transitions;support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio;try{support.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth;support.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight;}catch(e){support.screenWidth=window.screen.availWidth;support.screenHeight=window.screen.availHeight;}
support.detectOS=function(ua){var os=false,minorVersion,match=[],notAndroidPhone=!/mobile safari/i.test(ua),agentRxs={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},osRxs={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},formFactorRxs={tablet:/playbook|ipad|fire/i},browserRxs={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var agent in agentRxs){if(agentRxs.hasOwnProperty(agent)){match=ua.match(agentRxs[agent]);if(match){if(agent=="windows"&&"plugins"in navigator){return false;}
os={};os.device=agent;os.tablet=testRx(agent,formFactorRxs,false);os.browser=testRx(ua,browserRxs,"default");os.name=testRx(agent,osRxs);os[os.name]=true;os.majorVersion=match[2];os.minorVersion=match[3].replace("_",".");minorVersion=os.minorVersion.replace(".","").substr(0,2);os.flatVersion=os.majorVersion+minorVersion+(new Array(3-(minorVersion.length<3?minorVersion.length:2)).join("0"));os.cordova=typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED;os.appMode=window.navigator.standalone||(/file|local|wmapp/).test(window.location.protocol)||os.cordova;if(os.android&&(support.devicePixelRatio<1.5&&os.flatVersion<400||notAndroidPhone)&&(support.screenWidth>800||support.screenHeight>800)){os.tablet=agent;}
break;}}}
return os;};var mobileOS=support.mobileOS=support.detectOS(navigator.userAgent);support.wpDevicePixelRatio=mobileOS.wp?screen.width/320:0;support.kineticScrollNeeded=mobileOS&&(support.touch||support.msPointers||support.pointers);support.hasNativeScrolling=false;if(mobileOS.ios||(mobileOS.android&&mobileOS.majorVersion>2)||mobileOS.wp){support.hasNativeScrolling=mobileOS;}
support.mouseAndTouchPresent=support.touch&&!(support.mobileOS.ios||support.mobileOS.android);support.detectBrowser=function(ua){var browser=false,match=[],browserRxs={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var agent in browserRxs){if(browserRxs.hasOwnProperty(agent)){match=ua.match(browserRxs[agent]);if(match){browser={};browser[agent]=true;browser[match[1].toLowerCase().split(" ")[0].split("/")[0]]=true;browser.version=parseInt(document.documentMode||match[2],10);break;}}}
return browser;};support.browser=support.detectBrowser(navigator.userAgent);support.zoomLevel=function(){try{var browser=support.browser;var ie11WidthCorrection=0;var docEl=document.documentElement;if(browser.msie&&browser.version==11&&docEl.scrollHeight>docEl.clientHeight&&!support.touch){ie11WidthCorrection=support.scrollbar();}
return support.touch?(docEl.clientWidth/window.innerWidth):browser.msie&&browser.version>=10?(((top||window).document.documentElement.offsetWidth+ie11WidthCorrection)/(top||window).innerWidth):1;}catch(e){return 1;}};support.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(support.browser.msie&&support.browser.version<8);(function(browser){var cssClass="",docElement=$(document.documentElement),majorVersion=parseInt(browser.version,10);if(browser.msie){cssClass="ie";}else if(browser.mozilla){cssClass="ff";}else if(browser.safari){cssClass="safari";}else if(browser.webkit){cssClass="webkit";}else if(browser.opera){cssClass="opera";}
if(cssClass){cssClass="k-"+cssClass+" k-"+cssClass+majorVersion;}
if(support.mobileOS){cssClass+=" k-mobile";}
docElement.addClass(cssClass);})(support.browser);support.eventCapture=document.documentElement.addEventListener;var input=document.createElement("input");support.placeholder="placeholder"in input;support.propertyChangeEvent="onpropertychange"in input;support.input=(function(){var types=["number","date","time","month","week","datetime","datetime-local"];var length=types.length;var value="test";var result={};var idx=0;var type;for(;idx<length;idx++){type=types[idx];input.setAttribute("type",type);input.value=value;result[type.replace("-","")]=input.type!=="text"&&input.value!==value;}
return result;})();input.style.cssText="float:left;";support.cssFloat=!!input.style.cssFloat;input=null;support.stableSort=(function(){var threshold=513;var sorted=[{index:0,field:"b"}];for(var i=1;i<threshold;i++){sorted.push({index:i,field:"a"});}
sorted.sort(function(a,b){return a.field>b.field?1:(a.field<b.field?-1:0);});return sorted[0].index===1;})();support.matchesSelector=elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector||elementProto.oMatchesSelector||elementProto.matchesSelector||elementProto.matches||function(selector){var nodeList=document.querySelectorAll?(this.parentNode||document).querySelectorAll(selector)||[]:$(selector),i=nodeList.length;while(i--){if(nodeList[i]==this){return true;}}
return false;};support.pushState=window.history&&window.history.pushState;var documentMode=document.documentMode;support.hashChange=("onhashchange"in window)&&!(support.browser.msie&&(!documentMode||documentMode<=8));})();function size(obj){var result=0,key;for(key in obj){if(obj.hasOwnProperty(key)&&key!="toJSON"){result++;}}
return result;}
function getOffset(element,type,positioned){if(!type){type="offset";}
var result=element[type](),mobileOS=support.mobileOS;if(support.browser.msie&&(support.pointers||support.msPointers)&&!positioned){result.top-=(window.pageYOffset-document.documentElement.scrollTop);result.left-=(window.pageXOffset-document.documentElement.scrollLeft);}
return result;}
var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function parseEffects(input){var effects={};each((typeof input==="string"?input.split(" "):input),function(idx){effects[idx]=this;});return effects;}
function fx(element){return new kendo.effects.Element(element);}
var effects={};$.extend(effects,{enabled:true,Element:function(element){this.element=$(element);},promise:function(element,options){if(!element.is(":visible")){element.css({display:element.data("olddisplay")||"block"}).css("display");}
if(options.hide){element.data("olddisplay",element.css("display")).hide();}
if(options.init){options.init();}
if(options.completeCallback){options.completeCallback(element);}
element.dequeue();},disable:function(){this.enabled=false;this.promise=this.promiseShim;},enable:function(){this.enabled=true;this.promise=this.animatedPromise;}});effects.promiseShim=effects.promise;function prepareAnimationOptions(options,duration,reverse,complete){if(typeof options===STRING){if(isFunction(duration)){complete=duration;duration=400;reverse=false;}
if(isFunction(reverse)){complete=reverse;reverse=false;}
if(typeof duration===BOOLEAN){reverse=duration;duration=400;}
options={effects:options,duration:duration,reverse:reverse,complete:complete};}
return extend({effects:{},duration:400,reverse:false,init:noop,teardown:noop,hide:false},options,{completeCallback:options.complete,complete:noop});}
function animate(element,options,duration,reverse,complete){var idx=0,length=element.length,instance;for(;idx<length;idx++){instance=$(element[idx]);instance.queue(function(){effects.promise(instance,prepareAnimationOptions(options,duration,reverse,complete));});}
return element;}
function toggleClass(element,classes,options,add){if(classes){classes=classes.split(" ");each(classes,function(idx,value){element.toggleClass(value,add);});}
return element;}
if(!("kendoAnimate"in $.fn)){extend($.fn,{kendoStop:function(clearQueue,gotoEnd){return this.stop(clearQueue,gotoEnd);},kendoAnimate:function(options,duration,reverse,complete){return animate(this,options,duration,reverse,complete);},kendoAddClass:function(classes,options){return kendo.toggleClass(this,classes,options,true);},kendoRemoveClass:function(classes,options){return kendo.toggleClass(this,classes,options,false);},kendoToggleClass:function(classes,options,toggle){return kendo.toggleClass(this,classes,options,toggle);}});}
var ampRegExp=/&/g,ltRegExp=/</g,quoteRegExp=/"/g,aposRegExp=/'/g,gtRegExp=/>/g;function htmlEncode(value){return(""+value).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;").replace(quoteRegExp,"&quot;").replace(aposRegExp,"&#39;");}
var eventTarget=function(e){return e.target;};if(support.touch){eventTarget=function(e){var touches="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return touches?document.elementFromPoint(touches[0].clientX,touches[0].clientY):e.target;};each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(m,value){$.fn[value]=function(callback){return this.bind(value,callback);};});}
if(support.touch){if(!support.mobileOS){support.mousedown="mousedown touchstart";support.mouseup="mouseup touchend";support.mousemove="mousemove touchmove";support.mousecancel="mouseleave touchcancel";support.click="click";support.resize="resize";}else{support.mousedown="touchstart";support.mouseup="touchend";support.mousemove="touchmove";support.mousecancel="touchcancel";support.click="touchend";support.resize="orientationchange";}}else if(support.pointers){support.mousemove="pointermove";support.mousedown="pointerdown";support.mouseup="pointerup";support.mousecancel="pointercancel";support.click="pointerup";support.resize="orientationchange resize";}else if(support.msPointers){support.mousemove="MSPointerMove";support.mousedown="MSPointerDown";support.mouseup="MSPointerUp";support.mousecancel="MSPointerCancel";support.click="MSPointerUp";support.resize="orientationchange resize";}else{support.mousemove="mousemove";support.mousedown="mousedown";support.mouseup="mouseup";support.mousecancel="mouseleave";support.click="click";support.resize="resize";}
var wrapExpression=function(members,paramName){var result=paramName||"d",index,idx,length,member,count=1;for(idx=0,length=members.length;idx<length;idx++){member=members[idx];if(member!==""){index=member.indexOf("[");if(index!==0){if(index==-1){member="."+member;}else{count++;member="."+member.substring(0,index)+" || {})"+member.substring(index);}}
count++;result+=member+((idx<length-1)?" || {})":")");}}
return new Array(count).join("(")+result;},localUrlRe=/^([a-z]+:)?\/\//i;extend(kendo,{ui:kendo.ui||{},fx:kendo.fx||fx,effects:kendo.effects||effects,mobile:kendo.mobile||{},data:kendo.data||{},dataviz:kendo.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:kendo.support||support,animate:kendo.animate||animate,ns:"",attr:function(value){return"data-"+kendo.ns+value;},getShadows:getShadows,wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,isScrollable:isScrollable,size:size,toCamelCase:toCamelCase,toHyphens:toHyphens,getOffset:kendo.getOffset||getOffset,parseEffects:kendo.parseEffects||parseEffects,toggleClass:kendo.toggleClass||toggleClass,directions:kendo.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(url){return url&&!localUrlRe.test(url);},expr:function(expression,safe,paramName){expression=expression||"";if(typeof safe==STRING){paramName=safe;safe=false;}
paramName=paramName||"d";if(expression&&expression.charAt(0)!=="["){expression="."+expression;}
if(safe){expression=expression.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');expression=expression.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");expression=wrapExpression(expression.split("."),paramName);expression=expression.replace(/_\$DOT\$_/g,".");}else{expression=paramName+expression;}
return expression;},getter:function(expression,safe){var key=expression+safe;return getterCache[key]=getterCache[key]||new Function("d","return "+kendo.expr(expression,safe));},setter:function(expression){return setterCache[expression]=setterCache[expression]||new Function("d,value",kendo.expr(expression)+"=value");},accessor:function(expression){return{get:kendo.getter(expression),set:kendo.setter(expression)};},guid:function(){var id="",i,random;for(i=0;i<32;i++){random=math.random()*16|0;if(i==8||i==12||i==16||i==20){id+="-";}
id+=(i==12?4:(i==16?(random&3|8):random)).toString(16);}
return id;},roleSelector:function(role){return role.replace(/(\S+)/g,"["+kendo.attr("role")+"=$1],").slice(0,-1);},directiveSelector:function(directives){var selectors=directives.split(" ");if(selectors){for(var i=0;i<selectors.length;i++){if(selectors[i]!="view"){selectors[i]=selectors[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2");}}}
return selectors.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1);},triggeredByInput:function(e){return(/^(label|input|textarea|select)$/i).test(e.target.tagName);},logToConsole:function(message){var console=window.console;if(!kendo.suppressLog&&typeof(console)!="undefined"&&console.log){console.log(message);}}});var Widget=Observable.extend({init:function(element,options){var that=this;that.element=kendo.jQuery(element).handler(that);that.angular("init",options);Observable.fn.init.call(that);var dataSource=options?options.dataSource:null;if(dataSource){options=extend({},options,{dataSource:{}});}
options=that.options=extend(true,{},that.options,options);if(dataSource){options.dataSource=dataSource;}
if(!that.element.attr(kendo.attr("role"))){that.element.attr(kendo.attr("role"),(options.name||"").toLowerCase());}
that.element.data("kendo"+options.prefix+options.name,that);that.bind(that.events,options);},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget;},_tabindex:function(target){target=target||this.wrapper;var element=this.element,TABINDEX="tabindex",tabindex=target.attr(TABINDEX)||element.attr(TABINDEX);element.removeAttr(TABINDEX);target.attr(TABINDEX,!isNaN(tabindex)?tabindex:0);},setOptions:function(options){this._setEvents(options);$.extend(this.options,options);},_setEvents:function(options){var that=this,idx=0,length=that.events.length,e;for(;idx<length;idx++){e=that.events[idx];if(that.options[e]&&options[e]){that.unbind(e,that.options[e]);}}
that.bind(that.events,options);},resize:function(force){var size=this.getSize(),currentSize=this._size;if(force||(size.width>0||size.height>0)&&(!currentSize||size.width!==currentSize.width||size.height!==currentSize.height)){this._size=size;this._resize(size,force);this.trigger("resize",size);}},getSize:function(){return kendo.dimensions(this.element);},size:function(size){if(!size){return this.getSize();}else{this.setSize(size);}},setSize:$.noop,_resize:$.noop,destroy:function(){var that=this;that.element.removeData("kendo"+that.options.prefix+that.options.name);that.element.removeData("handler");that.unbind();},angular:function(){}});var DataBoundWidget=Widget.extend({dataItems:function(){return this.dataSource.flatView();},_angularItems:function(cmd){var that=this;that.angular(cmd,function(){return{elements:that.items(),data:$.map(that.dataItems(),function(dataItem){return{dataItem:dataItem};})};});}});kendo.dimensions=function(element,dimensions){var domElement=element[0];if(dimensions){element.css(dimensions);}
return{width:domElement.offsetWidth,height:domElement.offsetHeight};};kendo.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,dashRegExp=/([A-Z])/g;function parseOption(element,option){var value;if(option.indexOf("data")===0){option=option.substring(4);option=option.charAt(0).toLowerCase()+option.substring(1);}
option=option.replace(dashRegExp,"-$1");value=element.getAttribute("data-"+kendo.ns+option);if(value===null){value=undefined;}else if(value==="null"){value=null;}else if(value==="true"){value=true;}else if(value==="false"){value=false;}else if(numberRegExp.test(value)){value=parseFloat(value);}else if(jsonRegExp.test(value)&&!jsonFormatRegExp.test(value)){value=new Function("return ("+value+")")();}
return value;}
function parseOptions(element,options){var result={},option,value;for(option in options){value=parseOption(element,option);if(value!==undefined){if(templateRegExp.test(option)){value=kendo.template($("#"+value).html());}
result[option]=value;}}
return result;}
kendo.initWidget=function(element,options,roles){var result,option,widget,idx,length,role,value,dataSource,fullPath,widgetKeyRegExp;if(!roles){roles=kendo.ui.roles;}else if(roles.roles){roles=roles.roles;}
element=element.nodeType?element:element[0];role=element.getAttribute("data-"+kendo.ns+"role");if(!role){return;}
fullPath=role.indexOf(".")===-1;if(fullPath){widget=roles[role];}else{widget=kendo.getter(role)(window);}
var data=$(element).data(),widgetKey=widget?"kendo"+widget.fn.options.prefix+widget.fn.options.name:"";if(fullPath){widgetKeyRegExp=new RegExp("^kendo.*"+role+"$","i");}else{widgetKeyRegExp=new RegExp("^"+widgetKey+"$","i");}
for(var key in data){if(key.match(widgetKeyRegExp)){if(key===widgetKey){result=data[key];}else{return data[key];}}}
if(!widget){return;}
dataSource=parseOption(element,"dataSource");options=$.extend({},parseOptions(element,widget.fn.options),options);if(dataSource){if(typeof dataSource===STRING){options.dataSource=kendo.getter(dataSource)(window);}else{options.dataSource=dataSource;}}
for(idx=0,length=widget.fn.events.length;idx<length;idx++){option=widget.fn.events[idx];value=parseOption(element,option);if(value!==undefined){options[option]=kendo.getter(value)(window);}}
if(!result){result=new widget(element,options);}else if(!$.isEmptyObject(options)){result.setOptions(options);}
return result;};kendo.rolesFromNamespaces=function(namespaces){var roles=[],idx,length;if(!namespaces[0]){namespaces=[kendo.ui,kendo.dataviz.ui];}
for(idx=0,length=namespaces.length;idx<length;idx++){roles[idx]=namespaces[idx].roles;}
return extend.apply(null,[{}].concat(roles.reverse()));};kendo.init=function(element){var roles=kendo.rolesFromNamespaces(slice.call(arguments,1));$(element).find("[data-"+kendo.ns+"role]").addBack().each(function(){kendo.initWidget(this,{},roles);});};kendo.destroy=function(element){$(element).find("[data-"+kendo.ns+"role]").addBack().each(function(){var data=$(this).data();for(var key in data){if(key.indexOf("kendo")===0&&typeof data[key].destroy===FUNCTION){data[key].destroy();}}});};function containmentComparer(a,b){return $.contains(a,b)?-1:1;}
function resizableWidget(){var widget=$(this);return($.inArray(widget.attr("data-"+kendo.ns+"role"),["slider","rangeslider"])>-1)||widget.is(":visible");}
kendo.resize=function(element,force){var widgets=$(element).find("[data-"+kendo.ns+"role]").addBack().filter(resizableWidget);if(!widgets.length){return;}
var widgetsArray=$.makeArray(widgets);widgetsArray.sort(containmentComparer);$.each(widgetsArray,function(){var widget=kendo.widgetInstance($(this));if(widget){widget.resize(force);}});};kendo.parseOptions=parseOptions;extend(kendo.ui,{Widget:Widget,DataBoundWidget:DataBoundWidget,roles:{},progress:function(container,toggle){var mask=container.find(".k-loading-mask"),support=kendo.support,browser=support.browser,isRtl,leftRight,webkitCorrection,containerScrollLeft;if(toggle){if(!mask.length){isRtl=support.isRtl(container);leftRight=isRtl?"right":"left";containerScrollLeft=container.scrollLeft();webkitCorrection=browser.webkit?(!isRtl?0:container[0].scrollWidth-container.width()-2*containerScrollLeft):0;mask=$("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",container.scrollTop()).css(leftRight,Math.abs(containerScrollLeft)+webkitCorrection).prependTo(container);}}else if(mask){mask.remove();}},plugin:function(widget,register,prefix){var name=widget.fn.options.name,getter;register=register||kendo.ui;prefix=prefix||"";register[name]=widget;register.roles[name.toLowerCase()]=widget;getter="getKendo"+prefix+name;name="kendo"+prefix+name;$.fn[name]=function(options){var value=this,args;if(typeof options===STRING){args=slice.call(arguments,1);this.each(function(){var widget=$.data(this,name),method,result;if(!widget){throw new Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",options,name));}
method=widget[options];if(typeof method!==FUNCTION){throw new Error(kendo.format("Cannot find method '{0}' of {1}",options,name));}
result=method.apply(widget,args);if(result!==undefined){value=result;return false;}});}else{this.each(function(){new widget(this,options);});}
return value;};$.fn[name].widget=widget;$.fn[getter]=function(){return this.data(name);};}});var ContainerNullObject={bind:function(){return this;},nullObject:true,options:{}};var MobileWidget=Widget.extend({init:function(element,options){Widget.fn.init.call(this,element,options);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget");},destroy:function(){Widget.fn.destroy.call(this);this.element.kendoDestroy();},options:{prefix:"Mobile"},events:[],view:function(){var viewElement=this.element.closest(kendo.roleSelector("view splitview modalview drawer"));return kendo.widgetInstance(viewElement,kendo.mobile.ui)||ContainerNullObject;},viewHasNativeScrolling:function(){var view=this.view();return view&&view.options.useNativeScrolling;},container:function(){var element=this.element.closest(kendo.roleSelector("view layout modalview drawer splitview"));return kendo.widgetInstance(element.eq(0),kendo.mobile.ui)||ContainerNullObject;}});extend(kendo.mobile,{init:function(element){kendo.init(element,kendo.mobile.ui,kendo.ui,kendo.dataviz.ui);},appLevelNativeScrolling:function(){return kendo.mobile.application&&kendo.mobile.application.options&&kendo.mobile.application.options.useNativeScrolling;},roles:{},ui:{Widget:MobileWidget,DataBoundWidget:DataBoundWidget.extend(MobileWidget.prototype),roles:{},plugin:function(widget){kendo.ui.plugin(widget,kendo.mobile.ui,"Mobile");}}});deepExtend(kendo.dataviz,{init:function(element){kendo.init(element,kendo.dataviz.ui);},ui:{roles:{},themes:{},views:[],plugin:function(widget){kendo.ui.plugin(widget,kendo.dataviz.ui);}},roles:{}});kendo.touchScroller=function(elements,options){return $(elements).map(function(idx,element){element=$(element);if(support.kineticScrollNeeded&&kendo.mobile.ui.Scroller&&!element.data("kendoMobileScroller")){element.kendoMobileScroller(options);return element.data("kendoMobileScroller");}else{return false;}})[0];};kendo.preventDefault=function(e){e.preventDefault();};kendo.widgetInstance=function(element,suites){var role=element.data(kendo.ns+"role"),widgets=[],i,length;if(role){if(role==="content"){role="scroller";}
if(suites){if(suites[0]){for(i=0,length=suites.length;i<length;i++){widgets.push(suites[i].roles[role]);}}else{widgets.push(suites.roles[role]);}}
else{widgets=[kendo.ui.roles[role],kendo.dataviz.ui.roles[role],kendo.mobile.ui.roles[role]];}
if(role.indexOf(".")>=0){widgets=[kendo.getter(role)(window)];}
for(i=0,length=widgets.length;i<length;i++){var widget=widgets[i];if(widget){var instance=element.data("kendo"+widget.fn.options.prefix+widget.fn.options.name);if(instance){return instance;}}}}};kendo.onResize=function(callback){var handler=callback;if(support.mobileOS.android){handler=function(){setTimeout(callback,600);};}
$(window).on(support.resize,handler);return handler;};kendo.unbindResize=function(callback){$(window).off(support.resize,callback);};kendo.attrValue=function(element,key){return element.data(kendo.ns+key);};kendo.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"||$.expr.filters.hidden(this);}).length;}
$.extend($.expr[":"],{kendoFocusable:function(element){var idx=$.attr(element,"tabindex");return focusable(element,!isNaN(idx)&&idx>-1);}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var EXCLUDE_BUST_CLICK_SELECTOR="label, input, [data-rel=external]";var MouseEventNormalizer={setupMouseMute:function(){var idx=0,length=MOUSE_EVENTS.length,element=document.documentElement;if(MouseEventNormalizer.mouseTrap||!support.eventCapture){return;}
MouseEventNormalizer.mouseTrap=true;MouseEventNormalizer.bustClick=false;MouseEventNormalizer.captureMouse=false;var handler=function(e){if(MouseEventNormalizer.captureMouse){if(e.type==="click"){if(MouseEventNormalizer.bustClick&&!$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)){e.preventDefault();e.stopPropagation();}}else{e.stopPropagation();}}};for(;idx<length;idx++){element.addEventListener(MOUSE_EVENTS[idx],handler,true);}},muteMouse:function(e){MouseEventNormalizer.captureMouse=true;if(e.data.bustClick){MouseEventNormalizer.bustClick=true;}
clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);},unMuteMouse:function(){clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);MouseEventNormalizer.mouseTrapTimeoutID=setTimeout(function(){MouseEventNormalizer.captureMouse=false;MouseEventNormalizer.bustClick=false;},400);}};var eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(support.touch&&(support.mobileOS.ios||support.mobileOS.android)){eventMap={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"};}else if(support.pointers){eventMap={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};}else if(support.msPointers){eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"};}
if(support.msPointers&&!("onmspointerenter"in window)){$.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(orig,fix){$.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!$.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});}
var getEventMap=function(e){return(eventMap[e]||e);},eventRegEx=/([^ ]+)/g;kendo.applyEventMap=function(events,ns){events=events.replace(eventRegEx,getEventMap);if(ns){events=events.replace(eventRegEx,"$1."+ns);}
return events;};var on=$.fn.on;function kendoJQuery(selector,context){return new kendoJQuery.fn.init(selector,context);}
extend(true,kendoJQuery,$);kendoJQuery.fn=kendoJQuery.prototype=new $();kendoJQuery.fn.constructor=kendoJQuery;kendoJQuery.fn.init=function(selector,context){if(context&&context instanceof $&&!(context instanceof kendoJQuery)){context=kendoJQuery(context);}
return $.fn.init.call(this,selector,context,rootjQuery);};kendoJQuery.fn.init.prototype=kendoJQuery.fn;var rootjQuery=kendoJQuery(document);extend(kendoJQuery.fn,{handler:function(handler){this.data("handler",handler);return this;},autoApplyNS:function(ns){this.data("kendoNS",ns||kendo.guid());return this;},on:function(){var that=this,ns=that.data("kendoNS");if(arguments.length===1){return on.call(that,arguments[0]);}
var context=that,args=slice.call(arguments);if(typeof args[args.length-1]===UNDEFINED){args.pop();}
var callback=args[args.length-1],events=kendo.applyEventMap(args[0],ns);if(support.mouseAndTouchPresent&&events.search(/mouse|click/)>-1&&this[0]!==document.documentElement){MouseEventNormalizer.setupMouseMute();var selector=args.length===2?null:args[1],bustClick=events.indexOf("click")>-1&&events.indexOf("touchend")>-1;on.call(this,{touchstart:MouseEventNormalizer.muteMouse,touchend:MouseEventNormalizer.unMuteMouse},selector,{bustClick:bustClick});}
if(typeof callback===STRING){context=that.data("handler");callback=context[callback];args[args.length-1]=function(e){callback.call(context,e);};}
args[0]=events;on.apply(that,args);return that;},kendoDestroy:function(ns){ns=ns||this.data("kendoNS");if(ns){this.off("."+ns);}
return this;}});kendo.jQuery=kendoJQuery;kendo.eventMap=eventMap;kendo.timezone=(function(){var months={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var days={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function ruleToDate(year,rule){var date;var targetDay;var ourDay;var month=rule[3];var on=rule[4];var time=rule[5];var cache=rule[8];if(!cache){rule[8]=cache={};}
if(cache[year]){return cache[year];}
if(!isNaN(on)){date=new Date(Date.UTC(year,months[month],on,time[0],time[1],time[2],0));}else if(on.indexOf("last")===0){date=new Date(Date.UTC(year,months[month]+1,1,time[0]-24,time[1],time[2],0));targetDay=days[on.substr(4,3)];ourDay=date.getUTCDay();date.setUTCDate(date.getUTCDate()+targetDay-ourDay-(targetDay>ourDay?7:0));}else if(on.indexOf(">=")>=0){date=new Date(Date.UTC(year,months[month],on.substr(5),time[0],time[1],time[2],0));targetDay=days[on.substr(0,3)];ourDay=date.getUTCDay();date.setUTCDate(date.getUTCDate()+targetDay-ourDay+(targetDay<ourDay?7:0));}
return cache[year]=date;}
function findRule(utcTime,rules,zone){rules=rules[zone];if(!rules){var time=zone.split(":");var offset=0;if(time.length>1){offset=time[0]*60+Number(time[1]);}
return[-1000000,'max','-','Jan',1,[0,0,0],offset,'-'];}
var year=new Date(utcTime).getUTCFullYear();rules=jQuery.grep(rules,function(rule){var from=rule[0];var to=rule[1];return from<=year&&(to>=year||(from==year&&to=="only")||to=="max");});rules.push(utcTime);rules.sort(function(a,b){if(typeof a!="number"){a=Number(ruleToDate(year,a));}
if(typeof b!="number"){b=Number(ruleToDate(year,b));}
return a-b;});var rule=rules[jQuery.inArray(utcTime,rules)-1]||rules[rules.length-1];return isNaN(rule)?rule:null;}
function findZone(utcTime,zones,timezone){var zoneRules=zones[timezone];if(typeof zoneRules==="string"){zoneRules=zones[zoneRules];}
if(!zoneRules){throw new Error('Timezone "'+timezone+'" is either incorrect, or kendo.timezones.min.js is not included.');}
for(var idx=zoneRules.length-1;idx>=0;idx--){var until=zoneRules[idx][3];if(until&&utcTime>until){break;}}
var zone=zoneRules[idx+1];if(!zone){throw new Error('Timezone "'+timezone+'" not found on '+utcTime+".");}
return zone;}
function zoneAndRule(utcTime,zones,rules,timezone){if(typeof utcTime!=NUMBER){utcTime=Date.UTC(utcTime.getFullYear(),utcTime.getMonth(),utcTime.getDate(),utcTime.getHours(),utcTime.getMinutes(),utcTime.getSeconds(),utcTime.getMilliseconds());}
var zone=findZone(utcTime,zones,timezone);return{zone:zone,rule:findRule(utcTime,rules,zone[1])};}
function offset(utcTime,timezone){if(timezone=="Etc/UTC"||timezone=="Etc/GMT"){return 0;}
var info=zoneAndRule(utcTime,this.zones,this.rules,timezone);var zone=info.zone;var rule=info.rule;return kendo.parseFloat(rule?zone[0]-rule[6]:zone[0]);}
function abbr(utcTime,timezone){var info=zoneAndRule(utcTime,this.zones,this.rules,timezone);var zone=info.zone;var rule=info.rule;var base=zone[2];if(base.indexOf("/")>=0){return base.split("/")[rule&&+rule[6]?1:0];}else if(base.indexOf("%s")>=0){return base.replace("%s",(!rule||rule[7]=="-")?'':rule[7]);}
return base;}
function convert(date,fromOffset,toOffset){if(typeof fromOffset==STRING){fromOffset=this.offset(date,fromOffset);}
if(typeof toOffset==STRING){toOffset=this.offset(date,toOffset);}
var fromLocalOffset=date.getTimezoneOffset();date=new Date(date.getTime()+(fromOffset-toOffset)*60000);var toLocalOffset=date.getTimezoneOffset();return new Date(date.getTime()+(toLocalOffset-fromLocalOffset)*60000);}
function apply(date,timezone){return this.convert(date,date.getTimezoneOffset(),timezone);}
function remove(date,timezone){return this.convert(date,timezone,date.getTimezoneOffset());}
function toLocalDate(time){return this.apply(new Date(time),"Etc/UTC");}
return{zones:{},rules:{},offset:offset,convert:convert,apply:apply,remove:remove,abbr:abbr,toLocalDate:toLocalDate};})();kendo.date=(function(){var MS_PER_MINUTE=60000,MS_PER_DAY=86400000;function adjustDST(date,hours){if(hours===0&&date.getHours()===23){date.setHours(date.getHours()+2);return true;}
return false;}
function setDayOfWeek(date,day,dir){var hours=date.getHours();dir=dir||1;day=((day-date.getDay())+(7*dir))%7;date.setDate(date.getDate()+day);adjustDST(date,hours);}
function dayOfWeek(date,day,dir){date=new Date(date);setDayOfWeek(date,day,dir);return date;}
function firstDayOfMonth(date){return new Date(date.getFullYear(),date.getMonth(),1);}
function lastDayOfMonth(date){var last=new Date(date.getFullYear(),date.getMonth()+1,0),first=firstDayOfMonth(date),timeOffset=Math.abs(last.getTimezoneOffset()-first.getTimezoneOffset());if(timeOffset){last.setHours(first.getHours()+(timeOffset/60));}
return last;}
function getDate(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);adjustDST(date,0);return date;}
function toUtcTime(date){return Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());}
function getMilliseconds(date){return date.getTime()-getDate(date);}
function isInTimeRange(value,min,max){var msMin=getMilliseconds(min),msMax=getMilliseconds(max),msValue;if(!value||msMin==msMax){return true;}
if(min>=max){max+=MS_PER_DAY;}
msValue=getMilliseconds(value);if(msMin>msValue){msValue+=MS_PER_DAY;}
if(msMax<msMin){msMax+=MS_PER_DAY;}
return msValue>=msMin&&msValue<=msMax;}
function isInDateRange(value,min,max){var msMin=min.getTime(),msMax=max.getTime(),msValue;if(msMin>=msMax){msMax+=MS_PER_DAY;}
msValue=value.getTime();return msValue>=msMin&&msValue<=msMax;}
function addDays(date,offset){var hours=date.getHours();date=new Date(date);setTime(date,offset*MS_PER_DAY);adjustDST(date,hours);return date;}
function setTime(date,milliseconds,ignoreDST){var offset=date.getTimezoneOffset();var difference;date.setTime(date.getTime()+milliseconds);if(!ignoreDST){difference=date.getTimezoneOffset()-offset;date.setTime(date.getTime()+difference*MS_PER_MINUTE);}}
function today(){return getDate(new Date());}
function isToday(date){return getDate(date).getTime()==today().getTime();}
function toInvariantTime(date){var staticDate=new Date(1980,1,1,0,0,0);if(date){staticDate.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());}
return staticDate;}
return{adjustDST:adjustDST,dayOfWeek:dayOfWeek,setDayOfWeek:setDayOfWeek,getDate:getDate,isInDateRange:isInDateRange,isInTimeRange:isInTimeRange,isToday:isToday,nextDay:function(date){return addDays(date,1);},previousDay:function(date){return addDays(date,-1);},toUtcTime:toUtcTime,MS_PER_DAY:MS_PER_DAY,MS_PER_HOUR:60*MS_PER_MINUTE,MS_PER_MINUTE:MS_PER_MINUTE,setTime:setTime,addDays:addDays,today:today,toInvariantTime:toInvariantTime,firstDayOfMonth:firstDayOfMonth,lastDayOfMonth:lastDayOfMonth,getMilliseconds:getMilliseconds};})();kendo.stripWhitespace=function(element){if(document.createNodeIterator){var iterator=document.createNodeIterator(element,NodeFilter.SHOW_TEXT,function(node){return node.parentNode==element?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;},false);while(iterator.nextNode()){if(iterator.referenceNode&&!iterator.referenceNode.textContent.trim()){iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);}}}else{for(var i=0;i<element.childNodes.length;i++){var child=element.childNodes[i];if(child.nodeType==3&&!/\S/.test(child.nodeValue)){element.removeChild(child);i--;}
if(child.nodeType==1){kendo.stripWhitespace(child);}}}};var animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,1000/60);};kendo.animationFrame=function(callback){animationFrame.call(window,callback);};var animationQueue=[];kendo.queueAnimation=function(callback){animationQueue[animationQueue.length]=callback;if(animationQueue.length===1){kendo.runNextAnimation();}};kendo.runNextAnimation=function(){kendo.animationFrame(function(){if(animationQueue[0]){animationQueue.shift()();if(animationQueue[0]){kendo.runNextAnimation();}}});};kendo.parseQueryStringParams=function(url){var queryString=url.split('?')[1]||"",params={},paramParts=queryString.split(/&|=/),length=paramParts.length,idx=0;for(;idx<length;idx+=2){if(paramParts[idx]!==""){params[decodeURIComponent(paramParts[idx])]=decodeURIComponent(paramParts[idx+1]);}}
return params;};kendo.elementUnderCursor=function(e){if(typeof e.x.client!="undefined"){return document.elementFromPoint(e.x.client,e.y.client);}};kendo.wheelDeltaY=function(jQueryEvent){var e=jQueryEvent.originalEvent,deltaY=e.wheelDeltaY,delta;if(e.wheelDelta){if(deltaY===undefined||deltaY){delta=e.wheelDelta;}}else if(e.detail&&e.axis===e.VERTICAL_AXIS){delta=(-e.detail)*10;}
return delta;};kendo.throttle=function(fn,delay){var timeout;var lastExecTime=0;if(!delay||delay<=0){return fn;}
var throttled=function(){var that=this;var elapsed=+new Date()-lastExecTime;var args=arguments;function exec(){fn.apply(that,args);lastExecTime=+new Date();}
if(!lastExecTime){return exec();}
if(timeout){clearTimeout(timeout);}
if(elapsed>delay){exec();}else{timeout=setTimeout(exec,delay-elapsed);}};throttled.cancel=function(){clearTimeout(timeout);};return throttled;};kendo.caret=function(element,start,end){var rangeElement;var isPosition=start!==undefined;if(end===undefined){end=start;}
if(element[0]){element=element[0];}
if(isPosition&&element.disabled){return;}
try{if(element.selectionStart!==undefined){if(isPosition){element.focus();element.setSelectionRange(start,end);}else{start=[element.selectionStart,element.selectionEnd];}}else if(document.selection){if($(element).is(":visible")){element.focus();}
rangeElement=element.createTextRange();if(isPosition){rangeElement.collapse(true);rangeElement.moveStart("character",start);rangeElement.moveEnd("character",end-start);rangeElement.select();}else{var rangeDuplicated=rangeElement.duplicate(),selectionStart,selectionEnd;rangeElement.moveToBookmark(document.selection.createRange().getBookmark());rangeDuplicated.setEndPoint('EndToStart',rangeElement);selectionStart=rangeDuplicated.text.length;selectionEnd=selectionStart+rangeElement.text.length;start=[selectionStart,selectionEnd];}}}catch(e){start=[];}
return start;};kendo.compileMobileDirective=function(element,scope){var angular=window.angular;element.attr("data-"+kendo.ns+"role",element[0].tagName.toLowerCase().replace('kendo-mobile-','').replace('-',''));angular.element(element).injector().invoke(["$compile",function($compile){$compile(element)(scope);if(!/^\$(digest|apply)$/.test(scope.$$phase)){scope.$digest();}}]);return kendo.widgetInstance(element,kendo.mobile.ui);};kendo.antiForgeryTokens=function(){var tokens={},csrf_token=$("meta[name=csrf-token],meta[name=_csrf]").attr("content"),csrf_param=$("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");$("input[name^='__RequestVerificationToken']").each(function(){tokens[this.name]=this.value;});if(csrf_param!==undefined&&csrf_token!==undefined){tokens[csrf_param]=csrf_token;}
return tokens;};kendo.cycleForm=function(form){var firstElement=form.find("input, .k-widget").first();var lastElement=form.find("button, .k-button").last();function focus(el){var widget=kendo.widgetInstance(el);if(widget&&widget.focus){widget.focus();}else{el.focus();}}
lastElement.on("keydown",function(e){if(e.keyCode==kendo.keys.TAB&&!e.shiftKey){e.preventDefault();focus(firstElement);}});firstElement.on("keydown",function(e){if(e.keyCode==kendo.keys.TAB&&e.shiftKey){e.preventDefault();focus(lastElement);}});};(function(){function postToProxy(dataURI,fileName,proxyURL,proxyTarget){var form=$("<form>").attr({action:proxyURL,method:"POST",target:proxyTarget});var data=kendo.antiForgeryTokens();data.fileName=fileName;var parts=dataURI.split(";base64,");data.contentType=parts[0].replace("data:","");data.base64=parts[1];for(var name in data){if(data.hasOwnProperty(name)){$('<input>').attr({value:data[name],name:name,type:"hidden"}).appendTo(form);}}
form.appendTo("body").submit().remove();}
var fileSaver=document.createElement("a");var downloadAttribute="download"in fileSaver;function saveAsBlob(dataURI,fileName){var blob=dataURI;if(typeof dataURI=="string"){var parts=dataURI.split(";base64,");var contentType=parts[0];var base64=atob(parts[1]);var array=new Uint8Array(base64.length);for(var idx=0;idx<base64.length;idx++){array[idx]=base64.charCodeAt(idx);}
blob=new Blob([array.buffer],{type:contentType});}
navigator.msSaveBlob(blob,fileName);}
function saveAsDataURI(dataURI,fileName){if(window.Blob&&dataURI instanceof Blob){dataURI=URL.createObjectURL(dataURI);}
fileSaver.download=fileName;fileSaver.href=dataURI;var e=document.createEvent("MouseEvents");e.initMouseEvent("click",true,false,window,0,0,0,0,0,false,false,false,false,0,null);fileSaver.dispatchEvent(e);}
kendo.saveAs=function(options){var save=postToProxy;if(!options.forceProxy){if(downloadAttribute){save=saveAsDataURI;}else if(navigator.msSaveBlob){save=saveAsBlob;}}
save(options.dataURI,options.fileName,options.proxyURL,options.proxyTarget);};})();})(jQuery,window);return window.kendo;},typeof define=='function'&&define.amd?define:function(_,f){f();});

(function(f,define){define(["./kendo.core"],f);})(function(){(function($,undefined){var kendo=window.kendo,support=kendo.support,ui=kendo.ui,Widget=ui.Widget,keys=kendo.keys,parse=kendo.parseDate,adjustDST=kendo.date.adjustDST,extractFormat=kendo._extractFormat,template=kendo.template,getCulture=kendo.getCulture,transitions=kendo.support.transitions,transitionOrigin=transitions?transitions.css+"transform-origin":"",cellTemplate=template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),emptyCellTemplate=template('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),browser=kendo.support.browser,isIE8=browser.msie&&browser.version<9,ns=".kendoCalendar",CLICK="click"+ns,KEYDOWN_NS="keydown"+ns,ID="id",MIN="min",LEFT="left",SLIDE="slideIn",MONTH="month",CENTURY="century",CHANGE="change",NAVIGATE="navigate",VALUE="value",HOVER="k-state-hover",DISABLED="k-state-disabled",FOCUSED="k-state-focused",OTHERMONTH="k-other-month",OTHERMONTHCLASS=' class="'+OTHERMONTH+'"',TODAY="k-nav-today",CELLSELECTOR="td:has(.k-link)",BLUR="blur"+ns,FOCUS="focus",FOCUS_WITH_NS=FOCUS+ns,MOUSEENTER=support.touch?"touchstart":"mouseenter",MOUSEENTER_WITH_NS=support.touch?"touchstart"+ns:"mouseenter"+ns,MOUSELEAVE=support.touch?"touchend"+ns+" touchmove"+ns:"mouseleave"+ns,MS_PER_MINUTE=60000,MS_PER_DAY=86400000,PREVARROW="_prevArrow",NEXTARROW="_nextArrow",ARIA_DISABLED="aria-disabled",ARIA_SELECTED="aria-selected",proxy=$.proxy,extend=$.extend,DATE=Date,views={month:0,year:1,decade:2,century:3};var Calendar=Widget.extend({init:function(element,options){var that=this,value,id;Widget.fn.init.call(that,element,options);element=that.wrapper=that.element;options=that.options;options.url=window.unescape(options.url);that._templates();that._header();that._footer(that.footer);id=element.addClass("k-widget k-calendar").on(MOUSEENTER_WITH_NS+" "+MOUSELEAVE,CELLSELECTOR,mousetoggle).on(KEYDOWN_NS,"table.k-content",proxy(that._move,that)).on(CLICK,CELLSELECTOR,function(e){var link=e.currentTarget.firstChild;if(link.href.indexOf("#")!=-1){e.preventDefault();}
that._click($(link));}).on("mouseup"+ns,"table.k-content, .k-footer",function(){that._focusView(that.options.focusOnNav!==false);}).attr(ID);if(id){that._cellID=id+"_cell_selected";}
normalize(options);value=parse(options.value,options.format,options.culture);that._index=views[options.start];that._current=new DATE(+restrictValue(value,options.min,options.max));that._addClassProxy=function(){that._active=true;that._cell.addClass(FOCUSED);};that._removeClassProxy=function(){that._active=false;that._cell.removeClass(FOCUSED);};that.value(value);kendo.notify(that);},options:{name:"Calendar",value:null,min:new DATE(1900,0,1),max:new DATE(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:MONTH,depth:MONTH,animation:{horizontal:{effects:SLIDE,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[CHANGE,NAVIGATE],setOptions:function(options){var that=this;normalize(options);if(!options.dates[0]){options.dates=that.options.dates;}
Widget.fn.setOptions.call(that,options);that._templates();that._footer(that.footer);that._index=views[that.options.start];that.navigate();},destroy:function(){var that=this,today=that._today;that.element.off(ns);that._title.off(ns);that[PREVARROW].off(ns);that[NEXTARROW].off(ns);kendo.destroy(that._table);if(today){kendo.destroy(today.off(ns));}
Widget.fn.destroy.call(that);},current:function(){return this._current;},view:function(){return this._view;},focus:function(table){table=table||this._table;this._bindTable(table);table.focus();},min:function(value){return this._option(MIN,value);},max:function(value){return this._option("max",value);},navigateToPast:function(){this._navigate(PREVARROW,-1);},navigateToFuture:function(){this._navigate(NEXTARROW,1);},navigateUp:function(){var that=this,index=that._index;if(that._title.hasClass(DISABLED)){return;}
that.navigate(that._current,++index);},navigateDown:function(value){var that=this,index=that._index,depth=that.options.depth;if(!value){return;}
if(index===views[depth]){if(+that._value!=+value){that.value(value);that.trigger(CHANGE);}
return;}
that.navigate(value,--index);},navigate:function(value,view){view=isNaN(view)?views[view]:view;var that=this,options=that.options,culture=options.culture,min=options.min,max=options.max,title=that._title,from=that._table,old=that._oldTable,selectedValue=that._value,currentValue=that._current,future=value&&+value>+currentValue,vertical=view!==undefined&&view!==that._index,to,currentView,compare,disabled;if(!value){value=currentValue;}
that._current=value=new DATE(+restrictValue(value,min,max));if(view===undefined){view=that._index;}else{that._index=view;}
that._view=currentView=calendar.views[view];compare=currentView.compare;disabled=view===views[CENTURY];title.toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled);disabled=compare(value,min)<1;that[PREVARROW].toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled);disabled=compare(value,max)>-1;that[NEXTARROW].toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled);if(from&&old&&old.data("animating")){old.kendoStop(true,true);from.kendoStop(true,true);}
that._oldTable=from;if(!from||that._changeView){title.html(currentView.title(value,min,max,culture));that._table=to=$(currentView.content(extend({min:min,max:max,date:value,url:options.url,dates:options.dates,format:options.format,culture:culture},that[currentView.name])));makeUnselectable(to);that._animate({from:from,to:to,vertical:vertical,future:future});that._focus(value);that.trigger(NAVIGATE);}
if(view===views[options.depth]&&selectedValue){that._class("k-state-selected",currentView.toDateString(selectedValue));}
that._class(FOCUSED,currentView.toDateString(value));if(!from&&that._cell){that._cell.removeClass(FOCUSED);}
that._changeView=true;},value:function(value){var that=this,view=that._view,options=that.options,old=that._view,min=options.min,max=options.max;if(value===undefined){return that._value;}
value=parse(value,options.format,options.culture);if(value!==null){value=new DATE(+value);if(!isInRange(value,min,max)){value=null;}}
that._value=value;if(old&&value===null&&that._cell){that._cell.removeClass("k-state-selected");}else{that._changeView=!value||view&&view.compare(value,that._current)!==0;that.navigate(value);}},_move:function(e){var that=this,options=that.options,key=e.keyCode,view=that._view,index=that._index,currentValue=new DATE(+that._current),isRtl=kendo.support.isRtl(that.wrapper),value,prevent,method,temp;if(e.target===that._table[0]){that._active=true;}
if(e.ctrlKey){if(key==keys.RIGHT&&!isRtl||key==keys.LEFT&&isRtl){that.navigateToFuture();prevent=true;}else if(key==keys.LEFT&&!isRtl||key==keys.RIGHT&&isRtl){that.navigateToPast();prevent=true;}else if(key==keys.UP){that.navigateUp();prevent=true;}else if(key==keys.DOWN){that._click($(that._cell[0].firstChild));prevent=true;}}else{if(key==keys.RIGHT&&!isRtl||key==keys.LEFT&&isRtl){value=1;prevent=true;}else if(key==keys.LEFT&&!isRtl||key==keys.RIGHT&&isRtl){value=-1;prevent=true;}else if(key==keys.UP){value=index===0?-7:-4;prevent=true;}else if(key==keys.DOWN){value=index===0?7:4;prevent=true;}else if(key==keys.ENTER){that._click($(that._cell[0].firstChild));prevent=true;}else if(key==keys.HOME||key==keys.END){method=key==keys.HOME?"first":"last";temp=view[method](currentValue);currentValue=new DATE(temp.getFullYear(),temp.getMonth(),temp.getDate(),currentValue.getHours(),currentValue.getMinutes(),currentValue.getSeconds(),currentValue.getMilliseconds());prevent=true;}else if(key==keys.PAGEUP){prevent=true;that.navigateToPast();}else if(key==keys.PAGEDOWN){prevent=true;that.navigateToFuture();}
if(value||method){if(!method){view.setDate(currentValue,value);}
that._focus(restrictValue(currentValue,options.min,options.max));}}
if(prevent){e.preventDefault();}
return that._current;},_animate:function(options){var that=this,from=options.from,to=options.to,active=that._active;if(!from){to.insertAfter(that.element[0].firstChild);that._bindTable(to);}else if(from.parent().data("animating")){from.off(ns);from.parent().kendoStop(true,true).remove();from.remove();to.insertAfter(that.element[0].firstChild);that._focusView(active);}else if(!from.is(":visible")||that.options.animation===false){to.insertAfter(from);from.off(ns).remove();that._focusView(active);}else{that[options.vertical?"_vertical":"_horizontal"](from,to,options.future);}},_horizontal:function(from,to,future){var that=this,active=that._active,horizontal=that.options.animation.horizontal,effects=horizontal.effects,viewWidth=from.outerWidth();if(effects&&effects.indexOf(SLIDE)!=-1){from.add(to).css({width:viewWidth});from.wrap("<div/>");that._focusView(active,from);from.parent().css({position:"relative",width:viewWidth*2,"float":LEFT,"margin-left":future?0:-viewWidth});to[future?"insertAfter":"insertBefore"](from);extend(horizontal,{effects:SLIDE+":"+(future?"right":LEFT),complete:function(){from.off(ns).remove();that._oldTable=null;to.unwrap();that._focusView(active);}});from.parent().kendoStop(true,true).kendoAnimate(horizontal);}},_vertical:function(from,to){var that=this,vertical=that.options.animation.vertical,effects=vertical.effects,active=that._active,cell,position;if(effects&&effects.indexOf("zoom")!=-1){to.css({position:"absolute",top:from.prev().outerHeight(),left:0}).insertBefore(from);if(transitionOrigin){cell=that._cellByDate(that._view.toDateString(that._current));position=cell.position();position=(position.left+parseInt(cell.width()/2,10))+"px"+" "+(position.top+parseInt(cell.height()/2,10)+"px");to.css(transitionOrigin,position);}
from.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){from.off(ns).remove();that._oldTable=null;to.css({position:"static",top:0,left:0});that._focusView(active);}});to.kendoStop(true,true).kendoAnimate(vertical);}},_cellByDate:function(value){return this._table.find("td:not(."+OTHERMONTH+")").filter(function(){return $(this.firstChild).attr(kendo.attr(VALUE))===value;});},_class:function(className,value){var that=this,id=that._cellID,cell=that._cell;if(cell){cell.removeAttr(ARIA_SELECTED).removeAttr("aria-label").removeAttr(ID);}
cell=that._table.find("td:not(."+OTHERMONTH+")").removeClass(className).filter(function(){return $(this.firstChild).attr(kendo.attr(VALUE))===value;}).attr(ARIA_SELECTED,true);if(className===FOCUSED&&!that._active&&that.options.focusOnNav!==false){className="";}
cell.addClass(className);if(cell[0]){that._cell=cell;}
if(id){cell.attr(ID,id);that._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",id);}},_bindTable:function(table){table.on(FOCUS_WITH_NS,this._addClassProxy).on(BLUR,this._removeClassProxy);},_click:function(link){var that=this,options=that.options,currentValue=new Date(+that._current),value=link.attr(kendo.attr(VALUE)).split("/");value=new DATE(value[0],value[1],value[2]);adjustDST(value,0);that._view.setDate(currentValue,value);that.navigateDown(restrictValue(currentValue,options.min,options.max));},_focus:function(value){var that=this,view=that._view;if(view.compare(value,that._current)!==0){that.navigate(value);}else{that._current=value;that._class(FOCUSED,view.toDateString(value));}},_focusView:function(active,table){if(active){this.focus(table);}},_footer:function(template){var that=this,today=getToday(),element=that.element,footer=element.find(".k-footer");if(!template){that._toggle(false);footer.hide();return;}
if(!footer[0]){footer=$('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(element);}
that._today=footer.show().find(".k-link").html(template(today)).attr("title",kendo.toString(today,"D",that.options.culture));that._toggle();},_header:function(){var that=this,element=that.element,links;if(!element.find(".k-header")[0]){element.html('<div class="k-header">'+'<a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a>'+'<a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a>'+'<a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a>'+'</div>');}
links=element.find(".k-link").on(MOUSEENTER_WITH_NS+" "+MOUSELEAVE+" "+FOCUS_WITH_NS+" "+BLUR,mousetoggle).click(false);that._title=links.eq(1).on(CLICK,function(){that._active=that.options.focusOnNav!==false;that.navigateUp();});that[PREVARROW]=links.eq(0).on(CLICK,function(){that._active=that.options.focusOnNav!==false;that.navigateToPast();});that[NEXTARROW]=links.eq(2).on(CLICK,function(){that._active=that.options.focusOnNav!==false;that.navigateToFuture();});},_navigate:function(arrow,modifier){var that=this,index=that._index+1,currentValue=new DATE(+that._current);arrow=that[arrow];if(!arrow.hasClass(DISABLED)){if(index>3){currentValue.setFullYear(currentValue.getFullYear()+100*modifier);}else{calendar.views[index].setDate(currentValue,modifier);}
that.navigate(currentValue);}},_option:function(option,value){var that=this,options=that.options,currentValue=that._value||that._current,isBigger;if(value===undefined){return options[option];}
value=parse(value,options.format,options.culture);if(!value){return;}
options[option]=new DATE(+value);if(option===MIN){isBigger=value>currentValue;}else{isBigger=currentValue>value;}
if(isBigger||isEqualMonth(currentValue,value)){if(isBigger){that._value=null;}
that._changeView=true;}
if(!that._changeView){that._changeView=!!(options.month.content||options.month.empty);}
that.navigate(that._value);that._toggle();},_toggle:function(toggle){var that=this,options=that.options,link=that._today;if(toggle===undefined){toggle=isInRange(getToday(),options.min,options.max);}
if(link){link.off(CLICK);if(toggle){link.addClass(TODAY).removeClass(DISABLED).on(CLICK,proxy(that._todayClick,that));}else{link.removeClass(TODAY).addClass(DISABLED).on(CLICK,prevent);}}},_todayClick:function(e){var that=this,depth=views[that.options.depth],today=getToday();e.preventDefault();if(that._view.compare(that._current,today)===0&&that._index==depth){that._changeView=false;}
that._value=today;that.navigate(today,depth);that.trigger(CHANGE);},_templates:function(){var that=this,options=that.options,footer=options.footer,month=options.month,content=month.content,empty=month.empty;that.month={content:template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+kendo.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(content||"#=data.value#")+'</a></td>',{useWithBlock:!!content}),empty:template('<td role="gridcell">'+(empty||"&nbsp;")+"</td>",{useWithBlock:!!empty})};that.footer=footer!==false?template(footer||'#= kendo.toString(data,"D","'+options.culture+'") #',{useWithBlock:false}):null;}});ui.plugin(Calendar);var calendar={firstDayOfMonth:function(date){return new DATE(date.getFullYear(),date.getMonth(),1);},firstVisibleDay:function(date,calendarInfo){calendarInfo=calendarInfo||kendo.culture().calendar;var firstDay=calendarInfo.firstDay,firstVisibleDay=new DATE(date.getFullYear(),date.getMonth(),0,date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());while(firstVisibleDay.getDay()!=firstDay){calendar.setTime(firstVisibleDay,-1*MS_PER_DAY);}
return firstVisibleDay;},setTime:function(date,time){var tzOffsetBefore=date.getTimezoneOffset(),resultDATE=new DATE(date.getTime()+time),tzOffsetDiff=resultDATE.getTimezoneOffset()-tzOffsetBefore;date.setTime(resultDATE.getTime()+tzOffsetDiff*MS_PER_MINUTE);},views:[{name:MONTH,title:function(date,min,max,culture){return getCalendarInfo(culture).months.names[date.getMonth()]+" "+date.getFullYear();},content:function(options){var that=this,idx=0,min=options.min,max=options.max,date=options.date,dates=options.dates,format=options.format,culture=options.culture,navigateUrl=options.url,hasUrl=navigateUrl&&dates[0],currentCalendar=getCalendarInfo(culture),firstDayIdx=currentCalendar.firstDay,days=currentCalendar.days,names=shiftArray(days.names,firstDayIdx),shortNames=shiftArray(days.namesShort,firstDayIdx),start=calendar.firstVisibleDay(date,currentCalendar),firstDayOfMonth=that.first(date),lastDayOfMonth=that.last(date),toDateString=that.toDateString,today=new DATE(),html='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;idx<7;idx++){html+='<th scope="col" title="'+names[idx]+'">'+shortNames[idx]+'</th>';}
today=new DATE(today.getFullYear(),today.getMonth(),today.getDate());adjustDST(today,0);today=+today;start=new DATE(start.getFullYear(),start.getMonth(),start.getDate());adjustDST(start,0);return view({cells:42,perRow:7,html:html+='</tr></thead><tbody><tr role="row">',start:start,min:new DATE(min.getFullYear(),min.getMonth(),min.getDate()),max:new DATE(max.getFullYear(),max.getMonth(),max.getDate()),content:options.content,empty:options.empty,setter:that.setDate,build:function(date){var cssClass=[],day=date.getDay(),linkClass="",url="#";if(date<firstDayOfMonth||date>lastDayOfMonth){cssClass.push(OTHERMONTH);}
if(+date===today){cssClass.push("k-today");}
if(day===0||day===6){cssClass.push("k-weekend");}
if(hasUrl&&inArray(+date,dates)){url=navigateUrl.replace("{0}",kendo.toString(date,format,culture));linkClass=" k-action-link";}
return{date:date,dates:dates,ns:kendo.ns,title:kendo.toString(date,"D",culture),value:date.getDate(),dateString:toDateString(date),cssClass:cssClass[0]?' class="'+cssClass.join(" ")+'"':"",linkClass:linkClass,url:url};}});},first:function(date){return calendar.firstDayOfMonth(date);},last:function(date){var last=new DATE(date.getFullYear(),date.getMonth()+1,0),first=calendar.firstDayOfMonth(date),timeOffset=Math.abs(last.getTimezoneOffset()-first.getTimezoneOffset());if(timeOffset){last.setHours(first.getHours()+(timeOffset/60));}
return last;},compare:function(date1,date2){var result,month1=date1.getMonth(),year1=date1.getFullYear(),month2=date2.getMonth(),year2=date2.getFullYear();if(year1>year2){result=1;}else if(year1<year2){result=-1;}else{result=month1==month2?0:month1>month2?1:-1;}
return result;},setDate:function(date,value){var hours=date.getHours();if(value instanceof DATE){date.setFullYear(value.getFullYear(),value.getMonth(),value.getDate());}else{calendar.setTime(date,value*MS_PER_DAY);}
adjustDST(date,hours);},toDateString:function(date){return date.getFullYear()+"/"+date.getMonth()+"/"+date.getDate();}},{name:"year",title:function(date){return date.getFullYear();},content:function(options){var namesAbbr=getCalendarInfo(options.culture).months.namesAbbr,toDateString=this.toDateString,min=options.min,max=options.max;return view({min:new DATE(min.getFullYear(),min.getMonth(),1),max:new DATE(max.getFullYear(),max.getMonth(),1),start:new DATE(options.date.getFullYear(),0,1),setter:this.setDate,build:function(date){return{value:namesAbbr[date.getMonth()],ns:kendo.ns,dateString:toDateString(date),cssClass:""};}});},first:function(date){return new DATE(date.getFullYear(),0,date.getDate());},last:function(date){return new DATE(date.getFullYear(),11,date.getDate());},compare:function(date1,date2){return compare(date1,date2);},setDate:function(date,value){var month,hours=date.getHours();if(value instanceof DATE){month=value.getMonth();date.setFullYear(value.getFullYear(),month,date.getDate());if(month!==date.getMonth()){date.setDate(0);}}else{month=date.getMonth()+value;date.setMonth(month);if(month>11){month-=12;}
if(month>0&&date.getMonth()!=month){date.setDate(0);}}
adjustDST(date,hours);},toDateString:function(date){return date.getFullYear()+"/"+date.getMonth()+"/1";}},{name:"decade",title:function(date,min,max){return title(date,min,max,10);},content:function(options){var year=options.date.getFullYear(),toDateString=this.toDateString;return view({start:new DATE(year-year%10-1,0,1),min:new DATE(options.min.getFullYear(),0,1),max:new DATE(options.max.getFullYear(),0,1),setter:this.setDate,build:function(date,idx){return{value:date.getFullYear(),ns:kendo.ns,dateString:toDateString(date),cssClass:idx===0||idx==11?OTHERMONTHCLASS:""};}});},first:function(date){var year=date.getFullYear();return new DATE(year-year%10,date.getMonth(),date.getDate());},last:function(date){var year=date.getFullYear();return new DATE(year-year%10+9,date.getMonth(),date.getDate());},compare:function(date1,date2){return compare(date1,date2,10);},setDate:function(date,value){setDate(date,value,1);},toDateString:function(date){return date.getFullYear()+"/0/1";}},{name:CENTURY,title:function(date,min,max){return title(date,min,max,100);},content:function(options){var year=options.date.getFullYear(),min=options.min.getFullYear(),max=options.max.getFullYear(),toDateString=this.toDateString,minYear=min,maxYear=max;minYear=minYear-minYear%10;maxYear=maxYear-maxYear%10;if(maxYear-minYear<10){maxYear=minYear+9;}
return view({start:new DATE(year-year%100-10,0,1),min:new DATE(minYear,0,1),max:new DATE(maxYear,0,1),setter:this.setDate,build:function(date,idx){var start=date.getFullYear(),end=start+9;if(start<min){start=min;}
if(end>max){end=max;}
return{ns:kendo.ns,value:start+" - "+end,dateString:toDateString(date),cssClass:idx===0||idx==11?OTHERMONTHCLASS:""};}});},first:function(date){var year=date.getFullYear();return new DATE(year-year%100,date.getMonth(),date.getDate());},last:function(date){var year=date.getFullYear();return new DATE(year-year%100+99,date.getMonth(),date.getDate());},compare:function(date1,date2){return compare(date1,date2,100);},setDate:function(date,value){setDate(date,value,10);},toDateString:function(date){var year=date.getFullYear();return(year-year%10)+"/0/1";}}]};function title(date,min,max,modular){var start=date.getFullYear(),minYear=min.getFullYear(),maxYear=max.getFullYear(),end;start=start-start%modular;end=start+(modular-1);if(start<minYear){start=minYear;}
if(end>maxYear){end=maxYear;}
return start+"-"+end;}
function view(options){var idx=0,data,min=options.min,max=options.max,start=options.start,setter=options.setter,build=options.build,length=options.cells||12,cellsPerRow=options.perRow||4,content=options.content||cellTemplate,empty=options.empty||emptyCellTemplate,html=options.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;idx<length;idx++){if(idx>0&&idx%cellsPerRow===0){html+='</tr><tr role="row">';}
data=build(start,idx);html+=isInRange(start,min,max)?content(data):empty(data);setter(start,1);}
return html+"</tr></tbody></table>";}
function compare(date1,date2,modifier){var year1=date1.getFullYear(),start=date2.getFullYear(),end=start,result=0;if(modifier){start=start-start%modifier;end=start-start%modifier+modifier-1;}
if(year1>end){result=1;}else if(year1<start){result=-1;}
return result;}
function getToday(){var today=new DATE();return new DATE(today.getFullYear(),today.getMonth(),today.getDate());}
function restrictValue(value,min,max){var today=getToday();if(value){today=new DATE(+value);}
if(min>today){today=new DATE(+min);}else if(max<today){today=new DATE(+max);}
return today;}
function isInRange(date,min,max){return+date>=+min&&+date<=+max;}
function shiftArray(array,idx){return array.slice(idx).concat(array.slice(0,idx));}
function setDate(date,value,multiplier){value=value instanceof DATE?value.getFullYear():date.getFullYear()+multiplier*value;date.setFullYear(value);}
function mousetoggle(e){$(this).toggleClass(HOVER,MOUSEENTER.indexOf(e.type)>-1||e.type==FOCUS);}
function prevent(e){e.preventDefault();}
function getCalendarInfo(culture){return getCulture(culture).calendars.standard;}
function normalize(options){var start=views[options.start],depth=views[options.depth],culture=getCulture(options.culture);options.format=extractFormat(options.format||culture.calendars.standard.patterns.d);if(isNaN(start)){start=0;options.start=MONTH;}
if(depth===undefined||depth>start){options.depth=MONTH;}
if(!options.dates){options.dates=[];}}
function makeUnselectable(element){if(isIE8){element.find("*").attr("unselectable","on");}}
function inArray(date,dates){for(var i=0,length=dates.length;i<length;i++){if(date===+dates[i]){return true;}}
return false;}
function isEqualDatePart(value1,value2){if(value1){return value1.getFullYear()===value2.getFullYear()&&value1.getMonth()===value2.getMonth()&&value1.getDate()===value2.getDate();}
return false;}
function isEqualMonth(value1,value2){if(value1){return value1.getFullYear()===value2.getFullYear()&&value1.getMonth()===value2.getMonth();}
return false;}
calendar.isEqualDatePart=isEqualDatePart;calendar.makeUnselectable=makeUnselectable;calendar.restrictValue=restrictValue;calendar.isInRange=isInRange;calendar.normalize=normalize;calendar.viewsEnum=views;kendo.calendar=calendar;})(window.kendo.jQuery);return window.kendo;},typeof define=='function'&&define.amd?define:function(_,f){f();});

(function(f,define){define(["./kendo.core"],f);})(function(){(function($,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,support=kendo.support,getOffset=kendo.getOffset,activeElement=kendo._activeElement,OPEN="open",CLOSE="close",DEACTIVATE="deactivate",ACTIVATE="activate",CENTER="center",LEFT="left",RIGHT="right",TOP="top",BOTTOM="bottom",ABSOLUTE="absolute",HIDDEN="hidden",BODY="body",LOCATION="location",POSITION="position",VISIBLE="visible",EFFECTS="effects",ACTIVE="k-state-active",ACTIVEBORDER="k-state-border",ACTIVEBORDERREGEXP=/k-state-border-(\w+)/,ACTIVECHILDREN=".k-picker-wrap, .k-dropdown-wrap, .k-link",MOUSEDOWN="down",DOCUMENT_ELEMENT=$(document.documentElement),WINDOW=$(window),SCROLL="scroll",RESIZE_SCROLL="resize scroll",cssPrefix=support.transitions.css,TRANSFORM=cssPrefix+"transform",extend=$.extend,NS=".kendoPopup",styles=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function contains(container,target){return container===target||$.contains(container,target);}
var Popup=Widget.extend({init:function(element,options){var that=this,parentPopup;options=options||{};if(options.isRtl){options.origin=options.origin||BOTTOM+" "+RIGHT;options.position=options.position||TOP+" "+RIGHT;}
Widget.fn.init.call(that,element,options);element=that.element;options=that.options;that.collisions=options.collision?options.collision.split(" "):[];that.downEvent=kendo.applyEventMap(MOUSEDOWN,kendo.guid());if(that.collisions.length===1){that.collisions.push(that.collisions[0]);}
parentPopup=$(that.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");options.appendTo=$($(options.appendTo)[0]||parentPopup[0]||BODY);that.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!options.isRtl).css({position:ABSOLUTE}).appendTo(options.appendTo).on("mouseenter"+NS,function(){that._hovered=true;}).on("mouseleave"+NS,function(){that._hovered=false;});that.wrapper=$();if(options.animation===false){options.animation={open:{effects:{}},close:{hide:true,effects:{}}};}
extend(options.animation.open,{complete:function(){that.wrapper.css({overflow:VISIBLE});that._activated=true;that._trigger(ACTIVATE);}});extend(options.animation.close,{complete:function(){that._animationClose();}});that._mousedownProxy=function(e){that._mousedown(e);};that._resizeProxy=function(e){that._resize(e);};if(options.toggleTarget){$(options.toggleTarget).on(options.toggleEvent+NS,$.proxy(that.toggle,that));}},events:[OPEN,ACTIVATE,CLOSE,DEACTIVATE],options:{name:"Popup",toggleEvent:"click",origin:BOTTOM+" "+LEFT,position:TOP+" "+LEFT,anchor:BODY,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var that=this,options=that.options;that.wrapper.hide();var location=that.wrapper.data(LOCATION),anchor=$(options.anchor),direction,dirClass;if(location){that.wrapper.css(location);}
if(options.anchor!=BODY){direction=((anchor.attr("class")||"").match(ACTIVEBORDERREGEXP)||["","down"])[1];dirClass=ACTIVEBORDER+"-"+direction;anchor.removeClass(dirClass).children(ACTIVECHILDREN).removeClass(ACTIVE).removeClass(dirClass);that.element.removeClass(ACTIVEBORDER+"-"+kendo.directions[direction].reverse);}
that._closing=false;that._trigger(DEACTIVATE);},destroy:function(){var that=this,options=that.options,element=that.element.off(NS),parent;Widget.fn.destroy.call(that);if(options.toggleTarget){$(options.toggleTarget).off(NS);}
if(!options.modal){DOCUMENT_ELEMENT.unbind(that.downEvent,that._mousedownProxy);that._scrollableParents().unbind(SCROLL,that._resizeProxy);WINDOW.unbind(RESIZE_SCROLL,that._resizeProxy);}
kendo.destroy(that.element.children());element.removeData();if(options.appendTo[0]===document.body){parent=element.parent(".k-animation-container");if(parent[0]){parent.remove();}else{element.remove();}}},open:function(x,y){var that=this,fixed={isFixed:!isNaN(parseInt(y,10)),x:x,y:y},element=that.element,options=that.options,direction="down",animation,wrapper,anchor=$(options.anchor),mobile=element[0]&&element.hasClass("km-widget");if(!that.visible()){if(options.copyAnchorStyles){if(mobile&&styles[0]=="font-size"){styles.shift();}
element.css(kendo.getComputedStyles(anchor[0],styles));}
if(element.data("animating")||that._trigger(OPEN)){return;}
that._activated=false;if(!options.modal){DOCUMENT_ELEMENT.unbind(that.downEvent,that._mousedownProxy).bind(that.downEvent,that._mousedownProxy);if(!(support.mobileOS.ios||support.mobileOS.android)){that._scrollableParents().unbind(SCROLL,that._resizeProxy).bind(SCROLL,that._resizeProxy);WINDOW.unbind(RESIZE_SCROLL,that._resizeProxy).bind(RESIZE_SCROLL,that._resizeProxy);}}
that.wrapper=wrapper=kendo.wrap(element,options.autosize).css({overflow:HIDDEN,display:"block",position:ABSOLUTE});if(support.mobileOS.android){wrapper.css(TRANSFORM,"translatez(0)");}
wrapper.css(POSITION);if($(options.appendTo)[0]==document.body){wrapper.css(TOP,"-10000px");}
animation=extend(true,{},options.animation.open);that.flipped=that._position(fixed);animation.effects=kendo.parseEffects(animation.effects,that.flipped);direction=animation.effects.slideIn?animation.effects.slideIn.direction:direction;if(options.anchor!=BODY){var dirClass=ACTIVEBORDER+"-"+direction;element.addClass(ACTIVEBORDER+"-"+kendo.directions[direction].reverse);anchor.addClass(dirClass).children(ACTIVECHILDREN).addClass(ACTIVE).addClass(dirClass);}
element.data(EFFECTS,animation.effects).kendoStop(true).kendoAnimate(animation);}},position:function(){if(this.visible()){this._position();}},toggle:function(){var that=this;that[that.visible()?CLOSE:OPEN]();},visible:function(){return this.element.is(":"+VISIBLE);},close:function(skipEffects){var that=this,options=that.options,wrap,animation,openEffects,closeEffects;if(that.visible()){wrap=(that.wrapper[0]?that.wrapper:kendo.wrap(that.element).hide());if(that._closing||that._trigger(CLOSE)){return;}
that.element.find(".k-popup").each(function(){var that=$(this),popup=that.data("kendoPopup");if(popup){popup.close(skipEffects);}});DOCUMENT_ELEMENT.unbind(that.downEvent,that._mousedownProxy);that._scrollableParents().unbind(SCROLL,that._resizeProxy);WINDOW.unbind(RESIZE_SCROLL,that._resizeProxy);if(skipEffects){animation={hide:true,effects:{}};}else{animation=extend(true,{},options.animation.close);openEffects=that.element.data(EFFECTS);closeEffects=animation.effects;if(!closeEffects&&!kendo.size(closeEffects)&&openEffects&&kendo.size(openEffects)){animation.effects=openEffects;animation.reverse=true;}
that._closing=true;}
that.element.kendoStop(true);wrap.css({overflow:HIDDEN});that.element.kendoAnimate(animation);}},_trigger:function(ev){return this.trigger(ev,{type:ev});},_resize:function(e){var that=this;if(e.type==="resize"){clearTimeout(that._resizeTimeout);that._resizeTimeout=setTimeout(function(){that._position();that._resizeTimeout=null;},50);}else{if(!that._hovered||(that._activated&&that.element.hasClass("k-list-container"))){that.close();}}},_mousedown:function(e){var that=this,container=that.element[0],options=that.options,anchor=$(options.anchor)[0],toggleTarget=options.toggleTarget,target=kendo.eventTarget(e),popup=$(target).closest(".k-popup"),mobile=popup.parent().parent(".km-shim").length;popup=popup[0];if(!mobile&&popup&&popup!==that.element[0]){return;}
if($(e.target).closest("a").data("rel")==="popover"){return;}
if(!contains(container,target)&&!contains(anchor,target)&&!(toggleTarget&&contains($(toggleTarget)[0],target))){that.close();}},_fit:function(position,size,viewPortSize){var output=0;if(position+size>viewPortSize){output=viewPortSize-(position+size);}
if(position<0){output=-position;}
return output;},_flip:function(offset,size,anchorSize,viewPortSize,origin,position,boxSize){var output=0;boxSize=boxSize||size;if(position!==origin&&position!==CENTER&&origin!==CENTER){if(offset+boxSize>viewPortSize){output+=-(anchorSize+size);}
if(offset+output<0){output+=anchorSize+size;}}
return output;},_scrollableParents:function(){return $(this.options.anchor).parentsUntil("body").filter(function(index,element){return kendo.isScrollable(element);});},_position:function(fixed){var that=this,element=that.element,wrapper=that.wrapper,options=that.options,viewport=$(options.viewport),viewportOffset=viewport.offset(),anchor=$(options.anchor),origins=options.origin.toLowerCase().split(" "),positions=options.position.toLowerCase().split(" "),collisions=that.collisions,zoomLevel=support.zoomLevel(),siblingContainer,parents,parentZIndex,zIndex=10002,isWindow=!!((viewport[0]==window)&&window.innerWidth&&(zoomLevel<=1.02)),idx=0,docEl=document.documentElement,length,viewportWidth,viewportHeight;viewportWidth=isWindow?window.innerWidth:viewport.width();viewportHeight=isWindow?window.innerHeight:viewport.height();if(isWindow&&docEl.scrollHeight-docEl.clientHeight>0){viewportWidth-=kendo.support.scrollbar();}
siblingContainer=anchor.parents().filter(wrapper.siblings());if(siblingContainer[0]){parentZIndex=Math.max(Number(siblingContainer.css("zIndex")),0);if(parentZIndex){zIndex=parentZIndex+10;}else{parents=anchor.parentsUntil(siblingContainer);for(length=parents.length;idx<length;idx++){parentZIndex=Number($(parents[idx]).css("zIndex"));if(parentZIndex&&zIndex<parentZIndex){zIndex=parentZIndex+10;}}}}
wrapper.css("zIndex",zIndex);if(fixed&&fixed.isFixed){wrapper.css({left:fixed.x,top:fixed.y});}else{wrapper.css(that._align(origins,positions));}
var pos=getOffset(wrapper,POSITION,anchor[0]===wrapper.offsetParent()[0]),offset=getOffset(wrapper),anchorParent=anchor.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(anchorParent.length){pos=getOffset(wrapper,POSITION,true);offset=getOffset(wrapper);}
if(viewport[0]===window){offset.top-=(window.pageYOffset||document.documentElement.scrollTop||0);offset.left-=(window.pageXOffset||document.documentElement.scrollLeft||0);}
else{offset.top-=viewportOffset.top;offset.left-=viewportOffset.left;}
if(!that.wrapper.data(LOCATION)){wrapper.data(LOCATION,extend({},pos));}
var offsets=extend({},offset),location=extend({},pos),adjustSize=options.adjustSize;if(collisions[0]==="fit"){location.top+=that._fit(offsets.top,wrapper.outerHeight()+adjustSize.height,viewportHeight/zoomLevel);}
if(collisions[1]==="fit"){location.left+=that._fit(offsets.left,wrapper.outerWidth()+adjustSize.width,viewportWidth/zoomLevel);}
var flipPos=extend({},location);if(collisions[0]==="flip"){location.top+=that._flip(offsets.top,element.outerHeight(),anchor.outerHeight(),viewportHeight/zoomLevel,origins[0],positions[0],wrapper.outerHeight());}
if(collisions[1]==="flip"){location.left+=that._flip(offsets.left,element.outerWidth(),anchor.outerWidth(),viewportWidth/zoomLevel,origins[1],positions[1],wrapper.outerWidth());}
element.css(POSITION,ABSOLUTE);wrapper.css(location);return(location.left!=flipPos.left||location.top!=flipPos.top);},_align:function(origin,position){var that=this,element=that.wrapper,anchor=$(that.options.anchor),verticalOrigin=origin[0],horizontalOrigin=origin[1],verticalPosition=position[0],horizontalPosition=position[1],anchorOffset=getOffset(anchor),appendTo=$(that.options.appendTo),appendToOffset,width=element.outerWidth(),height=element.outerHeight(),anchorWidth=anchor.outerWidth(),anchorHeight=anchor.outerHeight(),top=anchorOffset.top,left=anchorOffset.left,round=Math.round;if(appendTo[0]!=document.body){appendToOffset=getOffset(appendTo);top-=appendToOffset.top;left-=appendToOffset.left;}
if(verticalOrigin===BOTTOM){top+=anchorHeight;}
if(verticalOrigin===CENTER){top+=round(anchorHeight/2);}
if(verticalPosition===BOTTOM){top-=height;}
if(verticalPosition===CENTER){top-=round(height/2);}
if(horizontalOrigin===RIGHT){left+=anchorWidth;}
if(horizontalOrigin===CENTER){left+=round(anchorWidth/2);}
if(horizontalPosition===RIGHT){left-=width;}
if(horizontalPosition===CENTER){left-=round(width/2);}
return{top:top,left:left};}});ui.plugin(Popup);})(window.kendo.jQuery);return window.kendo;},typeof define=='function'&&define.amd?define:function(_,f){f();});

(function(f,define){define(["./kendo.calendar","./kendo.popup"],f);})(function(){(function($,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,parse=kendo.parseDate,keys=kendo.keys,template=kendo.template,activeElement=kendo._activeElement,DIV="<div />",SPAN="<span />",ns=".kendoDatePicker",CLICK="click"+ns,OPEN="open",CLOSE="close",CHANGE="change",DATEVIEW="dateView",DISABLED="disabled",READONLY="readonly",DEFAULT="k-state-default",FOCUSED="k-state-focused",SELECTED="k-state-selected",STATEDISABLED="k-state-disabled",HOVER="k-state-hover",KEYDOWN="keydown"+ns,HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,MOUSEDOWN="mousedown"+ns,ID="id",MIN="min",MAX="max",MONTH="month",ARIA_DISABLED="aria-disabled",ARIA_EXPANDED="aria-expanded",ARIA_HIDDEN="aria-hidden",ARIA_READONLY="aria-readonly",calendar=kendo.calendar,isInRange=calendar.isInRange,restrictValue=calendar.restrictValue,isEqualDatePart=calendar.isEqualDatePart,extend=$.extend,proxy=$.proxy,DATE=Date;function normalize(options){var parseFormats=options.parseFormats,format=options.format;calendar.normalize(options);parseFormats=$.isArray(parseFormats)?parseFormats:[parseFormats];if(!parseFormats.length){parseFormats.push("yyyy-MM-dd");}
if($.inArray(format,parseFormats)===-1){parseFormats.splice(0,0,options.format);}
options.parseFormats=parseFormats;}
function preventDefault(e){e.preventDefault();}
var DateView=function(options){var that=this,id,body=document.body,div=$(DIV).attr(ARIA_HIDDEN,"true").addClass("k-calendar-container").appendTo(body);that.options=options=options||{};id=options.id;if(id){id+="_dateview";div.attr(ID,id);that._dateViewID=id;}
that.popup=new ui.Popup(div,extend(options.popup,options,{name:"Popup",isRtl:kendo.support.isRtl(options.anchor)}));that.div=div;that.value(options.value);};DateView.prototype={_calendar:function(){var that=this;var calendar=that.calendar;var options=that.options;var div;if(!calendar){div=$(DIV).attr(ID,kendo.guid()).appendTo(that.popup.element).on(MOUSEDOWN,preventDefault).on(CLICK,"td:has(.k-link)",proxy(that._click,that));that.calendar=calendar=new ui.Calendar(div);that._setOptions(options);kendo.calendar.makeUnselectable(calendar.element);calendar.navigate(that._value||that._current,options.start);that.value(that._value);}},_setOptions:function(options){this.calendar.setOptions({focusOnNav:false,change:options.change,culture:options.culture,dates:options.dates,depth:options.depth,footer:options.footer,format:options.format,max:options.max,min:options.min,month:options.month,start:options.start});},setOptions:function(options){var old=this.options;this.options=extend(old,options,{change:old.change,close:old.close,open:old.open});if(this.calendar){this._setOptions(this.options);}},destroy:function(){this.popup.destroy();},open:function(){var that=this;that._calendar();that.popup.open();},close:function(){this.popup.close();},min:function(value){this._option(MIN,value);},max:function(value){this._option(MAX,value);},toggle:function(){var that=this;that[that.popup.visible()?CLOSE:OPEN]();},move:function(e){var that=this,key=e.keyCode,calendar=that.calendar,selectIsClicked=e.ctrlKey&&key==keys.DOWN||key==keys.ENTER,handled=false;if(e.altKey){if(key==keys.DOWN){that.open();e.preventDefault();handled=true;}else if(key==keys.UP){that.close();e.preventDefault();handled=true;}}else if(that.popup.visible()){if(key==keys.ESC||(selectIsClicked&&calendar._cell.hasClass(SELECTED))){that.close();e.preventDefault();return true;}
that._current=calendar._move(e);handled=true;}
return handled;},current:function(date){this._current=date;this.calendar._focus(date);},value:function(value){var that=this,calendar=that.calendar,options=that.options;that._value=value;that._current=new DATE(+restrictValue(value,options.min,options.max));if(calendar){calendar.value(value);}},_click:function(e){if(e.currentTarget.className.indexOf(SELECTED)!==-1){this.close();}},_option:function(option,value){var that=this;var calendar=that.calendar;that.options[option]=value;if(calendar){calendar[option](value);}}};DateView.normalize=normalize;kendo.DateView=DateView;var DatePicker=Widget.extend({init:function(element,options){var that=this,disabled,div;Widget.fn.init.call(that,element,options);element=that.element;options=that.options;options.min=parse(element.attr("min"))||parse(options.min);options.max=parse(element.attr("max"))||parse(options.max);normalize(options);that._initialOptions=extend({},options);that._wrapper();that.dateView=new DateView(extend({},options,{id:element.attr(ID),anchor:that.wrapper,change:function(){that._change(this.value());that.close();},close:function(e){if(that.trigger(CLOSE)){e.preventDefault();}else{element.attr(ARIA_EXPANDED,false);div.attr(ARIA_HIDDEN,true);}},open:function(e){var options=that.options,date;if(that.trigger(OPEN)){e.preventDefault();}else{if(that.element.val()!==that._oldText){date=parse(element.val(),options.parseFormats,options.culture);that.dateView[date?"current":"value"](date);}
element.attr(ARIA_EXPANDED,true);div.attr(ARIA_HIDDEN,false);that._updateARIA(date);}}}));div=that.dateView.div;that._icon();try{element[0].setAttribute("type","text");}catch(e){element[0].type="text";}
element.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":that.dateView._dateViewID});that._reset();that._template();disabled=element.is("[disabled]")||$(that.element).parents("fieldset").is(':disabled');if(disabled){that.enable(false);}else{that.readonly(element.is("[readonly]"));}
that._old=that._update(options.value||that.element.val());that._oldText=element.val();kendo.notify(that);},events:[OPEN,CLOSE,CHANGE],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:MONTH,depth:MONTH,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(options){var that=this;var value=that._value;Widget.fn.setOptions.call(that,options);options=that.options;options.min=parse(options.min);options.max=parse(options.max);normalize(options);that.dateView.setOptions(options);if(value){that.element.val(kendo.toString(value,options.format,options.culture));that._updateARIA(value);}},_editable:function(options){var that=this,icon=that._dateIcon.off(ns),element=that.element.off(ns),wrapper=that._inputWrapper.off(ns),readonly=options.readonly,disable=options.disable;if(!readonly&&!disable){wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,that._toggleHover);element.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,false).attr(ARIA_READONLY,false).on("keydown"+ns,proxy(that._keydown,that)).on("focusout"+ns,proxy(that._blur,that)).on("focus"+ns,function(){that._inputWrapper.addClass(FOCUSED);});icon.on(CLICK,proxy(that._click,that)).on(MOUSEDOWN,preventDefault);}else{wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED);element.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable).attr(ARIA_READONLY,readonly);}},readonly:function(readonly){this._editable({readonly:readonly===undefined?true:readonly,disable:false});},enable:function(enable){this._editable({readonly:false,disable:!(enable=enable===undefined?true:enable)});},destroy:function(){var that=this;Widget.fn.destroy.call(that);that.dateView.destroy();that.element.off(ns);that._dateIcon.off(ns);that._inputWrapper.off(ns);if(that._form){that._form.off("reset",that._resetHandler);}},open:function(){this.dateView.open();},close:function(){this.dateView.close();},min:function(value){return this._option(MIN,value);},max:function(value){return this._option(MAX,value);},value:function(value){var that=this;if(value===undefined){return that._value;}
that._old=that._update(value);if(that._old===null){that.element.val("");}
that._oldText=that.element.val();},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,e.type==="mouseenter");},_blur:function(){var that=this,value=that.element.val();that.close();if(value!==that._oldText){that._change(value);}
that._inputWrapper.removeClass(FOCUSED);},_click:function(){var that=this,element=that.element;that.dateView.toggle();if(!kendo.support.touch&&element[0]!==activeElement()){element.focus();}},_change:function(value){var that=this;value=that._update(value);if(+that._old!=+value){that._old=value;that._oldText=that.element.val();if(!that._typing){that.element.trigger(CHANGE);}
that.trigger(CHANGE);}
that._typing=false;},_keydown:function(e){var that=this,dateView=that.dateView,value=that.element.val(),handled=false;if(!dateView.popup.visible()&&e.keyCode==keys.ENTER&&value!==that._oldText){that._change(value);}else{handled=dateView.move(e);that._updateARIA(dateView._current);if(!handled){that._typing=true;}}},_icon:function(){var that=this,element=that.element,icon;icon=element.next("span.k-select");if(!icon[0]){icon=$('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(element);}
that._dateIcon=icon.attr({"role":"button","aria-controls":that.dateView._dateViewID});},_option:function(option,value){var that=this,options=that.options;if(value===undefined){return options[option];}
value=parse(value,options.parseFormats,options.culture);if(!value){return;}
options[option]=new DATE(+value);that.dateView[option](value);},_update:function(value){var that=this,options=that.options,min=options.min,max=options.max,current=that._value,date=parse(value,options.parseFormats,options.culture),isSameType=(date===null&&current===null)||(date instanceof Date&&current instanceof Date),formattedValue;if(+date===+current&&isSameType){formattedValue=kendo.toString(date,options.format,options.culture);if(formattedValue!==value){that.element.val(date===null?value:formattedValue);}
return date;}
if(date!==null&&isEqualDatePart(date,min)){date=restrictValue(date,min,max);}else if(!isInRange(date,min,max)){date=null;}
that._value=date;that.dateView.value(date);that.element.val(date?kendo.toString(date,options.format,options.culture):value);that._updateARIA(date);return date;},_wrapper:function(){var that=this,element=that.element,wrapper;wrapper=element.parents(".k-datepicker");if(!wrapper[0]){wrapper=element.wrap(SPAN).parent().addClass("k-picker-wrap k-state-default");wrapper=wrapper.wrap(SPAN).parent();}
wrapper[0].style.cssText=element[0].style.cssText;element.css({width:"100%",height:element[0].style.height});that.wrapper=wrapper.addClass("k-widget k-datepicker k-header").addClass(element[0].className);that._inputWrapper=$(wrapper[0].firstChild);},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");if(form[0]){that._resetHandler=function(){that.value(element[0].defaultValue);that.max(that._initialOptions.max);that.min(that._initialOptions.min);};that._form=form.on("reset",that._resetHandler);}},_template:function(){this._ariaTemplate=template(this.options.ARIATemplate);},_updateARIA:function(date){var cell;var that=this;var calendar=that.dateView.calendar;that.element.removeAttr("aria-activedescendant");if(calendar){cell=calendar._cell;cell.attr("aria-label",that._ariaTemplate({current:date||calendar.current()}));that.element.attr("aria-activedescendant",cell.attr("id"));}}});ui.plugin(DatePicker);})(window.kendo.jQuery);return window.kendo;},typeof define=='function'&&define.amd?define:function(_,f){f();});

var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=this.data.charCodeAt(d);f>65536?(b[0]=240|(1835008&f)>>>18,b[1]=128|(258048&f)>>>12,b[2]=128|(4032&f)>>>6,b[3]=128|63&f):f>2048?(b[0]=224|(61440&f)>>>12,b[1]=128|(4032&f)>>>6,b[2]=128|63&f):f>128?(b[0]=192|(1984&f)>>>6,b[1]=128|63&f):b[0]=f,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function j(a,b){this.totalCount=a,this.dataCount=b}function k(){this.buffer=[],this.length=0}function m(){return"undefined"!=typeof CanvasRenderingContext2D}function n(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function r(a,b){for(var c=1,e=s(a),f=0,g=l.length;g>=f;f++){var h=0;switch(b){case d.L:h=l[f][0];break;case d.M:h=l[f][1];break;case d.Q:h=l[f][2];break;case d.H:h=l[f][3]}if(h>=e)break;c++}if(c>l.length)throw new Error("Too long data");return c}function s(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=f.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=f.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][e+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=f.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=f.getBCHTypeInfo(c),e=0;15>e;e++){var g=!a&&1==(1&d>>e);6>e?this.modules[e][8]=g:8>e?this.modules[e+1][8]=g:this.modules[this.moduleCount-15+e][8]=g}for(var e=0;15>e;e++){var g=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=g:9>e?this.modules[8][15-e-1+1]=g:this.modules[8][15-e-1]=g}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,g=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null==this.modules[d][h-i]){var j=!1;g<a.length&&(j=1==(1&a[g]>>>e));var k=f.getMask(b,d,h-i);k&&(j=!j),this.modules[d][h-i]=j,e--,-1==e&&(g++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=j.getRSBlocks(a,c),g=new k,h=0;h<d.length;h++){var i=d[h];g.put(i.mode,4),g.put(i.getLength(),f.getLengthInBits(i.mode,a)),i.write(g)}for(var l=0,h=0;h<e.length;h++)l+=e[h].dataCount;if(g.getLengthInBits()>8*l)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*l+")");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);0!=g.getLengthInBits()%8;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(b.PAD0,8),g.getLengthInBits()>=8*l)break;g.put(b.PAD1,8)}return b.createBytes(g,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,g=new Array(b.length),h=new Array(b.length),j=0;j<b.length;j++){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),e=Math.max(e,l),g[j]=new Array(k);for(var m=0;m<g[j].length;m++)g[j][m]=255&a.buffer[m+c];c+=k;var n=f.getErrorCorrectPolynomial(l),o=new i(g[j],n.getLength()-1),p=o.mod(n);h[j]=new Array(n.getLength()-1);for(var m=0;m<h[j].length;m++){var q=m+p.getLength()-h[j].length;h[j][m]=q>=0?p.get(q):0}}for(var r=0,m=0;m<b.length;m++)r+=b[m].totalCount;for(var s=new Array(r),t=0,m=0;d>m;m++)for(var j=0;j<b.length;j++)m<g[j].length&&(s[t++]=g[j][m]);for(var m=0;e>m;m++)for(var j=0;j<b.length;j++)m<h[j].length&&(s[t++]=h[j][m]);return s};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0;)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0;)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case e.PATTERN000:return 0==(b+c)%2;case e.PATTERN001:return 0==b%2;case e.PATTERN010:return 0==c%3;case e.PATTERN011:return 0==(b+c)%3;case e.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case e.PATTERN101:return 0==b*c%2+b*c%3;case e.PATTERN110:return 0==(b*c%2+b*c%3)%2;case e.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new i([1],0),c=0;a>c;c++)b=b.multiply(new i([1,g.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},g={glog:function(a){if(1>a)throw new Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)g.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)g.EXP_TABLE[h]=g.EXP_TABLE[h-4]^g.EXP_TABLE[h-5]^g.EXP_TABLE[h-6]^g.EXP_TABLE[h-8];for(var h=0;255>h;h++)g.LOG_TABLE[g.EXP_TABLE[h]]=h;i.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=g.gexp(g.glog(this.get(c))+g.glog(a.get(d)));return new i(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=g.glog(this.get(0))-g.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=g.gexp(g.glog(a.get(d))+b);return new i(c,0).mod(a)}},j.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],j.getRSBlocks=function(a,b){var c=j.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=[],f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],k=0;g>k;k++)e.push(new j(h,i));return e},j.getRsBlockTable=function(a,b){switch(b){case d.L:return j.RS_BLOCK_TABLE[4*(a-1)+0];case d.M:return j.RS_BLOCK_TABLE[4*(a-1)+1];case d.Q:return j.RS_BLOCK_TABLE[4*(a-1)+2];case d.H:return j.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},k.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],o=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function g(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var b=this._htOption,c=this._el,d=a.getModuleCount();Math.floor(b.width/d),Math.floor(b.height/d),this.clear();var h=g("svg",{viewBox:"0 0 "+String(d)+" "+String(d),width:"100%",height:"100%",fill:b.colorLight});h.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),c.appendChild(h),h.appendChild(g("rect",{fill:b.colorDark,width:"1",height:"1",id:"template"}));for(var i=0;d>i;i++)for(var j=0;d>j;j++)if(a.isDark(i,j)){var k=g("use",{x:String(i),y:String(j)});k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),h.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),p="svg"===document.documentElement.tagName.toLowerCase(),q=p?o:m()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function d(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var b=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,d,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*b;else"undefined"==typeof j&&(arguments[1]*=b,arguments[2]*=b,arguments[3]*=b,arguments[4]*=b);c.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=n(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&d.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._android=n(),this._el=a,this._oQRCode=null,this._oDrawing=new q(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(r(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}();

function str_repeat(i,m){for(var o=[];m>0;o[--m]=i);return(o.join(""));}
function sprintf(){var i=0,a,f=arguments[i++],o=[],m,p,c,x,s='';while(f){if(m=/^[^\x25]+/.exec(f)){o.push(m[0]);}
else if(m=/^\x25{2}/.exec(f)){o.push("%");}
else if(m=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(f)){if(((a=arguments[m[1]||i++])==null)||(a==undefined)){throw("Too few arguments.");}
if(/[^s]/.test(m[7])&&(typeof(a)!="number")){throw("Expecting number but found "+typeof(a));}
switch(m[7]){case'b':a=a.toString(2);break;case'c':a=String.fromCharCode(a);break;case'd':a=parseInt(a);break;case'e':a=m[6]?a.toExponential(m[6]):a.toExponential();break;case'f':a=m[6]?parseFloat(a).toFixed(m[6]):parseFloat(a);break;case'o':a=a.toString(8);break;case's':a=((a=String(a))&&m[6]?a.substring(0,m[6]):a);break;case'u':a=Math.abs(a);break;case'x':a=a.toString(16);break;case'X':a=a.toString(16).toUpperCase();break;}
if(/[def]/.test(m[7])){s=(a>=0?(m[2]?'+':''):'-');a=Math.abs(a);}
c=m[3]?m[3]=='0'?'0':m[3].charAt(1):' ';x=m[5]-String(a).length-s.length;p=m[5]?str_repeat(c,x):'';o.push(s+(m[4]?a+p:p+a));}
else{throw("Huh ?!");}
f=f.substring(m[0].length);}
return o.join("");}

var Message={showError:function(text,parent,delay){return Message.showMessage(text,'danger',parent,delay);},showSuccess:function(text,parent,delay){return Message.showMessage(text,'success',parent,delay);},showWarning:function(text,parent,delay){return Message.showMessage(text,'warning',parent,delay);},showInfo:function(text,parent,delay){return Message.showMessage(text,'info',parent,delay);},showMessage:function(text,type,parent,delay){var container=jQuery('.messages-container:first');if(parent){container=jQuery('.messages-container:first',parent);}
if(parent&&parent.is('.messages-container')){container=parent.first();}
if(jQuery('.sb-message-container').length){container=jQuery('.sb-message-container:last');}
var alertNode=jQuery('alert-'+type,container).not('.alert-static');if(!alertNode.length){alertNode=jQuery('<div class="alert alert-'+type+' alert-dismissible" role="alert">'+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span class="modal-close-button"  aria-hidden="true">&times;</span></button>'+'</div>');container.append(alertNode);}
alertNode.append(jQuery('<div />').html(text));if(delay){alertNode.show().delay(delay).slideUp(250);}
return alertNode;},hideMessages:function(parent,hasClass){var node=jQuery('.alert');if(parent){node=jQuery('.alert',parent);}
node=node.not('.alert-static');if(jQuery('.sb-message-container').length){node=jQuery('.alert',jQuery('.sb-message-container')).not('.alert-static');}
if(hasClass){node=node.closest(hasClass);}
node.remove();}};

var Config={options:{},setOptions:function(options){Config.options=jQuery.extend({},Config.options,options);},getParam:function(key,defaultValue){if(jQuery.type(Config.options[key])!=='undefined'){return Config.options[key];}
return defaultValue;},getTimeFormat:function(){return Config.getParam('time_format','24hr');},getDateFormat:function(){return Config.getParam('date_format','Y-m-d');},getTimeFrame:function(){return parseInt(Config.getParam('time_frame',5),10);},isMondayFirstDay:function(){return(Config.getParam('monday_is_first_day')==1);},getBaseUrl:function(){return Config.getParam('base_url','');},getPluginStatus:function(name){var plugins=Config.getParam('plugins');var plugin=plugins[name];if(plugin&&parseInt(plugin.is_active)){return true;}
return false;},setPluginStatus:function(name,status){var plugins=Config.getParam('plugins');var plugin=plugins[name];plugin.is_active=parseInt(status);},getMaxFileSize:function(){return 5*1024*1024;}};

var TelerikConfig={init:function(){kendo.cultures.current.calendars.standard.firstDay=parseInt(Config.getParam('monday_is_first_day'));kendo.cultures.current.calendars.standard.days.names=this._translateArray(kendo.cultures.current.calendars.standard.days.names);kendo.cultures.current.calendars.standard.days.namesAbbr=this._translateArray(kendo.cultures.current.calendars.standard.days.namesAbbr);kendo.cultures.current.calendars.standard.days.namesShort=this._translateArray(kendo.cultures.current.calendars.standard.days.namesShort);kendo.cultures.current.calendars.standard.months.names=this._translateArray(kendo.cultures.current.calendars.standard.months.names);kendo.cultures.current.calendars.standard.months.namesAbbr=this._translateArray(kendo.cultures.current.calendars.standard.months.namesAbbr);var dateFormat=this._getTelerikDateFormat(Config.getDateFormat());var timeFormat=this._getTelerikTimeFormat(Config.getTimeFormat());jQuery.extend(kendo.cultures.current.calendars.standard.patterns,{'D':dateFormat,'F':dateFormat+' '+timeFormat,'d':dateFormat,'g':dateFormat+' '+timeFormat,'G':dateFormat+' '+timeFormat,'t':timeFormat,'T':timeFormat});},_translateArray:function(arr){var res=[];for(var i=0;i<arr.length;i++){res.push(Locale.get(arr[i]));}
return res;},_getTelerikDateFormat:function(format){return format.replace('Y','yyy').replace('y','yy').replace('d','dd').replace('M','MMMM').replace('m','MM').replace('l','dddd');},_getTelerikTimeFormat:function(format){if(format==='24hr'){return'HH:mm';}
return'h:mm tt';}}

var Locale={get:function(){var resStr=Locale.getNonEscape.apply(null,arguments);if(typeof resStr==='string'){resStr=resStr.escape();}
return resStr;},getNonEscape:function(){if(typeof(LANG)=='undefined'){LANG={};}
var str=arguments[0];if(LANG[str]){str=LANG[str];}
if(arguments.length>1){arguments[0]=str;str=sprintf.apply(null,arguments);}
return str;},has:function(key){if(typeof(LANG)!=='undefined'&&LANG[key]){return true;}
return false;},getWithVars:function(str,data){var res=Locale.getNonEscape(str);for(var key in data){if(!data.hasOwnProperty(key)){continue;}
var stringToReplace=new RegExp("%"+key+"%","g");res=res.replace(stringToReplace,data[key]);}
return res;}};

jQuery.extend(Date.prototype,{monthsLong:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekDaysLong:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],weekDayShort:['Su','Mo','Tu','We','Th','Fr','Sa'],weekDayMedium:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],getMysqlDate:function(){var month=this.getMonth()+1;month=month>9?month:'0'+month;var day=this.getDate();day=day>9?day:'0'+day;var year=this.getFullYear();var result=year+'-'+month+'-'+day;return result;},getMysqlTime:function(){var hours=this.getHours();hours=hours>9?hours:'0'+hours;var mins=this.getMinutes();mins=mins>9?mins:'0'+mins;var seconds=this.getSeconds();seconds=seconds>9?seconds:'0'+seconds;return hours+':'+mins+':'+seconds;},getWeekDaysList:function(type,nonEscape){var arr=this.weekDaysLong;switch(type){case'medium':arr=this.weekDayMedium;break;case'short':arr=this.weekDayShort;break;}
var days=[];for(var i=0;i<arr.length;i++){if(nonEscape){days.push(Locale.getNonEscape(arr[i]));}else{days.push(Locale.get(arr[i]));}}
if(Config.isMondayFirstDay()===true||parseInt(Config.isMondayFirstDay())){days.push(days.shift());}
return days;},getWeekDayName:function(type){var names=this.getWeekDaysList(type);var index=this.getDay();if(Config.isMondayFirstDay()===true){index--;}
if(index===-1){index=6;}
return names[index];},getMonthName:function(type){return this.getMonthNameByIndex(this.getMonth(),type);},getMonthNameByIndex:function(index,type){switch(type){case'short':return this.monthsShort[index];default:return this.monthsLong[index];}},getMysqlDateTime:function(){var date=this.getMysqlDate();var time=this.getMysqlTime();return date+' '+time;},getTimeObj:function(){return new Time(this.getMysqlTime());},getFormattedDate:function(nonEscape){return this.formatDate(Config.getDateFormat(),nonEscape);},getFormattedDateMultiline:function(nonEscape){return this.getFormattedDate(nonEscape).replace(',','\n');},getMonthDays:function(){var d=new Date(this.getFullYear(),this.getMonth()+1,0);return d.getDate();},getFormattedTime:function(){return new Time(this.getMysqlTime()).getFormattedTime();},getFormattedDateTime:function(nonEscape){return this.getFormattedDate(nonEscape)+' '+this.getFormattedTime();},formatDate:function(format,nonEscape){var translator=Locale.get;if(nonEscape){translator=Locale.getNonEscape;}
var result=[];for(var i=0;i<format.length;i++){var str=format[i];switch(format[i]){case'd':str=this.getDate()>9?this.getDate():'0'+this.getDate();break;case'j':str=this.getDate();break;case'm':str=this._fixZero(this.getMonth()+1);break;case'Y':str=this.getFullYear();break;case'y':str=new String(this.getFullYear()).substr(2,2);break;case'M':str=translator(this.monthsShort[this.getMonth()]);break;case'F':var monthName=this.getMonthName();if(Locale.has('_'+monthName+'_')){str=translator('_'+monthName+'_');}else{str=translator(monthName);}
break;case'l':str=translator(this.weekDaysLong[this.getDay()]);break;case'D':str=translator(this.weekDayMedium[this.getDay()]);break;case'H':str=this._fixZero(this.getHours());break;case'i':str=this._fixZero(this.getMinutes());break;case's':str=this._fixZero(this.getSeconds());break;}
result.push(str);}
return result.join('');},_fixZero:function(val){return val>9?val:'0'+val;},getWeekStart:function(){var result=new Date(this);var currentWeekDay=this.getDay();if(Config.isMondayFirstDay()===true||parseInt(Config.isMondayFirstDay())){if(currentWeekDay==0)currentWeekDay=7;result.setDate(this.getDate()-currentWeekDay+1);}else{result.setDate(this.getDate()-currentWeekDay);}
return result;},getWeekEnd:function(){var result=this.getWeekStart();result.setDate(result.getDate()+6);return result;}});Date.parseMysqlDate=function(date){var result=new Date();var datetimeArr=date.split(' ');if(datetimeArr.length){var dateArr=datetimeArr[0].split('-');result.setYear(parseInt(dateArr[0],10));result.setMonth((parseInt(dateArr[1],10)-1),parseInt(dateArr[2]));if(datetimeArr.length>1){var timeArr=datetimeArr[1].split(':');result.setHours(parseInt(timeArr[0],10),parseInt(timeArr[1],10),0,0);}}
return result;};Date.convertPhpDateFormatToJs=function(phpDateFormat,bootstrapFormat){var result=[];for(var i=0;i<phpDateFormat.length;i++){var str=phpDateFormat[i];switch(phpDateFormat[i]){case'd':str='dd';break;case'm':str='mm';break;case'M':str='M';break;case'y':if(bootstrapFormat){str='yy'}else{str='y';}
break;case'Y':if(bootstrapFormat){str='yyyy';}else{str='yy';}
break;case'l':str='DD';break;}
result.push(str);}
return result.join('');};

jQuery.event.special.doubletap={delegateType:'click',bindType:'click',handle:function(event){var result=null;if(!this._lastClick){this._lastClick=new Date();}else{if(new Date()-this._lastClick<400){result=event.handleObj.handler.apply(this,arguments);}
this._lastClick=false;}
return result;}};jQuery.expr[':'].onwindow=function(element){var win=jQuery(window);var el=jQuery(element);var elTop=el.offset().top;var elHeight=el.height();var elBottom=elTop+elHeight;var winScrollTop=win.scrollTop();var winHeight=win.height();var winScrollBottom=winScrollTop+winHeight;if(elBottom>winScrollTop&&elBottom<winScrollBottom||elTop>winScrollTop&&elTop<winScrollBottom){return true;}
return false;};jQuery.fn.serializeControls=function(){var data={};var keysCount=[];function buildInputObject(arr,val,name){if(arr.length<1)
return val;var objkey=arr[0];if(objkey.slice(-1)=="]"){objkey=objkey.slice(0,-1);if(!objkey){objkey=keysCount[name];keysCount[name]+=1;}}
var result={};if(arr.length==1){result[objkey]=val;}else{arr.shift();var nestedVal=buildInputObject(arr,val,name);result[objkey]=nestedVal;}
return result;}
jQuery(this).not(':disabled').each(function(){var name=$(this).attr('name');var val=$(this).val();if($(this).attr('type')=='radio'&&!jQuery(this).is(':checked')&&!data[name]&&!val){val=0;}
if($(this).attr('type')=='radio'&&!jQuery(this).is(':checked')&&!data[name]&&val){return;}
if(!name||val==undefined){return;}
var c=name.split("[");if(!keysCount[name]){keysCount[name]=0;}
var a=buildInputObject(c,val,name);jQuery.extend(true,data,a);});return data;};jQuery.copyToClipboard=function(text){var $temp=jQuery("<input>");jQuery("body").append($temp);$temp.val(text).select();document.execCommand("copy");$temp.remove();};

jQuery.extend(String.prototype,{hashCode:function(){var hash=5381;for(i=0;i<this.length;i++){char=this.charCodeAt(i);hash=((hash<<5)+hash)+char;}
return hash;},replaceAll:function(search,replace){return this.trim().split(search).join(replace);},urlify:function(){return this.trim().replace(/[^A-Za-z0-9]+/g,'-').toLowerCase();},escape:function(){var lt=/</g,gt=/>/g,ap=/'/g,ic=/"/g;return this.replace(lt,"&lt;").replace(gt,"&gt;").replace(ap,"&#39;").replace(ic,"&#34;");},capitalizeWords:function(){return this.split('-').map(function(str){return str.replace(/^[a-z]/,function(char){return char.toUpperCase();});}).join('');},includesCaseInsensitive:function(substring){return this.toUpperCase().indexOf(substring.toUpperCase())!==-1;}});

var Time=function(val){this.__construct(val);}
jQuery.extend(Time.prototype,{seconds:0,minutes:0,hours:0,__construct:function(val){if(jQuery.type(val)=='string'){this.parseFromString(val);}
if(jQuery.type(val)=='number'){this.parseFromInteger(val);}
if(jQuery.type(val)=='date'){this.parseFromDate(val);}},parseFromString:function(val){val=val.toUpperCase();var addHour=0;if(val.search('PM')!=-1){addHour=12;}
val=val.replace('PM','').replace('AM','');val=val.split(':');this.hours=parseInt(val[0],10)+addHour;this.minutes=parseInt(val[1],10);},parseFromInteger:function(val){this.hours=Math.floor(val/60);this.minutes=(val-this.hours*60);},parseFromDate:function(val){this.hours=val.getHours();this.minutes=val.getMinutes();},getHours:function(){return this.hours;},getMinutes:function(){return this.minutes;},getInteger:function(){return(this.hours*60)+this.minutes;},getFormattedTime:function(format){var frmt=this._getFormat(format);if(frmt=='24hr'){return this._fixZero(this.getHours())+':'+this._fixZero(this.getMinutes());}else if(frmt=='hours'){return this._fixZero(this.getHours());}
var pref='AM';var hours=this.getHours()%24;if(hours>=12){if(hours>12){hours=hours-12;}
pref='PM';}
if(hours==0){hours=12;}
return hours+':'+this._fixZero(this.getMinutes())+' '+pref;},getDuration:function(){var result=[];if(this.hours>0){result.push(this.hours+' '+this._getDurationText(this.hours,'hour'));}
if(this.minutes>0){result.push(this.minutes+' '+this._getDurationText(this.minutes,'minute'));}
return result.join(', ');},_getDurationText:function(value,type){var value=value.toString();var text='';if(value=='12'||value=='13'||value=='14'){text=(type=='hour'?'many_hours_key':'minutes');}else{value=value.slice(value.length-1,value.length);if(value=='1'){text=(type=='hour'?'hour':'minute');}else if(value=='2'||value=='3'||value=='4'){text=(type=='hour'?'2_3_4_hour_key':'2_3_4_minute_key');}else{text=(type=='hour'?'many_hours_key':'minutes');}}
return Locale.get(text);},_fixZero:function(val){if(val<=9){return'0'+val;}
return val;},_getFormat:function(format){if(jQuery.type(format)==='undefined'){if(jQuery.type(Config)!=='undefined'){format=Config.getTimeFormat();}else{format='24hr';}}
return format;}});

var Color=function(val){this.__construct(val);};jQuery.extend(Color.prototype,{r:0,g:0,b:0,a:1,__construct:function(val){if(jQuery.type(val)==='string'){this.parseFromHexString(val);}},parseFromHexString:function(val){var str=val.replace('#','');var strArr=str.split('');if(strArr.length==6){this.r=parseInt(strArr[0]+strArr[1],16);this.g=parseInt(strArr[2]+strArr[3],16);this.b=parseInt(strArr[4]+strArr[5],16);}
if(strArr.length==3){this.r=parseInt(strArr[0]+strArr[0],16);this.g=parseInt(strArr[1]+strArr[1],16);this.b=parseInt(strArr[2]+strArr[2],16);}},getContrastColor:function(){var brightness=Math.round(((parseInt(this.r)*299)+(parseInt(this.g)*587)+(parseInt(this.b)*114))/1000);if(brightness>125){return'#000000';}
return'#ffffff';},getCssColor:function(){return'rgba('+this.r+', '+this.g+', '+this.b+', '+this.a+')';}});

jQuery.ajaxSetup({beforeSend:function(xhr,options){if(options.url.search('://')===-1&&options.url.search(Config.getBaseUrl())!==0&&!options.skip_base_url){options.url=Config.getBaseUrl()+options.url}}});

jQuery(document).ready(function(){jQuery('body').on('click','.sb-cookie-link',function(){setCookie(jQuery(this).data('name'),jQuery(this).data('value'),jQuery(this).data('options'));})});function setCookie(name,value,options){options=options||{};var expires=options.expires;if(typeof expires=="number"&&expires){var d=new Date();d.setTime(d.getTime()+expires*1000);expires=options.expires=d;}
if(expires&&expires.toUTCString){options.expires=expires.toUTCString();}
value=encodeURIComponent(value);var updatedCookie=name+"="+value;for(var propName in options){updatedCookie+="; "+propName;var propValue=options[propName];if(propValue!==true){updatedCookie+="="+propValue;}}
document.cookie=updatedCookie;}

jQuery(document).ajaxSuccess(function(event,jqxhr,data){var res=null;if(jqxhr&&jQuery.type(jqxhr.responseJSON)==='object'){res=jqxhr.responseJSON;}
if(jqxhr&&jQuery.type(jqxhr.responseText)==='string'&&jqxhr.getResponseHeader('content-type').search('json')!==-1){res=jQuery.parseJSON(jqxhr.responseText);}
if(res&&jQuery.type(res.__redirect)!=='undefined'){location.href=res.__redirect+'?back_url='+location.pathname+location.search;}});

var CommonOptions=function(){};jQuery.extend(CommonOptions.prototype,{options:{},setOptions:function(options){this.options=jQuery.extend({},this.options,options);},getParam:function(paramKey,defaultValue){if(jQuery.type(this.options[paramKey])==='undefined'){return defaultValue;}
return this.options[paramKey];},setParam:function(paramKey,value){this.options[paramKey]=value;}});

var CommonLog=function(){};jQuery.extend(CommonLog.prototype,{debugMode:true,_error:function(str){if(this.debugMode&&jQuery.type(console.error)==='function'){console.error(str);}},_info:function(str){if(this.debugMode&&jQuery.type(console.info)==='function'){console.info(str);}},_warning:function(str){if(this.debugMode&&jQuery.type(console.warn)==='function'){console.warn(str);}},_log:function(str){if(this.debugMode&&jQuery.type(console.log)==='function'){console.log(str);}},_trace:function(){if(this.debugMode&&jQuery.type(console.trace)==='function'){console.trace();}},_profile:function(){if(this.debugMode&&jQuery.type(console.profile)==='function'){console.profile();}},_profileEnd:function(){if(this.debugMode&&jQuery.type(console.profileEnd)==='function'){console.profileEnd();}}});

var CommonForm=function(options){this.__construct(options);};jQuery.extend(CommonForm.prototype,CommonLog.prototype,CommonOptions.prototype,{container:null,header:null,body:null,footer:null,saveButton:null,cancelButton:null,loader:null,submitMode:'ajax',iframe:null,id:null,options:{'success_message':Locale.get('Your data was successfully saved.'),'custom_class':null,'hide_buttons':false},modal:null,__construct:function(options){this.setOptions(options);this.init();},init:function(){this.container=jQuery('<div class="modal fade form-container" tabindex="-1" role="dialog">'+'<div class="modal-dialog" role="document">'+'<div class="modal-content"></div>'+'</div>'+'</div>');jQuery('body').append(this.container);if(this.getParam('custom_class')){jQuery('.modal-dialog',this.container).addClass(this.getParam('custom_class'));}
this.initHeader();this.initBody();this.initFooter();this.container.appendTo(jQuery('body'));this.initEvents();this.initForm();this.initFormEvents();},initHeader:function(){this.header=jQuery('<div class="modal-header">'+'<h4 class="modal-title">'+this.getParam('title')+'</h4>'+'<button type="button" class="close">'+'<span class="modal-close-button"  aria-hidden="true">&times;</span>'+'</button>'+'</div>');jQuery('.modal-content',this.container).append(this.header);},initBody:function(){this.body=jQuery('<div class="modal-body"></div>');jQuery('.modal-content',this.container).append(this.body);},initFooter:function(){this.footer=jQuery('<div class="modal-footer"></div>');if(!this.getParam('hide_buttons')){this.cancelButton=this.createButton(this.getParam('cancel_button_title',Locale.get('Cancel')),'btn-link save-btn');this.saveButton=this.createButton(this.getParam('save_button_title',Locale.get('Save')),'btn-primary cancel-btn');this.footer.append(this.cancelButton).append(this.saveButton);}
this.loader=jQuery('<div class="loader"></div>').hide();this.footer.append(this.loader);jQuery('.modal-content',this.container).append(this.footer);},initEvents:function(){var instance=this;if(this.saveButton){this.saveButton.click(function(){instance.submitForm();});}
if(this.cancelButton){this.cancelButton.click(function(){instance.hideForm(false);});}
jQuery('.close',this.header).click(function(){instance.hideForm(false);});},createButton:function(title,className){var button=jQuery('<button type="button" class="btn">'+title+'</button>');if(className){button.addClass(className);}
return button;},setId:function(id){this.id=id;},getId:function(){return this.id;},showForm:function(options,showAfterLoad){jQuery(this).trigger('beforeShow',[options]);if(showAfterLoad){var instance=this;this.loadBody(options,function(){instance._showForm();});}else{this.loadBody(options);this._showForm();}},_showForm:function(){var modalOptions={'backdrop':'static','keyboard':false};if(this.modal){jQuery.extend(this.modal.options,modalOptions);}
this.container.modal(modalOptions);this.modal=this.container.data('bs.modal');jQuery(this).trigger('formShown');},loadBody:function(options,handler){var instance=this;var url=this._getUrl(options);this.body.load(url,function(){if(jQuery('input[type="file"]',instance.container).length){instance.submitMode='iframe';}
if(jQuery.type(handler)==='function'){handler();}
jQuery(instance).trigger('formLoad',[options]);instance.onFormLoad(options);jQuery(instance).trigger('afterFormLoad',[options]);});},_getUrl:function(options){var url=this.getParam('form_url');if(this.getId()){url+='?id='+this.getId();}
return url;},submitForm:function(){this._showLoader();Message.hideMessages(this.container);jQuery(this).trigger('beforeSubmit');jQuery('.input-error',this.container).remove();jQuery('.has-error',this.container).removeClass('has-error');this.beforeFormSubmit();if(this.submitMode==='iframe'){this._submitIframe();}else{this._submitAjax();}},_submitIframe:function(){var instance=this;var id;if(!this.iframe){id='form_iframe_'+Math.round(Math.random()*10000);this.iframe=jQuery('<iframe></iframe>').attr({src:'about:blank',id:id,name:id});this.iframe.appendTo(jQuery('body')).hide();this.iframe.load(function(){var result=instance.iframe.contents().text();if(result.length){instance._handleResult(jQuery.parseJSON(result));}});}else{id=this.iframe.attr('id');}
var form=jQuery('form',this.container);form.attr('target',id);form.attr('action',this.getParam('form_url'));form.submit();},_submitAjax:function(){var _this=this;jQuery.post(this.getParam('form_url'),jQuery('form',this.container).serialize(),function(data){_this._handleResult(data);},'json').fail(function(jqXHR,status){var data=jqXHR.responseJSON;if(jqXHR.status==401){var reauthType=data?data.type:'password';_this._reauth(reauthType,function(){_this._submitAjax();},function(error){_this._hideLoader();var cont=_this.container;if(jQuery('.messages-container',_this.container).length){cont=jQuery('.messages-container',_this.container);}
Message.showError(Locale.get(error),cont);});}else{_this._handleResult(data);}});},_reauth:function(reauthType,resolve,reject){switch(reauthType){case'ga':case'sms':var reauthForm=new UserReauth2FaForm();reauthForm.reauth().then(function(){resolve();},function(){reject('2FA confirmation is required');});return;case'password':default:}},_handleResult:function(result){this._hideLoader();this.beforeHandleResult(result);jQuery(this).trigger('handleResult',[result]);if(result.success){this.hideForm(true);if(this.getParam('succes_message')){Message.showSuccess(this.getParam('succes_message'));}}else{var cont=this.container;if(result.hasOwnProperty('customErrorMessage')){if(jQuery('.messages-container',this.container).length){cont=jQuery('.messages-container',this.container);}
Message.showError(Locale.get(result.customErrorMessage),cont);this.scrollToError();}else{for(var fieldName in result.errors){if(jQuery.type(result.errors[fieldName])==='function'){continue;}
var container=jQuery('#'+fieldName,this.container).parent();var errorContainer=jQuery('.error-container',container);if(!errorContainer.length){errorContainer=container;}
errorContainer.find('.to-'+fieldName).detach();for(var i=0;i<result.errors[fieldName].length;i++){errorContainer.append(jQuery('<p class="invalid-feedback input-error to-'+fieldName+'">'+result.errors[fieldName][i]+'</p>'));}
if(result.errors[fieldName].length){jQuery('#'+fieldName,this.container).closest('.form-group').addClass('has-error');}else{jQuery('#'+fieldName,this.container).closest('.form-group').removeClass('has-error');}}
if(result.form_errors.length){var cont=this.container;if(jQuery('.messages-container',this.container).length){cont=jQuery('.messages-container',this.container);}
Message.showError(result.form_errors.join('<br />'),cont,5000);this.scrollToError();}}}},hideForm:function(saved){jQuery(this).trigger('beforeHide',[saved]);this.container.modal('hide');jQuery(this).trigger('afterHide',[saved]);this.body.empty();},_showLoader:function(){if(this.loader){this.loader.show();}
jQuery('.btn',this.footer).hide();},_setTitle:function(title){jQuery('.modal-title',this.header).html(title);},_hideLoader:function(){if(this.loader){this.loader.hide();}
jQuery('.btn',this.footer).show();},initForm:function(){},initFormEvents:function(){},onFormLoad:function(options){},beforeFormSubmit:function(){},beforeHandleResult:function(result){},scrollToError:function(){var instance=this;var modalDialog=jQuery('.modal-dialog',this.container);if(modalDialog.outerHeight()>jQuery(window).height()){instance.container.animate({scrollTop:0},1000);}}});var ModalFormPositionFix=function(){this.baseIndex=1040;this.updateIndex=function(modal,showForm,correction){if(!correction){correction=0;}
var lastZIndex=parseInt(jQuery('.modal:visible').css('z-index'));if(!lastZIndex||!showForm){lastZIndex=this.baseIndex;}
var zIndex=lastZIndex+(10*jQuery('.modal:visible').length)+correction;jQuery(modal).css('z-index',zIndex);jQuery('.modal-backdrop').css('z-index',zIndex-1);};var instance=this;jQuery(document).on('shown.bs.modal','.modal',function(event){instance.updateIndex(this,true);});jQuery(document).on('show.bs.modal','.modal',function(event){instance.updateIndex(this,true,1);});jQuery(document).on('hidden.bs.modal','.modal',function(){instance.updateIndex(this,false);if(jQuery('.modal:visible').length){jQuery(document.body).addClass('modal-open');}else{jQuery('.modal-backdrop').remove();}});};var modalFormPosFix=new ModalFormPositionFix();

var CommonPlugin=function(options){this.__construct(options);};jQuery.extend(CommonPlugin.prototype,CommonLog.prototype,CommonOptions.prototype,{__construct:function(options){this.setOptions(options);this.init();}});

var CommonInterface=function(options){this.__construct(options);};jQuery.extend(CommonInterface.prototype,CommonLog.prototype,CommonOptions.prototype,{__construct:function(options){this.setOptions(options);this.init();},init:function(){},initDatepicker:function(element){var el=jQuery(element);var datePicker=el.clone();datePicker.attr('name',el.attr('name')+'_visible');datePicker.attr('id',el.attr('id')+'_visible');el.after(datePicker);el.attr('type','hidden');datePicker.kendoDatePicker({'change':function(){var val=this.value();if(val){el.val(val.getMysqlDate()).change();}else{el.val('');}}});return datePicker;},initCombobox:function(element,datasource){return new UiCombobox({'element':element,'data_source':datasource});},formatDuration:function(duration){var time=new Time();time.parseFromInteger(duration);return time.getDuration();}});

var Dialog=function(options){this.__construct(options);};Dialog.show=function(title,body,callback){var dialog=new Dialog({'title':title,'body':body,'callback':callback});dialog.show();};jQuery.extend(Dialog.prototype,CommonOptions.prototype,{options:{'width':null,'title':'','body':'','btn_title':Locale.get('OK'),'btn_hide':false,'btn_class':'sb-modal-btn','dialog_class':'sb-modal-default',},dom:null,content:null,header:null,body:null,footer:null,__construct:function(options){this.setOptions(options);this.initDom();},initDom:function(){this.dom=jQuery('<div class="modal fade" role="dialog">'+'<div class="modal-dialog '+this.options.dialog_class+'">'+'<div class="modal-content"></div>'+'</div>'+'</div>');var instance=this;this.dom.bind('hidden.bs.modal',function(){instance.dom.detach();});this.content=jQuery('.modal-content',this.dom);if(this.getParam('width')){jQuery('.modal-dialog',this.dom).width(this.getParam('width')).css({'max-width':this.getParam('width')});}
this.initHeader();this.initBody();this.initFooter();},initHeader:function(){this.header=jQuery('<div class="modal-header">'+'<h4 class="modal-title">'+this.getParam('title')+'</h4>'+'<button type="button" class="close" data-dismiss="modal">'+'<span class="modal-close-button" aria-hidden="true">&times;</span>'+'</button>'+'</div>');this.content.append(this.header);},initBody:function(){this.body=jQuery('<div class="modal-body"></div>');if(jQuery.type(this.getParam('body'))==='string'){this.body.html(this.getParam('body'));}else{this.body.append(this.getParam('body'));}
this.content.append(this.body);},initFooter:function(){this.footer=jQuery('<div class="modal-footer"></div>');this.content.append(this.footer);this.initButtons();},initButtons:function(){var hideBtn=this.getParam('btn_hide');if(!hideBtn){var btn=jQuery('<button type="button" class="btn btn-primary">'+this.getParam('btn_title')+'</button>');this.footer.append(btn);var instance=this;btn.click(function(){if(jQuery.type(instance.getParam('callback'))==='function'){instance.getParam('callback')();}else{instance.hide();}});}},show:function(){this.dom.modal();},hide:function(){this.dom.modal('hide');}});

var VideoPopup=function(options){this.__construct(options);};jQuery.extend(VideoPopup.prototype,CommonOptions.prototype,{options:{speed:0},ui:{modal_open:'[data-toggle="modal"]',modal_close:'.video-modal'},video:null,modal_id:null,iframe:null,__construct:function(options){this.setOptions(options);if(this.options.ui){this.ui=this.options.ui;}
this.init();},init:function(){this.initDom();this.initEvents();},initDom:function(){for(var el in this.ui){this.ui[el]=jQuery(this.ui[el]);}},initEvents:function(){var instance=this;this.ui.modal_open.on('click',function(){instance.video=jQuery(this).data('video');if(instance.video){instance.modal_id=jQuery(this).data('target');}
instance._createModal(instance.modal_id,instance.video);});},_createModal:function(modal_id,video){let instance=this;modal_id=modal_id.slice(1);this.modalBlock=jQuery('<div class="modal video-modal fade" id="'+modal_id+'" tabindex="-1" role="dialog"'+'aria-labelledby="video-modalLabel">'+'<div class="modal-dialog" role="document">'+'<div class="modal-content">'+'<div class="modal-body">'+'<div class="embed-responsive embed-responsive-16by9">'+'<iframe class="embed-responsive-item video"'+'src="'+video+'"'+'width="640" height="312" frameborder="0"'+'allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"'+'webkitallowfullscreen mozallowfullscreen'+'allowfullscreen></iframe>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>');jQuery('body').append(this.modalBlock);this.modalBlock.on('hidden.bs.modal',function(){instance._hideVideo(this);jQuery(this).remove();});},_hideVideo:function(el){if(this.iframe){setTimeout(function(){this.video=jQuery(this.iframe).attr("src");jQuery(this.iframe).attr("src","");}.bind(this),this.getParam('speed'));}}});jQuery(document).ready(function(){var v=new VideoPopup({});});

var DialogConfirm=function(options){this.__construct(options);};DialogConfirm.show=function(title,body,successCallback,cancelCallback,okTitle,cancelTitle){var options={'title':title,'body':body,'success_callback':successCallback,'cancel_callback':cancelCallback};if(jQuery.type(okTitle)==='string'){options.ok_btn=okTitle;}
if(jQuery.type(cancelTitle)==='string'){options.cancel_btn=cancelTitle;}
var dialog=new DialogConfirm(options);dialog.show();};jQuery.extend(DialogConfirm.prototype,Dialog.prototype,{options:{'title':'','body':'','cancel_btn':Locale.get('Cancel'),'ok_btn':Locale.get('OK'),'cancel_class':'link','ok_class':'primary','dialog_class':"default-confirm-modal",},initButtons:function(){var cancelButton=jQuery('<button type="button" class="btn btn-'+this.getParam('cancel_class')+'">'+this.getParam('cancel_btn')+'</button>');var okButton=jQuery('<button type="button" class="btn btn-'+this.getParam('ok_class')+'">'+this.getParam('ok_btn')+'</button>');this.footer.append(cancelButton);this.footer.append(okButton);var instance=this;cancelButton.click(function(){var result=null;if(jQuery.type(instance.getParam('cancel_callback'))==='function'){result=instance.getParam('cancel_callback')();}
if(result!==false){instance.hide();}});okButton.click(function(){if(jQuery.type(instance.getParam('success_callback'))==='function'){instance.getParam('success_callback')();}
instance.hide();});}});

(function($){$.Jcrop=function(obj,opt){var options=$.extend({},$.Jcrop.defaults),docOffset,_ua=navigator.userAgent.toLowerCase(),is_msie=/msie/.test(_ua),ie6mode=/msie [1-6]\./.test(_ua);function px(n){return Math.round(n)+'px';}
function cssClass(cl){return options.baseClass+'-'+cl;}
function supportsColorFade(){return $.fx.step.hasOwnProperty('backgroundColor');}
function getPos(obj)
{var pos=$(obj).offset();return[pos.left,pos.top];}
function mouseAbs(e)
{return[(e.pageX-docOffset[0]),(e.pageY-docOffset[1])];}
function setOptions(opt)
{if(typeof(opt)!=='object')opt={};options=$.extend(options,opt);$.each(['onChange','onSelect','onRelease','onDblClick'],function(i,e){if(typeof(options[e])!=='function')options[e]=function(){};});}
function startDragMode(mode,pos,touch)
{docOffset=getPos($img);Tracker.setCursor(mode==='move'?mode:mode+'-resize');if(mode==='move'){return Tracker.activateHandlers(createMover(pos),doneSelect,touch);}
var fc=Coords.getFixed();var opp=oppLockCorner(mode);var opc=Coords.getCorner(oppLockCorner(opp));Coords.setPressed(Coords.getCorner(opp));Coords.setCurrent(opc);Tracker.activateHandlers(dragmodeHandler(mode,fc),doneSelect,touch);}
function dragmodeHandler(mode,f)
{return function(pos){if(!options.aspectRatio){switch(mode){case'e':pos[1]=f.y2;break;case'w':pos[1]=f.y2;break;case'n':pos[0]=f.x2;break;case's':pos[0]=f.x2;break;}}else{switch(mode){case'e':pos[1]=f.y+1;break;case'w':pos[1]=f.y+1;break;case'n':pos[0]=f.x+1;break;case's':pos[0]=f.x+1;break;}}
Coords.setCurrent(pos);Selection.update();};}
function createMover(pos)
{var lloc=pos;KeyManager.watchKeys();return function(pos){Coords.moveOffset([pos[0]-lloc[0],pos[1]-lloc[1]]);lloc=pos;Selection.update();};}
function oppLockCorner(ord)
{switch(ord){case'n':return'sw';case's':return'nw';case'e':return'nw';case'w':return'ne';case'ne':return'sw';case'nw':return'se';case'se':return'nw';case'sw':return'ne';}}
function createDragger(ord)
{return function(e){if(options.disabled){return false;}
if((ord==='move')&&!options.allowMove){return false;}
docOffset=getPos($img);btndown=true;startDragMode(ord,mouseAbs(e));e.stopPropagation();e.preventDefault();return false;};}
function presize($obj,w,h)
{var nw=$obj.width(),nh=$obj.height();if((nw>w)&&w>0){nw=w;nh=(w/$obj.width())*$obj.height();}
if((nh>h)&&h>0){nh=h;nw=(h/$obj.height())*$obj.width();}
xscale=$obj.width()/nw;yscale=$obj.height()/nh;$obj.width(nw).height(nh);}
function unscale(c)
{return{x:c.x*xscale,y:c.y*yscale,x2:c.x2*xscale,y2:c.y2*yscale,w:c.w*xscale,h:c.h*yscale};}
function doneSelect(pos)
{var c=Coords.getFixed();if((c.w>options.minSelect[0])&&(c.h>options.minSelect[1])){Selection.enableHandles();Selection.done();}else{Selection.release();}
Tracker.setCursor(options.allowSelect?'crosshair':'default');}
function newSelection(e)
{if(options.disabled){return false;}
if(!options.allowSelect){return false;}
btndown=true;docOffset=getPos($img);Selection.disableHandles();Tracker.setCursor('crosshair');var pos=mouseAbs(e);Coords.setPressed(pos);Selection.update();Tracker.activateHandlers(selectDrag,doneSelect,e.type.substring(0,5)==='touch');KeyManager.watchKeys();e.stopPropagation();e.preventDefault();return false;}
function selectDrag(pos)
{Coords.setCurrent(pos);Selection.update();}
function newTracker()
{var trk=$('<div></div>').addClass(cssClass('tracker'));if(is_msie){trk.css({opacity:0,backgroundColor:'white'});}
return trk;}
if(typeof(obj)!=='object'){obj=$(obj)[0];}
if(typeof(opt)!=='object'){opt={};}
setOptions(opt);var img_css={border:'none',visibility:'visible',margin:0,padding:0,position:'absolute',top:0,left:0};var $origimg=$(obj),img_mode=true;if(obj.tagName=='IMG'){if($origimg[0].width!=0&&$origimg[0].height!=0){$origimg.width($origimg[0].width);$origimg.height($origimg[0].height);}else{var tempImage=new Image();tempImage.src=$origimg[0].src;$origimg.width(tempImage.width);$origimg.height(tempImage.height);}
var $img=$origimg.clone().removeAttr('id').css(img_css).show();$img.width($origimg.width());$img.height($origimg.height());$origimg.after($img).hide();}else{$img=$origimg.css(img_css).show();img_mode=false;if(options.shade===null){options.shade=true;}}
presize($img,options.boxWidth,options.boxHeight);var boundx=$img.width(),boundy=$img.height(),$div=$('<div />').width(boundx).height(boundy).addClass(cssClass('holder')).css({position:'relative',backgroundColor:options.bgColor}).insertAfter($origimg).append($img);if(options.addClass){$div.addClass(options.addClass);}
var $img2=$('<div />'),$img_holder=$('<div />').width('100%').height('100%').css({zIndex:310,position:'absolute',overflow:'hidden'}),$hdl_holder=$('<div />').width('100%').height('100%').css('zIndex',320),$sel=$('<div />').css({position:'absolute',zIndex:600}).dblclick(function(){var c=Coords.getFixed();options.onDblClick.call(api,c);}).insertBefore($img).append($img_holder,$hdl_holder);if(img_mode){$img2=$('<img />').attr('src',$img.attr('src')).css(img_css).width(boundx).height(boundy),$img_holder.append($img2);}
if(ie6mode){$sel.css({overflowY:'hidden'});}
var bound=options.boundary;var $trk=newTracker().width(boundx+(bound*2)).height(boundy+(bound*2)).css({position:'absolute',top:px(-bound),left:px(-bound),zIndex:290}).mousedown(newSelection);var bgcolor=options.bgColor,bgopacity=options.bgOpacity,xlimit,ylimit,xmin,ymin,xscale,yscale,enabled=true,btndown,animating,shift_down;docOffset=getPos($img);var Touch=(function(){function hasTouchSupport(){var support={},events=['touchstart','touchmove','touchend'],el=document.createElement('div'),i;try{for(i=0;i<events.length;i++){var eventName=events[i];eventName='on'+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,'return;');isSupported=typeof el[eventName]=='function';}
support[events[i]]=isSupported;}
return support.touchstart&&support.touchend&&support.touchmove;}
catch(err){return false;}}
function detectSupport(){if((options.touchSupport===true)||(options.touchSupport===false))return options.touchSupport;else return hasTouchSupport();}
return{createDragger:function(ord){return function(e){if(options.disabled){return false;}
if((ord==='move')&&!options.allowMove){return false;}
docOffset=getPos($img);btndown=true;startDragMode(ord,mouseAbs(Touch.cfilter(e)),true);e.stopPropagation();e.preventDefault();return false;};},newSelection:function(e){return newSelection(Touch.cfilter(e));},cfilter:function(e){e.pageX=e.originalEvent.changedTouches[0].pageX;e.pageY=e.originalEvent.changedTouches[0].pageY;return e;},isSupported:hasTouchSupport,support:detectSupport()};}());var Coords=(function(){var x1=0,y1=0,x2=0,y2=0,ox,oy;function setPressed(pos)
{pos=rebound(pos);x2=x1=pos[0];y2=y1=pos[1];}
function setCurrent(pos)
{pos=rebound(pos);ox=pos[0]-x2;oy=pos[1]-y2;x2=pos[0];y2=pos[1];}
function getOffset()
{return[ox,oy];}
function moveOffset(offset)
{var ox=offset[0],oy=offset[1];if(0>x1+ox){ox-=ox+x1;}
if(0>y1+oy){oy-=oy+y1;}
if(boundy<y2+oy){oy+=boundy-(y2+oy);}
if(boundx<x2+ox){ox+=boundx-(x2+ox);}
x1+=ox;x2+=ox;y1+=oy;y2+=oy;}
function getCorner(ord)
{var c=getFixed();switch(ord){case'ne':return[c.x2,c.y];case'nw':return[c.x,c.y];case'se':return[c.x2,c.y2];case'sw':return[c.x,c.y2];}}
function getFixed()
{if(!options.aspectRatio){return getRect();}
var aspect=options.aspectRatio,min_x=options.minSize[0]/xscale,max_x=options.maxSize[0]/xscale,max_y=options.maxSize[1]/yscale,rw=x2-x1,rh=y2-y1,rwa=Math.abs(rw),rha=Math.abs(rh),real_ratio=rwa/rha,xx,yy,w,h;if(max_x===0){max_x=boundx*10;}
if(max_y===0){max_y=boundy*10;}
if(real_ratio<aspect){yy=y2;w=rha*aspect;xx=rw<0?x1-w:w+x1;if(xx<0){xx=0;h=Math.abs((xx-x1)/aspect);yy=rh<0?y1-h:h+y1;}else if(xx>boundx){xx=boundx;h=Math.abs((xx-x1)/aspect);yy=rh<0?y1-h:h+y1;}}else{xx=x2;h=rwa/aspect;yy=rh<0?y1-h:y1+h;if(yy<0){yy=0;w=Math.abs((yy-y1)*aspect);xx=rw<0?x1-w:w+x1;}else if(yy>boundy){yy=boundy;w=Math.abs(yy-y1)*aspect;xx=rw<0?x1-w:w+x1;}}
if(xx>x1){if(xx-x1<min_x){xx=x1+min_x;}else if(xx-x1>max_x){xx=x1+max_x;}
if(yy>y1){yy=y1+(xx-x1)/aspect;}else{yy=y1-(xx-x1)/aspect;}}else if(xx<x1){if(x1-xx<min_x){xx=x1-min_x;}else if(x1-xx>max_x){xx=x1-max_x;}
if(yy>y1){yy=y1+(x1-xx)/aspect;}else{yy=y1-(x1-xx)/aspect;}}
if(xx<0){x1-=xx;xx=0;}else if(xx>boundx){x1-=xx-boundx;xx=boundx;}
if(yy<0){y1-=yy;yy=0;}else if(yy>boundy){y1-=yy-boundy;yy=boundy;}
return makeObj(flipCoords(x1,y1,xx,yy));}
function rebound(p)
{if(p[0]<0)p[0]=0;if(p[1]<0)p[1]=0;if(p[0]>boundx)p[0]=boundx;if(p[1]>boundy)p[1]=boundy;return[Math.round(p[0]),Math.round(p[1])];}
function flipCoords(x1,y1,x2,y2)
{var xa=x1,xb=x2,ya=y1,yb=y2;if(x2<x1){xa=x2;xb=x1;}
if(y2<y1){ya=y2;yb=y1;}
return[xa,ya,xb,yb];}
function getRect()
{var xsize=x2-x1,ysize=y2-y1,delta;if(xlimit&&(Math.abs(xsize)>xlimit)){x2=(xsize>0)?(x1+xlimit):(x1-xlimit);}
if(ylimit&&(Math.abs(ysize)>ylimit)){y2=(ysize>0)?(y1+ylimit):(y1-ylimit);}
if(ymin/yscale&&(Math.abs(ysize)<ymin/yscale)){y2=(ysize>0)?(y1+ymin/yscale):(y1-ymin/yscale);}
if(xmin/xscale&&(Math.abs(xsize)<xmin/xscale)){x2=(xsize>0)?(x1+xmin/xscale):(x1-xmin/xscale);}
if(x1<0){x2-=x1;x1-=x1;}
if(y1<0){y2-=y1;y1-=y1;}
if(x2<0){x1-=x2;x2-=x2;}
if(y2<0){y1-=y2;y2-=y2;}
if(x2>boundx){delta=x2-boundx;x1-=delta;x2-=delta;}
if(y2>boundy){delta=y2-boundy;y1-=delta;y2-=delta;}
if(x1>boundx){delta=x1-boundy;y2-=delta;y1-=delta;}
if(y1>boundy){delta=y1-boundy;y2-=delta;y1-=delta;}
return makeObj(flipCoords(x1,y1,x2,y2));}
function makeObj(a)
{return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]};}
return{flipCoords:flipCoords,setPressed:setPressed,setCurrent:setCurrent,getOffset:getOffset,moveOffset:moveOffset,getCorner:getCorner,getFixed:getFixed};}());var Shade=(function(){var enabled=false,holder=$('<div />').css({position:'absolute',zIndex:240,opacity:0}),shades={top:createShade(),left:createShade().height(boundy),right:createShade().height(boundy),bottom:createShade()};function resizeShades(w,h){shades.left.css({height:px(h)});shades.right.css({height:px(h)});}
function updateAuto()
{return updateShade(Coords.getFixed());}
function updateShade(c)
{shades.top.css({left:px(c.x),width:px(c.w),height:px(c.y)});shades.bottom.css({top:px(c.y2),left:px(c.x),width:px(c.w),height:px(boundy-c.y2)});shades.right.css({left:px(c.x2),width:px(boundx-c.x2)});shades.left.css({width:px(c.x)});}
function createShade(){return $('<div />').css({position:'absolute',backgroundColor:options.shadeColor||options.bgColor}).appendTo(holder);}
function enableShade(){if(!enabled){enabled=true;holder.insertBefore($img);updateAuto();Selection.setBgOpacity(1,0,1);$img2.hide();setBgColor(options.shadeColor||options.bgColor,1);if(Selection.isAwake())
{setOpacity(options.bgOpacity,1);}
else setOpacity(1,1);}}
function setBgColor(color,now){colorChangeMacro(getShades(),color,now);}
function disableShade(){if(enabled){holder.remove();$img2.show();enabled=false;if(Selection.isAwake()){Selection.setBgOpacity(options.bgOpacity,1,1);}else{Selection.setBgOpacity(1,1,1);Selection.disableHandles();}
colorChangeMacro($div,0,1);}}
function setOpacity(opacity,now){if(enabled){if(options.bgFade&&!now){holder.animate({opacity:1-opacity},{queue:false,duration:options.fadeTime});}
else holder.css({opacity:1-opacity});}}
function refreshAll(){options.shade?enableShade():disableShade();if(Selection.isAwake())setOpacity(options.bgOpacity);}
function getShades(){return holder.children();}
return{update:updateAuto,updateRaw:updateShade,getShades:getShades,setBgColor:setBgColor,enable:enableShade,disable:disableShade,resize:resizeShades,refresh:refreshAll,opacity:setOpacity};}());var Selection=(function(){var awake,hdep=370,borders={},handle={},dragbar={},seehandles=false;function insertBorder(type)
{var jq=$('<div />').css({position:'absolute',opacity:options.borderOpacity}).addClass(cssClass(type));$img_holder.append(jq);return jq;}
function dragDiv(ord,zi)
{var jq=$('<div />').mousedown(createDragger(ord)).css({cursor:ord+'-resize',position:'absolute',zIndex:zi}).addClass('ord-'+ord);if(Touch.support){jq.bind('touchstart.jcrop',Touch.createDragger(ord));}
$hdl_holder.append(jq);return jq;}
function insertHandle(ord)
{var hs=options.handleSize,div=dragDiv(ord,hdep++).css({opacity:options.handleOpacity}).addClass(cssClass('handle'));if(hs){div.width(hs).height(hs);}
return div;}
function insertDragbar(ord)
{return dragDiv(ord,hdep++).addClass('jcrop-dragbar');}
function createDragbars(li)
{var i;for(i=0;i<li.length;i++){dragbar[li[i]]=insertDragbar(li[i]);}}
function createBorders(li)
{var cl,i;for(i=0;i<li.length;i++){switch(li[i]){case'n':cl='hline';break;case's':cl='hline bottom';break;case'e':cl='vline right';break;case'w':cl='vline';break;}
borders[li[i]]=insertBorder(cl);}}
function createHandles(li)
{var i;for(i=0;i<li.length;i++){handle[li[i]]=insertHandle(li[i]);}}
function moveto(x,y)
{if(!options.shade){$img2.css({top:px(-y),left:px(-x)});}
$sel.css({top:px(y),left:px(x)});}
function resize(w,h)
{$sel.width(Math.round(w)).height(Math.round(h));}
function refresh()
{var c=Coords.getFixed();Coords.setPressed([c.x,c.y]);Coords.setCurrent([c.x2,c.y2]);updateVisible();}
function updateVisible(select)
{if(awake){return update(select);}}
function update(select)
{var c=Coords.getFixed();resize(c.w,c.h);moveto(c.x,c.y);if(options.shade)Shade.updateRaw(c);awake||show();if(select){options.onSelect.call(api,unscale(c));}else{options.onChange.call(api,unscale(c));}}
function setBgOpacity(opacity,force,now)
{if(!awake&&!force)return;if(options.bgFade&&!now){$img.animate({opacity:opacity},{queue:false,duration:options.fadeTime});}else{$img.css('opacity',opacity);}}
function show()
{$sel.show();if(options.shade)Shade.opacity(bgopacity);else setBgOpacity(bgopacity,true);awake=true;}
function release()
{disableHandles();$sel.hide();if(options.shade)Shade.opacity(1);else setBgOpacity(1);awake=false;options.onRelease.call(api);}
function showHandles()
{if(seehandles){$hdl_holder.show();}}
function enableHandles()
{seehandles=true;if(options.allowResize){$hdl_holder.show();return true;}}
function disableHandles()
{seehandles=false;$hdl_holder.hide();}
function animMode(v)
{if(v){animating=true;disableHandles();}else{animating=false;enableHandles();}}
function done()
{animMode(false);refresh();}
if(options.dragEdges&&$.isArray(options.createDragbars))
createDragbars(options.createDragbars);if($.isArray(options.createHandles))
createHandles(options.createHandles);if(options.drawBorders&&$.isArray(options.createBorders))
createBorders(options.createBorders);$(document).bind('touchstart.jcrop-ios',function(e){if($(e.currentTarget).hasClass('jcrop-tracker'))e.stopPropagation();});var $track=newTracker().mousedown(createDragger('move')).css({cursor:'move',position:'absolute',zIndex:360});if(Touch.support){$track.bind('touchstart.jcrop',Touch.createDragger('move'));}
$img_holder.append($track);disableHandles();return{updateVisible:updateVisible,update:update,release:release,refresh:refresh,isAwake:function(){return awake;},setCursor:function(cursor){$track.css('cursor',cursor);},enableHandles:enableHandles,enableOnly:function(){seehandles=true;},showHandles:showHandles,disableHandles:disableHandles,animMode:animMode,setBgOpacity:setBgOpacity,done:done};}());var Tracker=(function(){var onMove=function(){},onDone=function(){},trackDoc=options.trackDocument;function toFront(touch)
{$trk.css({zIndex:450});if(touch)
$(document).bind('touchmove.jcrop',trackTouchMove).bind('touchend.jcrop',trackTouchEnd);else if(trackDoc)
$(document).bind('mousemove.jcrop',trackMove).bind('mouseup.jcrop',trackUp);}
function toBack()
{$trk.css({zIndex:290});$(document).unbind('.jcrop');}
function trackMove(e)
{onMove(mouseAbs(e));return false;}
function trackUp(e)
{e.preventDefault();e.stopPropagation();if(btndown){btndown=false;onDone(mouseAbs(e));if(Selection.isAwake()){options.onSelect.call(api,unscale(Coords.getFixed()));}
toBack();onMove=function(){};onDone=function(){};}
return false;}
function activateHandlers(move,done,touch)
{btndown=true;onMove=move;onDone=done;toFront(touch);return false;}
function trackTouchMove(e)
{onMove(mouseAbs(Touch.cfilter(e)));return false;}
function trackTouchEnd(e)
{return trackUp(Touch.cfilter(e));}
function setCursor(t)
{$trk.css('cursor',t);}
if(!trackDoc){$trk.mousemove(trackMove).mouseup(trackUp).mouseout(trackUp);}
$img.before($trk);return{activateHandlers:activateHandlers,setCursor:setCursor};}());var KeyManager=(function(){var $keymgr=$('<input type="radio" />').css({position:'fixed',left:'-120px',width:'12px'}).addClass('jcrop-keymgr'),$keywrap=$('<div />').css({position:'absolute',overflow:'hidden'}).append($keymgr);function watchKeys()
{if(options.keySupport){$keymgr.show();$keymgr.focus();}}
function onBlur(e)
{$keymgr.hide();}
function doNudge(e,x,y)
{if(options.allowMove){Coords.moveOffset([x,y]);Selection.updateVisible(true);}
e.preventDefault();e.stopPropagation();}
function parseKey(e)
{if(e.ctrlKey||e.metaKey){return true;}
shift_down=e.shiftKey?true:false;var nudge=shift_down?10:1;switch(e.keyCode){case 37:doNudge(e,-nudge,0);break;case 39:doNudge(e,nudge,0);break;case 38:doNudge(e,0,-nudge);break;case 40:doNudge(e,0,nudge);break;case 27:if(options.allowSelect)Selection.release();break;case 9:return true;}
return false;}
if(options.keySupport){$keymgr.keydown(parseKey).blur(onBlur);if(ie6mode||!options.fixedSupport){$keymgr.css({position:'absolute',left:'-20px'});$keywrap.append($keymgr).insertBefore($img);}else{$keymgr.insertBefore($img);}}
return{watchKeys:watchKeys};}());function setClass(cname)
{$div.removeClass().addClass(cssClass('holder')).addClass(cname);}
function animateTo(a,callback)
{var x1=a[0]/xscale,y1=a[1]/yscale,x2=a[2]/xscale,y2=a[3]/yscale;if(animating){return;}
var animto=Coords.flipCoords(x1,y1,x2,y2),c=Coords.getFixed(),initcr=[c.x,c.y,c.x2,c.y2],animat=initcr,interv=options.animationDelay,ix1=animto[0]-initcr[0],iy1=animto[1]-initcr[1],ix2=animto[2]-initcr[2],iy2=animto[3]-initcr[3],pcent=0,velocity=options.swingSpeed;x1=animat[0];y1=animat[1];x2=animat[2];y2=animat[3];Selection.animMode(true);var anim_timer;function queueAnimator(){window.setTimeout(animator,interv);}
var animator=(function(){return function(){pcent+=(100-pcent)/velocity;animat[0]=Math.round(x1+((pcent/100)*ix1));animat[1]=Math.round(y1+((pcent/100)*iy1));animat[2]=Math.round(x2+((pcent/100)*ix2));animat[3]=Math.round(y2+((pcent/100)*iy2));if(pcent>=99.8){pcent=100;}
if(pcent<100){setSelectRaw(animat);queueAnimator();}else{Selection.done();Selection.animMode(false);if(typeof(callback)==='function'){callback.call(api);}}};}());queueAnimator();}
function setSelect(rect)
{setSelectRaw([rect[0]/xscale,rect[1]/yscale,rect[2]/xscale,rect[3]/yscale]);options.onSelect.call(api,unscale(Coords.getFixed()));Selection.enableHandles();}
function setSelectRaw(l)
{Coords.setPressed([l[0],l[1]]);Coords.setCurrent([l[2],l[3]]);Selection.update();}
function tellSelect()
{return unscale(Coords.getFixed());}
function tellScaled()
{return Coords.getFixed();}
function setOptionsNew(opt)
{setOptions(opt);interfaceUpdate();}
function disableCrop()
{options.disabled=true;Selection.disableHandles();Selection.setCursor('default');Tracker.setCursor('default');}
function enableCrop()
{options.disabled=false;interfaceUpdate();}
function cancelCrop()
{Selection.done();Tracker.activateHandlers(null,null);}
function destroy()
{$div.remove();$origimg.show();$origimg.css('visibility','visible');$(obj).removeData('Jcrop');}
function setImage(src,callback)
{Selection.release();disableCrop();var img=new Image();img.onload=function(){var iw=img.width;var ih=img.height;var bw=options.boxWidth;var bh=options.boxHeight;$img.width(iw).height(ih);$img.attr('src',src);$img2.attr('src',src);presize($img,bw,bh);boundx=$img.width();boundy=$img.height();$img2.width(boundx).height(boundy);$trk.width(boundx+(bound*2)).height(boundy+(bound*2));$div.width(boundx).height(boundy);Shade.resize(boundx,boundy);enableCrop();if(typeof(callback)==='function'){callback.call(api);}};img.src=src;}
function colorChangeMacro($obj,color,now){var mycolor=color||options.bgColor;if(options.bgFade&&supportsColorFade()&&options.fadeTime&&!now){$obj.animate({backgroundColor:mycolor},{queue:false,duration:options.fadeTime});}else{$obj.css('backgroundColor',mycolor);}}
function interfaceUpdate(alt)
{if(options.allowResize){if(alt){Selection.enableOnly();}else{Selection.enableHandles();}}else{Selection.disableHandles();}
Tracker.setCursor(options.allowSelect?'crosshair':'default');Selection.setCursor(options.allowMove?'move':'default');if(options.hasOwnProperty('trueSize')){xscale=options.trueSize[0]/boundx;yscale=options.trueSize[1]/boundy;}
if(options.hasOwnProperty('setSelect')){setSelect(options.setSelect);Selection.done();delete(options.setSelect);}
Shade.refresh();if(options.bgColor!=bgcolor){colorChangeMacro(options.shade?Shade.getShades():$div,options.shade?(options.shadeColor||options.bgColor):options.bgColor);bgcolor=options.bgColor;}
if(bgopacity!=options.bgOpacity){bgopacity=options.bgOpacity;if(options.shade)Shade.refresh();else Selection.setBgOpacity(bgopacity);}
xlimit=options.maxSize[0]||0;ylimit=options.maxSize[1]||0;xmin=options.minSize[0]||0;ymin=options.minSize[1]||0;if(options.hasOwnProperty('outerImage')){$img.attr('src',options.outerImage);delete(options.outerImage);}
Selection.refresh();}
if(Touch.support)$trk.bind('touchstart.jcrop',Touch.newSelection);$hdl_holder.hide();interfaceUpdate(true);var api={setImage:setImage,animateTo:animateTo,setSelect:setSelect,setOptions:setOptionsNew,tellSelect:tellSelect,tellScaled:tellScaled,setClass:setClass,disable:disableCrop,enable:enableCrop,cancel:cancelCrop,release:Selection.release,destroy:destroy,focus:KeyManager.watchKeys,getBounds:function(){return[boundx*xscale,boundy*yscale];},getWidgetSize:function(){return[boundx,boundy];},getScaleFactor:function(){return[xscale,yscale];},getOptions:function(){return options;},ui:{holder:$div,selection:$sel}};if(is_msie)$div.bind('selectstart',function(){return false;});$origimg.data('Jcrop',api);return api;};$.fn.Jcrop=function(options,callback)
{var api;this.each(function(){if($(this).data('Jcrop')){if(options==='api')return $(this).data('Jcrop');else $(this).data('Jcrop').setOptions(options);}
else{if(this.tagName=='IMG')
$.Jcrop.Loader(this,function(){$(this).css({display:'block',visibility:'hidden'});api=$.Jcrop(this,options);if($.isFunction(callback))callback.call(api);});else{$(this).css({display:'block',visibility:'hidden'});api=$.Jcrop(this,options);if($.isFunction(callback))callback.call(api);}}});return this;};$.Jcrop.Loader=function(imgobj,success,error){var $img=$(imgobj),img=$img[0];function completeCheck(){if(img.complete){$img.unbind('.jcloader');if($.isFunction(success))success.call(img);}
else window.setTimeout(completeCheck,50);}
$img.bind('load.jcloader',completeCheck).bind('error.jcloader',function(e){$img.unbind('.jcloader');if($.isFunction(error))error.call(img);});if(img.complete&&$.isFunction(success)){$img.unbind('.jcloader');success.call(img);}};$.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:'jcrop',addClass:null,bgColor:'black',bgOpacity:0.6,bgFade:false,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:true,createHandles:['n','s','e','w','nw','ne','se','sw'],createDragbars:['n','s','e','w'],createBorders:['n','s','e','w'],drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}};}(jQuery));

var ImageUploadModern=function(options){this._init(options);};ImageUploadModern.resizers={};(function($){$.extend(ImageUploadModern.prototype,{options:{inputElem:null,activateElem:null,previewElem:null,cropParams:[],aspectRatio:null,forceSelection:false,fileObj:null,fileId:null,csrf_token:'no-token',errorTime:4000,additionalParams:{},},popupObj:null,popup:null,popupContent:null,errorNode:null,preloaderContent:null,urlUpload:'/v2/file/upload-image',urlCopyStock:'/v2/file/copy-stock-image',urlCopyUser:'/v2/file/copy-user-image',urlCropImage:'/v2/file/crop-user-image',urlConfirmTempImage:'/v2/file/confirm-temp-image',popupIsShowed:false,currentImgSrc:null,currentImgBounds:null,stockCategories:null,_imageErrorTimeout:null,inputs:[],imageListTabs:[],_init:function(opts){this.options=$.extend({},this.options);this.inputs=[];if(opts){$.extend(this.options,opts);}},onError:function(error){var _this=this;if(typeof this.options.onError=='function'){this.options.onError(this.gettext(error));}else{clearTimeout(this._imageErrorTimeout)
this.errorNode.text(this.gettext('Error')+': '+this.gettext(error));this._imageErrorTimeout=setTimeout(function(){_this.errorNode.text('');},this.options.errorTime);}
return false;},gettext:function(text){return Locale.get(text||'');},handlerSuccess:function(succ){},setUploadObj:function(inputElem,activatePopupElem,previewBlockElem,needPreload){var _this=this;var resizerKey=inputElem+activatePopupElem+previewBlockElem;if(ImageUploadModern.resizers[resizerKey]){return;}
ImageUploadModern.resizers[resizerKey]=true;if(!inputElem||!activatePopupElem){return this.onError("Not specified input or activate elements");}
var inputId=$(inputElem).attr('id');if(inputId===undefined){inputId='uploader-image-input-'+Math.random()%10+1000;$(inputElem).attr('id',inputId);}
this.inputId=inputId;this.options['needPreload']=needPreload?true:false;this.options['inputElem']='#'+inputId;this.options['inputElemSelector']=inputElem;this.options['activateElem']=activatePopupElem;jQuery(this.options['inputElem'])
if(previewBlockElem){this.options['previewElem']=previewBlockElem;}else{this.options['previewElem']=null;}
$(document).on('click',this.options['activateElem'],function(){if(!_this.popupIsShowed){_this.showPopup();return false;}});$(document).on('drag dragstart dragend dragover dragenter dragleave drop','.drop-zone-'+inputId,function(e){e.preventDefault();e.stopPropagation();}).on('dragover dragenter','.drop-zone-'+inputId,function(){jQuery('.drop-zone-'+inputId).addClass('is-dragover');}).on('dragleave dragend drop','.drop-zone-'+inputId,function(){jQuery('.drop-zone-'+inputId).removeClass('is-dragover');}).on('drop','.drop-zone-'+inputId,function(e){var fileobj=e.originalEvent.dataTransfer.files;_this._filePreload(fileobj);console.log(fileobj);return false;});$(document).on('change',this.options['inputElemSelector'],function(){var input=this;if(needPreload){var inputElem=$(this);_this._filePreload(inputElem.prop('files'));}else if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){_this._removeInputFromForm('copy_image_type');_this._removeInputFromForm('copy_image_id');_this._showEditor(e.target.result);};reader.readAsDataURL(input.files[0]);}
return false;});this._getAllList(function(lists){_this._getUserPhoto(lists['lastPhoto']);_this._getStockPhoto(lists['stockPhotos']);});},_filePreload:function(files){if(files&&files[0]&&parseInt(files[0].size)>parseInt(ImageUploadModern.imagesData['uploadFileMaxSize'])){return this.onError("Image size is too large");}else if(files&&files[0]){var ext=files[0].name.split('.').pop().toLowerCase();if(['gif','png','jpeg','jpg'].indexOf(ext)!==-1){this.options['fileObj']=files[0];this.uploadImage();return true;}}
return this.onError("This file is not image.");},setFileId:function(fileId){this.options['prewFileId']=fileId;this.options['fileId']=fileId;},uploadImage:function(){var _this=this;if(typeof this.options['fileObj']=='object'&&this.options['fileObj']!=null){var form_data=new FormData();form_data.append('fileId',this.options['fileId']);form_data.append('file',this.options['fileObj']);form_data.append('_csrf_token',this.options['csrf_token']);_this.showPreloader();if(this.options.additionalParams){$.each(this.options.additionalParams,function(key,val){form_data.append(key,val);});}
$.ajax({url:this.urlUpload,dataType:'json',cache:false,contentType:false,processData:false,data:form_data,type:'post',success:function(response){_this._triggerImagesChanged(response);if(response&&response.fileId){var keys=Object.keys(response);for(var i=0;i<keys.length;i++){_this.options[keys[i]]=response[keys[i]];}
_this._selectCustomImage('uploaded',response.fileId,response.filePath,function(){_this.hidePreloader();_this._showEditor();});$(document).find(_this.options['inputElem']).val('');}else{_this.hidePreloader();return _this.onError("Image input missing or network error.");}},error:function(){_this.hidePreloader();return _this.onError("Image input missing or network error.");}});}else{return this.onError("Image input missing.");}},success:function(handler){this.handlerSuccess=handler;return this;},_triggerImagesChanged:function(resp){jQuery(this).trigger('imageChanged',[resp]);},getCurrentPreviewImage:function(){if(this.options['previewElem']!=null){var img=$(this.options['previewElem']).find('img');var imgSrc=img.attr('src');if(imgSrc&&imgSrc.length>4&&String(imgSrc).indexOf('placeholder')==-1){return imgSrc;}}
return false;},showPopup:function(){var _this=this;this.popupIsShowed=true;this.popup=$('<div class="uploader-popup"><div class="uploader-header"></div> </div>');this.popupContent=$('<div class="uploader-content"></div>');this.errorNode=$('<div class="error-container"></div>');this.popup.find('.uploader-header').append(this.errorNode);this.popup.append(this.popupContent);this.popupObj=new DialogConfirm({'title':this.gettext("Select image"),'body':this.popup,'cancel_btn':this.gettext('Back'),'ok_btn':this.gettext('OK'),'ok_class':'confirm-upload btn-primary','dialog_class':'image-upload-modal','success_callback':function(){_this._onSave();},'cancel_callback':function(){if(_this.currentImgSrc!=null){_this._showSelectFile();_this.currentImgSrc=null;return false;}else{_this.closePopup();}}});$(this.popupObj.dom).bind('hide.bs.modal',function(){_this.popupIsShowed=false;});$(this.popupObj.dom).on('click','.uploader-last-image',function(){var imgSrc=_this.getCurrentPreviewImage();if(imgSrc){_this.options['fileId']=_this.options['prewFileId'];imgSrc=imgSrc.replace('/small/','/original/');imgSrc=imgSrc.replace('/preview/','/original/');_this._showEditor(imgSrc);}});$(this.popupObj.dom).on('click','.image-list-tab .image-item',function(e){if(this!==e.target){return;}
var imgType=$(this).attr('data-type');var imgId=parseInt($(this).attr('data-id'));var imgSrc=$(this).find('.image-show').attr('href');_this.showPreloader();_this._selectCustomImage(imgType,imgId,imgSrc,function(){_this.hidePreloader();_this._showEditor();});});this.popupObj.show();this._showSelectFile();},closePopup:function(){this.popupObj.hide();this.popupIsShowed=false;},getPreviewByUrl:function(imgSrc){return imgSrc.replace('/original/','/preview/');},_showSelectFile:function(){var _this=this;var img=this.getCurrentPreviewImage();var htmlBlock=$('<div class="uploader select-file">'+'<div class="nav nav-tabs custom-tabs mb-3" role="tablist">'+'<a class="nav-link active show" id="nav-user-img-tab" data-toggle="tab" href="#nav-user-img" aria-controls="nav-user-img" aria-selected="true">'+'<i class="fas fa-file-upload mr-2"></i>'+this.gettext('Upload image')+'</a>'+'<a class="nav-link" id="nav-stock-img-tab" data-toggle="tab" href="#nav-stock-img" aria-controls="nav-stock-img" aria-selected="false">'+'<i class="fas fa-images mr-2"></i>'+this.gettext('Stock photo')+'</a>'+'</div>'+'<div class="tab-content">'+'<div class="tab-pane show active" id="nav-user-img" role="tabpanel" aria-labelledby="nav-user-img-tab">'+'<div class="title-small">'+this.gettext('Upload image')+'</div>'+'<p>'+this.gettext('Please select a new photo format JPG, GIF, PNG  or select an existing photo.')+'</p>'+'<div class="drop-file-zone d-flex flex-wrap align-items-center flex-column my-4 drag-n-drop '+'drop-zone-'+this.inputId+'" >'+'<div class="text-center my-2">'+
(img?'<img src="'+img+'" class="uploader-last-image">':'<img src="/v2/images/admin/upload.svg" alt="Upload image" class="upload-new">'+'<p class="drop-or">'+this.gettext('Drag-and-drop')+'<br>'+this.gettext("or")+'</p>')+'</div>'+'<div class="text-center my-2">'+'<label class="btn btn-primary" for="'+this.options['inputElem'].substring(1,this.options['inputElem'].length)+'">'+this.gettext('Select photo')+'</label> '+'</div>'+'</div>'+'<p class="hint-border">'+this.gettext('If you have any problems with your upload, try using a smaller picture.')+'</p>'+'</div>'+'<div class="tab-pane" id="nav-stock-img" role="tabpanel" aria-labelledby="nav-stock-img-tab">'+'</div>'+'</div>'+'</div>');var imageListTypes=Object.keys(this.imageListTabs);imageListTypes.sort(function(a,b){return _this.imageListTabs[a].order-_this.imageListTabs[b].order;});var $photoTabContentLastUsed=this._getPhotoTabContent('last_used');var $photoTabContentStock=this._getPhotoTabContent('stock');htmlBlock.find("#nav-user-img").append($photoTabContentLastUsed);htmlBlock.find("#nav-stock-img").append($photoTabContentStock);this.popupContent.html(htmlBlock);},_getPhotoTabContent:function(listType){var imageListInfo=this.imageListTabs[listType];var $node=jQuery('<div/>');var imageListCategories=this.getTabCategories(listType);var imageListNode=[];if(!imageListInfo){return $node;}
if(imageListCategories.length>1){var tabsTitleNode=$('<div class="title-small">'+imageListInfo['name']+'</div>');var tabsNavNode=$('<ul id="tabs" class="nav nav-pills mb-2" data-tabs="tabs">'+'</ul>');var tabsContentNode=$('<div id="my-tab-content" class="tab-content">'+'</div>');for(var k=0;k<imageListCategories.length;k++){tabsNavNode.append('<li class="nav-item"><a class="nav-link '+(k==0?'active':'')+'" href="#category_'+k+'" data-toggle="tab">'+imageListCategories[k]+'</a></li>');imageListNode[k]=$('<div class="tab-pane '+(k==0?'active':'')+'" id="category_'+k+'">'+'<div class="image-list-tab tab-'+listType+'">'+'<div class="tab-images"></div>'+'</div> '+'</div> ');tabsContentNode.append(imageListNode[k]);}
$node.append(tabsTitleNode).append(tabsNavNode).append(tabsContentNode);}else{imageListNode[0]=$('<div class="image-list-tab tab-'+listType+'">'+'<div class="title-small">'+imageListInfo['name']+'</div>'+'<div class="tab-images"></div>'+'</div> ');$node.append(imageListNode);}
var imageListImages=imageListInfo['fileList'];for(var k=0;k<imageListImages.length;k++){var pos=0;if(imageListCategories.length>1){pos=$.inArray(imageListImages[k].category,imageListCategories);}
var imageListBlockNode=imageListNode[pos].find('.tab-images');var pname=(imageListImages[k].name?imageListImages[k].name:'')+' '+(imageListImages[k].description?imageListImages[k].description:'');imageListBlockNode.append('<div class="image-item" data-type="'+listType+'" data-id="'+imageListImages[k].id+'" style="background-image: url('+imageListImages[k].path+'/preview/'+imageListImages[k].filename+')">'+'<a href="'+imageListImages[k].path+'/original/'+imageListImages[k].filename+'" data-lightbox="'+listType+pos+'"  data-title="'+pname+'" class="image-show"><span class="fa fa-search"></span></a>'+'</div>');}
return $node;},addImageListTab:function(name,type,fileList){var _this=this;if(name&&type){if(!fileList||!Array.isArray(fileList)){fileList=[];}
this.imageListTabs[type]={name:name,fileList:fileList,order:Object.keys(_this.imageListTabs).length};}},addImageToTab:function(tabType,name,description,imageName,path,id,category){if(!category){category='default';}
if(this.imageListTabs[tabType]){this.imageListTabs[tabType].fileList.push({name:this.gettext(name),description:this.gettext(description),filename:imageName,path:path,id:id,category:this.gettext(category)});}},getTabCategories:function(tabType){if(this.imageListTabs[tabType]){var imgList=this.imageListTabs[tabType].fileList;var categories=[];for(var i=0;i<imgList.length;i++){if($.inArray(imgList[i].category,categories)==-1){categories.push(imgList[i].category);}}
return categories;}else{return[];}},_showEditor:function(imgSrc){if(!imgSrc){imgSrc=this.currentImgSrc;}else{this.currentImgSrc=imgSrc;}
var resetCache='';if(imgSrc.substring(0,10)!=='data:image'){resetCache='?rr='+Math.floor((Math.random()*10000)+1);}
var _this=this;var htmlBlock=$('<div class="uploader crop-file">'+'<div class="uploader-crop-block">'+'<img src="" alt="crop image" />'+'<div class="crop-file__hint-text">'+Locale.get("Click the image to crop")+'</div>'+'</div>'+'</div>');var $img=htmlBlock.find('.uploader-crop-block img');$img.attr('src',imgSrc+resetCache);var jcrop_api;var initCrop=function(){htmlBlock.find('.uploader-crop-block img').Jcrop({onChange:function(c){_this._onCropChanged(c,$img);},onSelect:function(c){_this._onCropChanged(c,$img);},onRelease:function(c){_this._onCropChanged(c,$img);},boxWidth:570,boxHeight:400,aspectRatio:_this.options['aspectRatio']},function(){if(_this.options['forceSelection']){this.setSelect([0,0,570,400]);}
jcrop_api=this;_this.currentImgBounds=this.getBounds();});};initCrop();this.popupContent.html(htmlBlock);},_onCropChanged:function(cropParams,$img){if(!cropParams)return;var scaledWidth=$img.width();var scaledHeight=$img.height();var img=$img.get(0);var naturalWidth=img.naturalWidth;var naturalHeight=img.naturalHeight;if(naturalWidth&&naturalHeight){var kx=naturalWidth/scaledWidth;var ky=naturalHeight/scaledHeight;var x=Math.min(cropParams.x*kx,cropParams.x2*kx);var y=Math.min(cropParams.y*ky,cropParams.y2*ky);var w=cropParams.w*kx;var h=cropParams.h*ky;if(this.options['aspectRatio']){w=h*this.options['aspectRatio'];}
var x2=x+w;var y2=y+h;cropParams={x:x,y:y,x2:x2,y2:y2,w:w,h:h};}
this.options['cropParams']=cropParams;},_onSave:function(){var _this=this;if(!isNaN(this.options['cropParams']['x'])&&!isNaN(this.options['cropParams']['w'])){if(this.options['needPreload']){var params=$.param($.extend(this.options['cropParams'],{fileId:this.options['fileId'],_csrf_token:this.options['csrf_token']}));$.getJSON(this.urlCropImage+'?'+params,function(resp){_this.currentImgSrc=resp.filePathPreview+'?ch='+Math.floor((Math.random()*10000)+1);_this.options['cropParams']={};_this._triggerImagesChanged(resp);_this._confirmTempFile(function(){_this._showPreview();_this.closePopup();});});return;}else{this._addInputToForm('crop_x',Math.round(this.options['cropParams']['x']));this._addInputToForm('crop_y',Math.round(this.options['cropParams']['y']));this._addInputToForm('crop_w',Math.round(this.options['cropParams']['w']));this._addInputToForm('crop_h',Math.round(this.options['cropParams']['h']));}}
this._confirmTempFile(function(){_this._showPreview();_this.closePopup();});},_confirmTempFile:function(handler){var _this=this;if(this.options['is_temporary']&&parseInt(this.options['is_temporary'])){var params=$.param({fileId:this.options['fileId'],replaceFileId:this.options['replace_file_id'],_csrf_token:this.options['csrf_token']});$.getJSON(this.urlConfirmTempImage+'?'+params,function(resp){if(resp){_this._triggerImagesChanged(resp);}
if(handler){handler();}});}else{if(handler){handler();}}},_selectCustomImage:function(type,id,src,callback){var _this=this;if(this.options['needPreload']&&type==='stock'){var urlCopyStock=this.urlCopyStock+'/stockFileId/'+id+'/fileId/'+this.options['fileId']+'?'+$.param($.extend({'_csrf_token':this.options['csrf_token']},this.options.additionalParams?this.options.additionalParams:{}));$.getJSON(urlCopyStock,function(resp){_this._triggerImagesChanged(resp);if(resp.fileId){_this.options=jQuery.extend(_this.options,resp);_this._setSelectedImage('last_used',resp.fileId,resp.filePath);if(typeof callback=='function'){callback();}}});}else
if(this.options['needPreload']&&type==='last_used'){var urlCopyUser=this.urlCopyUser+'/userFileId/'+id+'/fileId/'+this.options['fileId']+'?'+$.param($.extend({'_csrf_token':this.options['csrf_token']},this.options.additionalParams?this.options.additionalParams:{}));$.getJSON(urlCopyUser,function(resp){_this._triggerImagesChanged(resp);if(resp.fileId){_this.options=jQuery.extend(_this.options,resp);_this._setSelectedImage('last_used',resp.fileId,resp.filePath);if(typeof callback=='function'){callback();}}});}else
if(type=='uploaded'){this._setSelectedImage('last_used',id,src);if(typeof callback=='function'){callback();}}else{this._setSelectedImage(type,id,src);if(typeof callback=='function'){callback();}}},_setSelectedImage:function(type,id,src){this.options['fileId']=id;var imgSrc=src.replace('/small/','/original/');imgSrc=imgSrc.replace('/preview/','/original/');this.currentImgSrc=imgSrc;this._addInputToForm('copy_image_type',type);this._addInputToForm('copy_image_id',id);this.handlerSuccess({fileType:type,fileId:id,filePath:src});},_addInputToForm:function(name,value,withSubname){var form=$(this.options['inputElem']).closest('form');if(form.length==0){form=$(this.options['inputElem']).parent();}
if(typeof withSubname=='undefined'&&!this.options['needPreload']){withSubname=true;}
if(this.inputs[name]&&(form.find(this.inputs[name])).length>0){this.inputs[name].val(value);}else{var inputName=name+(withSubname?'_'+$(this.options['inputElem']).attr('name'):'');this.inputs[name]=$('<input type="hidden" name="'+inputName+'" value="'+value+'" />');form.append(this.inputs[name]);}},_removeInputFromForm:function(name){var form=$(this.options['inputElem']).closest('form');if(form.length==0){form=$(this.options['inputElem']).parent();}
if(this.inputs[name]&&(form.find(this.inputs[name])).length>0){this.inputs[name].remove();delete this.inputs[name];}},_getPreviewBlockSize:function(parentW,parentH,reverse){var previewSizeH,previewSizeW;var new_ration=this.options['cropParams']['w']/this.options['cropParams']['h'];var condition=reverse?new_ration<1:new_ration>1;if(condition){previewSizeW=parentW;previewSizeH=previewSizeW/new_ration;}else{previewSizeW=new_ration*parentH;previewSizeH=parentH;}
if((previewSizeW>parentW||previewSizeH>parentH)&&!reverse){return this._getPreviewBlockSize(parentW,parentH,true);}else{return[previewSizeW,previewSizeH];}},_showPreview:function(){if(this.options['previewElem']!=null){var imgSrc=this.currentImgSrc;var preview=$(this.options['previewElem']);if(preview.find('img').length>0){var img=preview.find('img').clone();preview.find('img').remove();}else{var img=$('<img src="" alt="" />');}
var parrentW=preview.innerWidth();var parrentH=preview.innerHeight();var boundX=0;var boundY=0;if(this.currentImgBounds){boundX=this.currentImgBounds[0];boundY=this.currentImgBounds[1];}
var cropParam=this.options['cropParams'];var previewSizeBlock=$('<span class="uploader-preview"></span>');preview.html(previewSizeBlock.append(img));if(parseInt(cropParam.w)>0){var previewBounds=this._getPreviewBlockSize(parrentW,parrentH);var previewSizeH=previewBounds[1],previewSizeW=previewBounds[0];var rx=previewSizeW/cropParam.w;var ry=previewSizeH/cropParam.h;preview.css({overflow:'hidden',width:Math.round(parrentW),height:Math.round(parrentH)});previewSizeBlock.css({display:'block',overflow:'hidden',width:Math.round(previewSizeW),height:Math.round(previewSizeH)});img.css({width:Math.round(rx*boundX)+'px',maxWidth:Math.round(rx*boundX)+'px',height:Math.round(ry*boundY)+'px',maxHeight:Math.round(ry*boundY)+'px',marginLeft:'-'+Math.round(rx*cropParam.x)+'px',marginTop:'-'+Math.round(ry*cropParam.y)+'px'});}else{imgSrc=this.getPreviewByUrl(imgSrc);}
if(imgSrc.substring(0,10)!=='data:image'){imgSrc+='?rr='+Math.floor(Math.random()*10000);}
img.attr('src',imgSrc);}},_getAllList:function(handler){var _this=this;if(typeof ImageUploadModern.imagesData!='object'){ImageUploadModern.imagesData={};$.get('/v2/user/get-all-resizer-list',function(res){ImageUploadModern.imagesData=res;handler(res);$(document).trigger('imageUploaderImagesReady')},"json");}else{if(Object.keys(ImageUploadModern.imagesData).length>0){handler(ImageUploadModern.imagesData);}else{$(document).one('imageUploaderImagesReady',function(){handler(ImageUploadModern.imagesData);});}}},_getUserPhoto:function(res){var _this=this;if(Array.isArray(res)&&res.length>0){_this.addImageListTab(_this.gettext('Last photo'),'last_used');for(var i=0;i<res.length;i++){_this.addImageToTab('last_used','','',res[i].name,res[i].fullpath,res[i].id);}}},_getStockPhoto:function(res){var _this=this;this._getStockCategories(function(categories){if(Array.isArray(res)&&res.length>0){_this.addImageListTab(_this.gettext('Stock photo'),'stock');for(var i=0;i<res.length;i++){var category=_this._getStockCategoryById(res[i].category);if(Array.isArray(category)){for(var j=0;j<category.length;j++){_this.addImageToTab('stock',res[i].name,res[i].description,res[i].filename,res[i].path,res[i].file_id,category[j]?category[j].name:'default');}}else{_this.addImageToTab('stock',res[i].name,res[i].description,res[i].filename,res[i].path,res[i].file_id,category?category.name:'default');}}}});},_getStockCategories:function(handler){var _this=this;_this.stockCategories=ImageUploadModern.imagesData['stockCategories'];handler(_this.stockCategories);},_getStockCategoryById:function(id){id=id.split(',');if(id.length==1){id=id[0];}else if(id.length>1){var res=[];for(var j=0;j<id.length;j++){res.push(this._getStockCategoryById(id[j]));}
return res;}
if(Array.isArray(this.stockCategories)){for(var i=0;i<this.stockCategories.length;i++){if(this.stockCategories[i].id==id){return this.stockCategories[i];}}}
return false;},showPreloader:function(){if(!this.preloaderContent){this.preloaderContent=$('<div class="preloader-overlay"></div>'+'<div class="preloader-block"></div>');this.popupContent.append(this.preloaderContent);}
this.preloaderContent.show();},hidePreloader:function(){this.preloaderContent.hide();}});})(jQuery);

var UiPreloader=function(options){this.init(options);};jQuery.extend(UiPreloader.prototype,CommonOptions.prototype,{loaderNode:null,init:function(options){this.setOptions(options);var $parent=jQuery('BODY');if(this.getParam('parent')){$parent=jQuery(this.getParam('parent'));}
this.loaderNode=$parent.find('#preloader-overlay');if(!this.loaderNode.length){this.loaderNode=jQuery('<div id="preloader-overlay">'+'<div id="preloader"></div>'+'</div>');$parent.append(this.loaderNode);}},show:function(){this.loaderNode.fadeIn();},hide:function(){this.loaderNode.fadeOut();}});

(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}
function decode(s){return config.raw?s:decodeURIComponent(s);}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}
var config=$.cookie=function(key,value,options){if(arguments.length>1&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setMilliseconds(t.getMilliseconds()+days*864e+5);}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var result=key?undefined:{},cookies=document.cookie?document.cookie.split('; '):[],i=0,l=cookies.length;for(;i<l;i++){var parts=cookies[i].split('='),name=decode(parts.shift()),cookie=parts.join('=');if(key===name){result=read(cookie,value);break;}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}
return result;};config.defaults={};$.removeCookie=function(key,options){$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));

var BrowserPushNotificationAdminInterface=function(options){this.init(options);};jQuery.extend(BrowserPushNotificationAdminInterface.prototype,{ui:{barIconNode:'#header_push_notification_bar',barIconFaNode:'#header_push_notification_bar .fa',barIconBadgeNode:'#header_push_notification_bar .badge',subscribeToPushButton:'.subscribe-to-push-notify'},options:{is_disabled:false,register_subscription_url:'/v2/push-notifications/register-push',unregister_subscription_url:'/v2/push-notifications/unregister-push',content_policy_nonce:'',},pushNotifyObj:null,init:function(opts){var instance=this;jQuery.extend(this.options,opts);if(!this.options.is_disabled&&window.location.protocol=='https:'){this.initPushNotifyObj(function(){instance.initUI();instance.initDom();instance.initEvents();});}},initDom:function(){this.ui.barIconNode.show();this.ui.subscribeToPushButton.show();},initEvents:function(){var instance=this;instance.updateBarIconStatus(function(status){var currToken='';instance.ui.barIconNode.on('click',function(){if(!status){instance.pushNotifyObj.initPush(function(isSubscribed,token,isBlocked){instance.updateBarIconStatus();if(isSubscribed){instance._updateSubscriptionOnServer(token);status=true;}
if(isBlocked){var a=new Dialog({'width':640,'title':Locale.get('web_push_disabled_popup_title'),'body':Locale.get('web_push_disabled_popup_body'),'callback':function(){a.hide();}});a.show();}});}else{var dialog=new DialogConfirm({'width':700,'title':Locale.get('web_push_unsubscribe_popup_title'),'body':Locale.get('web_push_unsubscribe_popup_body'),'success_callback':function(){instance._updateSubscriptionOnServer(instance.options.token,true);instance.pushNotifyObj.unsubscribe(function(){instance.updateBarIconStatus();status=false;});}});dialog.show();}});instance.ui.subscribeToPushButton.on('click',function(){if(!status){instance.pushNotifyObj.initPush(function(isSubscribed,token,isBlocked){instance.updateBarIconStatus();if(isSubscribed){instance.ui.subscribeToPushButton.hide();instance._updateSubscriptionOnServer(token);status=true;}
if(isBlocked){var a=new Dialog({'width':640,'title':Locale.get('web_push_disabled_popup_title'),'body':Locale.get('web_push_disabled_popup_body'),'callback':function(){a.hide();}});a.show();}});}else{instance.ui.subscribeToPushButton.hide();}});});},initPushNotifyObj:function(callback){var instance=this;this.pushNotifyObj=new BrowserPushNotification({content_policy_nonce:instance.options.content_policy_nonce,},function(obj){callback();});},initUI:function(){var uiKeys=Object.keys(this.ui);for(var i=0;i<uiKeys.length;i++){var key=uiKeys[i];this.ui[key]=jQuery(this.ui[key]);}},updateBarIconStatus:function(callback){var instance=this;this.pushNotifyObj.isSubscribed(function(pushStatus,token){instance.options.token=token;instance.ui.barIconBadgeNode.show().text(!pushStatus?Locale.get('off_short'):Locale.get('on_short'));instance.ui.barIconBadgeNode.removeClass('bg-warning bg-success').addClass(pushStatus?'bg-success':'bg-warning');if(typeof callback=='function'){callback(pushStatus);}});},_updateSubscriptionOnServer:function(token,remove){jQuery.ajax(remove?this.options.unregister_subscription_url:this.options.register_subscription_url,{data:token,type:'POST',},function(){});},});jQuery(document).ready(function(){if(typeof Notification!='undefined'){(function(){var params={};if(window.Config&&window.Config.getParam){params['content_policy_nonce']=Config.getParam('content_policy_nonce');}}());}});

var BrowserPushNotification=function(options,ready){this.init(options,ready);};jQuery.extend(BrowserPushNotification.prototype,{firebaseConfig:{apiKey:"AIzaSyAfGAMtxQudKojuVl4znhKrqLlQSiEV80M",authDomain:"simplybook-web-push.firebaseapp.com",databaseURL:"https://simplybook-web-push.firebaseio.com",storageBucket:"simplybook-web-push.appspot.com",messagingSenderId:"1031836595876"},options:{is_user_public:false,worker_path:'/v2/js/push-notifications/sw.js?rr=1',worker_version:2,register_worker:true,tokens:[],content_policy_nonce:'',},messaging:null,config:null,token:null,worker:{isRegistered:false},init:function(opts,ready){var _this=this;this.options=jQuery.extend(this.options,opts);if(window.web_tokens){this.options.tokens=jQuery.merge(this.options.tokens,window.web_tokens);}
if(typeof isUserPublic!='undefined'){this.options.is_user_public=isUserPublic;}
this.loadJsFile('https://www.gstatic.com/firebasejs/3.6.1/firebase-app.js',function(){_this.loadJsFile('https://www.gstatic.com/firebasejs/3.6.1/firebase-messaging.js',function(){firebase.initializeApp(_this.firebaseConfig);_this.messaging=firebase.messaging();if(typeof ready=='function'){ready();}
if(_this.options.register_worker){_this.checkWorkerVersion();}});});},loadJsFile:function(url,callback){var script=document.createElement('script');script.onload=function(){if(callback){callback();}};script.src=url;if(this.options.content_policy_nonce){script.nonce=this.options.content_policy_nonce;}
document.head.appendChild(script);},initEvents:function(){},initPush:function(callback){var _this=this;if(_this.messaging){this._subscribe(function(isSubscribed,isBlocked){if(isSubscribed){_this._getToken(function(token){_this.token=token;_this.options.tokens.push(token);if(typeof callback=='function'){callback(true,token);}});}else{if(typeof callback=='function'){callback(false,null,isBlocked);}}});}},_subscribe:function(callback){var _this=this;_this.isSubscribed(function(pushStatus){if(pushStatus){callback(true);}else{_this.messaging.requestPermission().then(function(){callback(true);}).catch(function(err){console.log('Unable to get permission to notify.',err);callback(false,true);});}});},_getToken:function(callback){var _this=this;this.registerWorker(function(workerReg){if(!_this.options.isWorkerRegistered){_this.messaging.useServiceWorker(workerReg);_this.options.isWorkerRegistered=true;}
if(_this.token){if(typeof callback=='function'){callback(_this.token);}}else{_this.messaging.getToken().then(function(currentToken){if(currentToken){_this.token=currentToken;if(typeof callback=='function'){callback(currentToken);}}else{console.log('No _this ID token available. Request permission to generate one.');}}).catch(function(err){console.log('An error occurred while retrieving token. ',err);});}});},checkWorkerVersion:function(){var _this=this;if('localStorage'in window){var serviceWorkerVersion=localStorage.getItem('serviceWorkerVersion');if(!serviceWorkerVersion||parseInt(this.options.worker_version)!==parseInt(serviceWorkerVersion)){console.log('Update service worker');this.registerWorker(function(registration){registration.update();});localStorage.setItem('serviceWorkerVersion',this.options.worker_version);}}},isWorkerRegistered:function(callback){if('serviceWorker'in navigator){navigator.serviceWorker.getRegistrations().then(function(registrations){if(registrations&&registrations.length){callback(registrations[0]);}});}},registerWorker:function(callback){var _this=this;if(this.options.register_worker){if('serviceWorker'in navigator&&'PushManager'in window){navigator.serviceWorker.getRegistration(this.options.worker_path).then(function(registration){if(registration){_this.swRegistration=registration;registration.update();callback(registration);}else{navigator.serviceWorker.register(_this.options.worker_path).then(function(swReg){_this.swRegistration=swReg;callback(swReg);}).catch(function(error){console.error('Service Worker Error',error);});}});}else{console.warn('Push messaging is not supported');}}else{this.isWorkerRegistered(function(registration){_this.swRegistration=registration;callback(registration);});}},unsubscribe:function(callback){var _this=this;_this.options.tokens=[];callback();},isSubscribed:function(callback){var _this=this;var pushStatus=Notification.permission=="granted";if(pushStatus){this._getToken(function(token){_this.token=token;var isSubscribed=_this.options.tokens.indexOf(token)!=-1;if(isSubscribed){callback(true,token);}else{callback(false);}});}else{callback(false);}}});

var BrowserTelegramNotificationAdminInterface=function(options){this.init(options);};jQuery.extend(BrowserTelegramNotificationAdminInterface.prototype,CommonOptions.prototype,{statusApiUrl:'/v2/push-notifications/get-telegram-status',generateCodeApiUrl:'/v2/push-notifications/get-telegram-code-info',ui:{barIconNode:'#header_telegram_notification_bar',barIconFaNode:'#header_telegram_notification_bar .fa',barIconBadgeNode:'#header_telegram_notification_bar .badge',subscribeToPushButton:'.subscribe-to-push-notify'},options:{content_policy_nonce:'',csrf_token:'',is_user_subscribed:null,},pushNotifyObj:null,init:function(opts){var _this=this;this.setOptions(opts);this.initPushNotifyObj(function(){_this.initUI();_this.initDom();});},initDom:function(){var _this=this;this.ui.barIconNode.show();this.ui.subscribeToPushButton.show();this.updateBarIconStatus(function(status){_this.initEvents(status);});},initEvents:function(status){var _this=this;_this.ui.barIconNode.on('click',function(){var tgForm=new TelegramNotificationsForm({});tgForm.showForm();});},initPushNotifyObj:function(callback){var _this=this;callback();},initUI:function(){var uiKeys=Object.keys(this.ui);for(var i=0;i<uiKeys.length;i++){var key=uiKeys[i];this.ui[key]=jQuery(this.ui[key]);}},updateBarIconStatus:function(callback){var _this=this;this.isSubscribed(function(pushStatus){console.log(pushStatus);_this.ui.barIconBadgeNode.show().text(!pushStatus?Locale.get('off_short'):Locale.get('on_short'));_this.ui.barIconBadgeNode.removeClass('bg-warning bg-success').addClass(pushStatus?'bg-success':'bg-warning');if(typeof callback=='function'){callback(pushStatus);}});},isSubscribed:function(callback,clearConfig){if(this.getParam('is_user_subscribed')!==null&&!clearConfig){callback(this.getParam('is_user_subscribed'));return;}
jQuery.getJSON(this.statusApiUrl+'/?_csrf_token='+this.getParam('csrf_token'),function(result){if(result.success){callback(result.data.status);return;}else{Message.showError(result.error);}});callback(false);},generateNewCode:function(callback){jQuery.getJSON(this.generateCodeApiUrl+'/?_csrf_token='+this.getParam('csrf_token'),function(result){if(result.success){callback(result.data.status);return;}else{Message.showError(result.error);}});callback(false);},_updateSubscriptionOnServer:function(token,remove){},});var TelegramNotificationsForm=function(options){this.__construct(options);};jQuery.extend(TelegramNotificationsForm.prototype,CommonForm.prototype,{options:{'form_url':'/v2/ext/telegram-notifications/generate-code','title':Locale.get('Connect Telegram channel'),'user_id':null,'width':450,'success_message':Locale.get('Ok'),'save_button_title':Locale.get('Save'),'cancel_button_title':Locale.get('OK')},countdown:null,__construct:function(options){this.setOptions(options);if(this.getParam('user_id')){var url=this.getParam('form_url')+'/user-id/'+this.getParam('user_id');this.setParam('form_url',url);}
this.init();},onFormLoad:function(){var _this=this;if(this.saveButton){this.saveButton.detach();}
if(jQuery('.countdown-timer').length){this._initCountdown(jQuery('.countdown-timer').data('seconds'));}
jQuery(this).bind('beforeHide',function(event,saved){clearInterval(_this.countdown);});},_initCountdown:function(intervalSec){var _this=this;this.countdown=setInterval(function(){intervalSec-=1;var now=new Date().getTime();var distance=intervalSec*1000;var minutes=Math.floor((distance%(1000*60*60))/(1000*60));var seconds=Math.floor((distance%(1000*60))/1000);minutes=minutes<10?"0"+minutes:minutes;seconds=seconds<10?"0"+seconds:seconds;jQuery('.countdown-timer').html(minutes+":"+seconds+"");if(distance<0){clearInterval(_this.countdown);jQuery('.countdown-timer').html("EXPIRED");}},1000);},initFormEvents:function(){var instance=this;jQuery('#reset_ga_btn').click(function(){instance.showForm();return false;});}});jQuery(document).ready(function(){(function(){var params={};if(window.Config&&window.Config.getParam){if(Config.getParam('telegram_notifications_enabled')){params=jQuery.extend({'content_policy_nonce':Config.getParam('content_policy_nonce'),'csrf_token':Config.getParam('csrf_token')},Config.getParam('telegram_notifications_options'));new BrowserTelegramNotificationAdminInterface(params);}}}());});

!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),l()}function n(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function o(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){var t=e.style.height,n=o(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var i=e.scrollHeight+s;return 0===e.scrollHeight?void(e.style.height=t):(e.style.height=i+"px",u=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),void(r&&(document.documentElement.scrollTop=r)))}function l(){r();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),i="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(i!==t?"hidden"===o.overflowY&&(n("scroll"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(n("hidden"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==i){a=i;var l=d("autosize:resized");try{e.dispatchEvent(l)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var s=null,u=e.clientWidth,a=null,c=function(){e.clientWidth!==u&&l()},p=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",l,!1),e.removeEventListener("keyup",l,!1),e.removeEventListener("autosize:destroy",p,!1),e.removeEventListener("autosize:update",l,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",p,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",l,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",l,!1),e.addEventListener("autosize:update",l,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:p,update:l}),t()}}function o(e){var t=i.get(e);t&&t.destroy()}function r(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){e.indexOf(n)===-1&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),d=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){d=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(l=function(e){return e},l.destroy=function(e){return e},l.update=function(e){return e}):(l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},l.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=l});

jQuery(document).ready((function(){function placement(context,source){var $win,$source,winWidth,popoverWidth,popoverHeight,offset,toRight,toLeft,placement,scrollTop;$win=jQuery(window);$source=jQuery(source);placement=$source.attr('data-placement')||'left';popoverWidth=400;popoverHeight=110;offset=$source.offset();if(placement.match(/^right|left$/)){winWidth=$win.width();toRight=winWidth-offset.left-source.offsetWidth;toLeft=offset.left;if(placement==='left'){if(toLeft>popoverWidth){return'left';}
else if(toRight>popoverWidth){return'right';}}
else{if(toRight>popoverWidth){return'right';}
else if(toLeft>popoverWidth){return'left';}}}
scrollTop=$win.scrollTop();if(placement==='bottom'){if(($win.height()+scrollTop)-(offset.top+source.offsetHeight)>popoverHeight){return'bottom';}
return'top';}
else{if(offset.top-scrollTop>popoverHeight){return'top';}
return'bottom';}}
jQuery("body").popover({container:'body',selector:'.help-info',trigger:'hover',placement:placement});jQuery('.help-info').attr('tabindex',0);})());

var UserAffiliateSystemForm=function(options){this.__construct(options);};jQuery.extend(UserAffiliateSystemForm.prototype,CommonForm.prototype,{options:{'system_url':"https://affiliate.simplybook.me/",'check_url':"/v2/user/is-user-in-affiliate-system",'form_url':'/v2/user/connect-affiliate-system','title':Locale.get('Affiliate System'),'user_id':null,'width':450,'success_message':Locale.get('Succefully'),'save_button_title':Locale.get('Join')},_isRegistered:null,__construct:function(options){this.setOptions(options);this.init();},isUserRegistered:function(handler){var instance=this;if(this._isRegistered!==null){handler(this._isRegistered);return;}
jQuery.getJSON(this.getParam('check_url'),function(res){instance._isRegistered=res;handler(res);});},initFormEvents:function(){var instance=this;jQuery('#join_aff_system').click(function(event){instance.isUserRegistered(function(isUserRegistered){if(isUserRegistered){window.location.replace(instance.getParam('system_url'));}else{instance.showForm();}});event.preventDefault();return false;});}});jQuery(document).ready(function(){var afForm=new UserAffiliateSystemForm();});

!function(t,e,n,o){"use strict";function i(t){var e=n(t.currentTarget),o=t.data?t.data.options:{},i=e.attr("data-fancybox")||"",a=0,s=[];t.isDefaultPrevented()||(t.preventDefault(),i?(s=o.selector?n(o.selector):t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]'),a=s.index(e),a<0&&(a=0)):s=[e],n.fancybox.open(s,o,a))}if(n){if(n.fn.fancybox)return void("console"in t&&console.log("fancyBox already initialized"));var a={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!0,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","share","close"],idleTime:3,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:500,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}"><svg viewBox="0 0 40 40"><path d="M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M26,28 L13,28 L27,28 L14,28" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M 18,17 m-8,0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 L10,20 L18,28 L10,20 L18,12 L10,20"></path></svg></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><svg viewBox="0 0 40 40"><path d="M30,20 L10,20 L30,20 L22,28 L30,20 L22,12 L30,20"></path></svg></button>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,margin:0,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Mastab"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},u=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),d=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(n.style[t]!==o)return i[t];return"transitionend"}(),f=function(t){return t&&t.length&&t[0].offsetHeight},p=function(t,o,i){var a=this;a.opts=n.extend(!0,{index:i},n.fancybox.defaults,o||{}),n.fancybox.isMobile&&(a.opts=n.extend(!0,{},a.opts,a.opts.mobile)),o&&n.isArray(o.buttons)&&(a.opts.buttons=o.buttons),a.id=a.opts.id||++c,a.group=[],a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=null,a.createGroup(t),a.group.length&&(a.$lastFocus=n(e.activeElement).blur(),a.slides={},a.init())};n.extend(p.prototype,{init:function(){var i,a,s,c=this,l=c.group[c.currIndex],u=l.opts,d=n.fancybox.scrollbarWidth;c.scrollTop=r.scrollTop(),c.scrollLeft=r.scrollLeft(),n.fancybox.getInstance()||(n("body").addClass("fancybox-active"),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream?"image"!==l.type&&n("body").css("top",n("body").scrollTop()*-1).addClass("fancybox-iosfix"):!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(d===o&&(i=n('<div style="width:50px;height:50px;overflow:scroll;" />').appendTo("body"),d=n.fancybox.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+d+"px; }</style>"),n("body").addClass("compensate-for-scrollbar"))),s="",n.each(u.buttons,function(t,e){s+=u.btnTpl[e]||""}),a=n(c.translate(c,u.baseTpl.replace("{{buttons}}",s).replace("{{arrows}}",u.btnTpl.arrowLeft+u.btnTpl.arrowRight))).attr("id","fancybox-container-"+c.id).addClass("fancybox-is-hidden").addClass(u.baseClass).data("FancyBox",c).appendTo(u.parentEl),c.$refs={container:a},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){c.$refs[t]=a.find(".fancybox-"+t)}),c.trigger("onInit"),c.activate(),c.jumpTo(c.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=n[e];return i===o?t:i})},createGroup:function(t){var e=this,i=n.makeArray(t);n.each(i,function(t,i){var a,s,r,c,l,u={},d={};n.isPlainObject(i)?(u=i,d=i.opts||i):"object"===n.type(i)&&n(i).length?(a=n(i),d=a.data(),d=n.extend({},d,d.options||{}),d.$orig=a,u.src=d.src||a.attr("href"),u.type||u.src||(u.type="inline",u.src=i)):u={type:"html",src:i+""},u.opts=n.extend(!0,{},e.opts,d),n.isArray(d.buttons)&&(u.opts.buttons=d.buttons),s=u.type||u.opts.type,c=u.src||"",!s&&c&&(c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":c.match(/\.(pdf)((\?|#).*)?$/i)?s="pdf":(r=c.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(s="video",u.opts.videoFormat||(u.opts.videoFormat="video/"+("ogv"===r[1]?"ogg":r[1]))):"#"===c.charAt(0)&&(s="inline")),s?u.type=s:e.trigger("objectNeedsType",u),u.index=e.group.length,u.opts.$orig&&!u.opts.$orig.length&&delete u.opts.$orig,!u.opts.$thumb&&u.opts.$orig&&(u.opts.$thumb=u.opts.$orig.find("img:first")),u.opts.$thumb&&!u.opts.$thumb.length&&delete u.opts.$thumb,"function"===n.type(u.opts.caption)&&(u.opts.caption=u.opts.caption.apply(i,[e,u])),"function"===n.type(e.opts.caption)&&(u.opts.caption=e.opts.caption.apply(i,[e,u])),u.opts.caption instanceof n||(u.opts.caption=u.opts.caption===o?"":u.opts.caption+""),"ajax"===s&&(l=c.split(/\s+/,2),l.length>1&&(u.src=l.shift(),u.opts.filter=l.shift())),"auto"==u.opts.smallBtn&&(n.inArray(s,["html","inline","ajax"])>-1?(u.opts.toolbar=!1,u.opts.smallBtn=!0):u.opts.smallBtn=!1),"pdf"===s&&(u.type="iframe",u.opts.iframe.preload=!1),u.opts.modal&&(u.opts=n.extend(!0,u.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),e.group.push(u)})},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?u(function(){o.update()}):(o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update()},600))}),r.on("focusin.fb",function(t){var i=n.fancybox?n.fancybox.getInstance():null;i.isClosing||!i.current||!i.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||i&&"fixed"!==n(t.target).css("position")&&!i.$refs.container.has(t.target).length&&(t.stopPropagation(),i.focus(),s.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))}),r.on("keydown.fb",function(t){var e=o.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!n(t.target).is("input")&&!n(t.target).is("textarea"))return 8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=t.setInterval(function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e,i){var a,s,r,c,l,u,d,p=this,h=p.group.length;if(!(p.isDragging||p.isClosing||p.isAnimating&&p.firstRun)){if(t=parseInt(t,10),s=p.current?p.current.opts.loop:p.opts.loop,!s&&(t<0||t>=h))return!1;if(a=p.firstRun=null===p.firstRun,!(h<2&&!a&&p.isDragging)){if(c=p.current,p.prevIndex=p.currIndex,p.prevPos=p.currPos,r=p.createSlide(t),h>1&&((s||r.index>0)&&p.createSlide(t-1),(s||r.index<h-1)&&p.createSlide(t+1)),p.current=r,p.currIndex=r.index,p.currPos=r.pos,p.trigger("beforeShow",a),p.updateControls(),u=n.fancybox.getTranslate(r.$slide),r.isMoved=(0!==u.left||0!==u.top)&&!r.$slide.hasClass("fancybox-animated"),r.forcedDuration=o,n.isNumeric(e)?r.forcedDuration=e:e=r.opts[a?"animationDuration":"transitionDuration"],e=parseInt(e,10),a)return r.opts.animationEffect&&e&&p.$refs.container.css("transition-duration",e+"ms"),p.$refs.container.removeClass("fancybox-is-hidden"),f(p.$refs.container),p.$refs.container.addClass("fancybox-is-open"),r.$slide.addClass("fancybox-slide--current"),p.loadSlide(r),void p.preload("image");n.each(p.slides,function(t,e){n.fancybox.stop(e.$slide)}),r.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),r.isMoved?(l=Math.round(r.$slide.width()),n.each(p.slides,function(t,o){var i=o.pos-r.pos;n.fancybox.animate(o.$slide,{top:0,left:i*l+i*o.opts.gutter},e,function(){o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===p.currPos&&(r.isMoved=!1,p.complete())})})):p.$refs.stage.children().removeAttr("style"),r.isLoaded?p.revealContent(r):p.loadSlide(r),p.preload("image"),c.pos!==r.pos&&(d="fancybox-slide--"+(c.pos>r.pos?"next":"previous"),c.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),c.isComplete=!1,e&&(r.isMoved||r.opts.transitionEffect)&&(r.isMoved?c.$slide.addClass(d):(d="fancybox-animated "+d+" fancybox-fx-"+r.opts.transitionEffect,n.fancybox.animate(c.$slide,d,e,function(){c.$slide.removeClass(d).removeAttr("style")}))))}}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var a,s,r,c,l,u=this,d=u.current,f=d.$content,p=parseInt(d.$slide.width(),10),h=parseInt(d.$slide.height(),10),g=d.width,b=d.height;"image"!=d.type||d.hasError||!f||u.isAnimating||(n.fancybox.stop(f),u.isAnimating=!0,t=t===o?.5*p:t,e=e===o?.5*h:e,a=n.fancybox.getTranslate(f),c=g/a.width,l=b/a.height,s=.5*p-.5*g,r=.5*h-.5*b,g>p&&(s=a.left*c-(t*c-t),s>0&&(s=0),s<p-g&&(s=p-g)),b>h&&(r=a.top*l-(e*l-e),r>0&&(r=0),r<h-b&&(r=h-b)),u.updateCursor(g,b),n.fancybox.animate(f,{top:r,left:s,scaleX:c,scaleY:l},i||330,function(){u.isAnimating=!1}),u.SlideShow&&u.SlideShow.isActive&&u.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;"image"!=i.type||i.hasError||!a||o.isAnimating||(n.fancybox.stop(a),o.isAnimating=!0,e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,i,a,s,r=this,c=t.$content,l=t.width,u=t.height,d=t.opts.margin;return!(!c||!c.length||!l&&!u)&&("number"===n.type(d)&&(d=[d,d]),2==d.length&&(d=[d[0],d[1],d[0],d[1]]),e=parseInt(r.$refs.stage.width(),10)-(d[1]+d[3]),o=parseInt(r.$refs.stage.height(),10)-(d[0]+d[2]),i=Math.min(1,e/l,o/u),a=Math.floor(i*l),s=Math.floor(i*u),{top:Math.floor(.5*(o-s))+d[0],left:Math.floor(.5*(e-a))+d[3],width:a,height:s})},update:function(){var t=this;n.each(t.slides,function(e,n){t.updateSlide(n)})},updateSlide:function(t,e){var o=this,i=t&&t.$content;i&&(t.width||t.height)&&(o.isAnimating=!1,n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&o.updateCursor()),t.$slide.trigger("refresh"),o.trigger("onUpdate",t)},centerSlide:function(t,e){var i,a,s=this;s.current&&(i=Math.round(t.$slide.width()),a=t.pos-s.current.pos,n.fancybox.animate(t.$slide,{top:0,left:a*i+a*t.opts.gutter,opacity:1},e===o?0:e,null,!1))},updateCursor:function(t,e){var n,i=this,a=i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");i.current&&!i.isClosing&&(i.isZoomable()?(a.addClass("fancybox-is-zoomable"),n=t!==o&&e!==o?t<i.current.width&&e<i.current.height:i.isScaledDown(),n?a.addClass("fancybox-can-zoomIn"):i.current.opts.touch?a.addClass("fancybox-can-drag"):a.addClass("fancybox-can-zoomOut")):i.current.opts.touch&&a.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,o=e.current;if(o&&!e.isClosing)return!!("image"===o.type&&o.isLoaded&&!o.hasError&&("zoom"===o.opts.clickContent||n.isFunction(o.opts.clickContent)&&"zoom"===o.opts.clickContent(o))&&(t=e.getFitPos(o),o.width>t.width||o.height>t.height))},isScaledDown:function(){var t=this,e=t.current,o=e.$content,i=!1;return o&&(i=n.fancybox.getTranslate(o),i=i.width<e.width||i.height<e.height),i},canPan:function(){var t=this,e=t.current,n=e.$content,o=!1;return n&&(o=t.getFitPos(e),o=Math.abs(n.width()-o.width)>1||Math.abs(n.height()-o.height)>1),o},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;case"video":a.setContent(t,'<video controls><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video>");break;default:a.setError(t)}return!0}},setImage:function(e){var o,i,a,s,r=this,c=e.opts.srcset||e.opts.image.srcset;if(c){a=t.devicePixelRatio||1,s=t.innerWidth*a,i=c.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);return 0===n?e.url=t:void(o&&(e.value=o,e.postfix=t[t.length-1]))}),e}),i.sort(function(t,e){return t.value-e.value});for(var l=0;l<i.length;l++){var u=i[l];if("w"===u.postfix&&u.value>=s||"x"===u.postfix&&u.value>=a){o=u;break}}!o&&i.length&&(o=i[i.length-1]),o&&(e.src=o.url,e.width&&e.height&&"w"==o.postfix&&(e.height=e.width/e.height*o.value,e.width=o.value))}e.$content=n('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide),e.opts.preload!==!1&&e.opts.width&&e.opts.height&&(e.opts.thumb||e.opts.$thumb)?(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",function(){n(this).remove(),e.$ghost=null,r.setBigImage(e)}).one("load",function(){r.afterLoad(e),r.setBigImage(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",e.opts.thumb||e.opts.$thumb.attr("src"))):r.setBigImage(e)},setBigImage:function(t){var e=this,o=n("<img />");t.$image=o.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=t.opts.width||this.naturalWidth,t.height=t.opts.height||this.naturalHeight,t.opts.image.srcset&&o.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(o[0].complete||"complete"==o[0].readyState)&&o[0].naturalWidth&&o[0].naturalHeight?o.trigger("load"):o[0].error?o.trigger("error"):t.timouts=setTimeout(function(){o[0].complete||t.hasError||e.showLoading(t)},100)},setIframe:function(t){var e,i=this,a=t.opts.iframe,s=t.$slide;t.$content=n('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(s),e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(t.$content),a.preload?(i.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)}),s.on("refresh.fb",function(){var n,i,s,r=t.$content,c=a.css.width,l=a.css.height;if(1===e[0].isReady){try{i=e.contents(),s=i.find("body")}catch(t){}s&&s.length&&(c===o&&(n=e[0].contentWindow.document.documentElement.scrollWidth,c=Math.ceil(s.outerWidth(!0)+(r.width()-n)),c+=r.outerWidth()-r.innerWidth()),l===o&&(l=Math.ceil(s.outerHeight(!0)),l+=r.outerHeight()-r.innerHeight()),c&&r.width(c),l&&r.height(l)),r.removeClass("fancybox-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),t.opts.smallBtn===!0&&t.$content.prepend(i.translate(t,t.opts.btnTpl.smallBtn)),s.one("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$slide.empty(),l(e)&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents(),3===e[0].nodeType&&(e=n("<div>").html(e))),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)}),t.$content=n(e).appendTo(t.$slide),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){var e=this;t=t||e.current,t&&!t.$spinner&&(t.$spinner=n(e.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){var e=this;t=t||e.current,t&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content.filter("div,form").first())),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,a,s,r,c=this,l=t.$slide,u=!1;return e=t.opts[c.firstRun?"animationEffect":"transitionEffect"],a=t.opts[c.firstRun?"animationDuration":"transitionDuration"],a=parseInt(t.forcedDuration===o?a:t.forcedDuration,10),!t.isMoved&&t.pos===c.currPos&&a||(e=!1),"zoom"!==e||t.pos===c.currPos&&a&&"image"===t.type&&!t.hasError&&(u=c.getThumbPos(t))||(e="fade"),"zoom"===e?(r=c.getFitPos(t),r.scaleX=r.width/u.width,r.scaleY=r.height/u.height,delete r.width,delete r.height,s=t.opts.zoomOpacity,"auto"==s&&(s=Math.abs(t.width/t.height-u.width/u.height)>.1),s&&(u.opacity=.1,r.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),u),f(t.$content),void n.fancybox.animate(t.$content,r,a,function(){c.complete()})):(c.updateSlide(t),e?(n.fancybox.stop(l),i="fancybox-animated fancybox-slide--"+(t.pos>=c.prevPos?"next":"previous")+" fancybox-fx-"+e,l.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),f(l),void n.fancybox.animate(l,"fancybox-slide--current",a,function(e){l.removeClass(i).removeAttr("style"),t.pos===c.currPos&&c.complete()},!0)):(f(l),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===c.currPos&&c.complete())))},getThumbPos:function(o){var i,a=this,s=!1,r=function(e){for(var o,i=e[0],a=i.getBoundingClientRect(),s=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||s.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return o=s.every(function(t){var e=Math.min(a.right,t.right)-Math.max(a.left,t.left),n=Math.min(a.bottom,t.bottom)-Math.max(a.top,t.top);return e>0&&n>0}),o&&a.bottom>0&&a.right>0&&a.left<n(t).width()&&a.top<n(t).height()},c=o.opts.$thumb,l=c?c.offset():0;return l&&c[0].ownerDocument===e&&r(c)&&(i=a.$refs.stage.offset(),s={top:l.top-i.top+parseFloat(c.css("border-top-width")||0),left:l.left-i.left+parseFloat(c.css("border-left-width")||0),width:c.width(),height:c.height(),scaleX:1,scaleY:1}),s},complete:function(){var t=this,o=t.current,i={};o.isMoved||!o.isLoaded||o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),t.preload("inline"),f(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,function(e,o){o.pos>=t.currPos-1&&o.pos<=t.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),t.slides=i,t.updateCursor(),t.trigger("afterShow"),o.$slide.find("video,audio").first().trigger("play"),(n(e.activeElement).is("[disabled]")||o.opts.autoFocus&&"image"!=o.type&&"iframe"!==o.type)&&t.focus())},preload:function(t){var e=this,n=e.slides[e.currPos+1],o=e.slides[e.currPos-1];n&&n.type===t&&e.loadSlide(n),o&&o.type===t&&e.loadSlide(o)},focus:function(){var t,e=this.current;this.isClosing||(e&&e.isComplete&&(t=e.$slide.find("input[autofocus]:enabled:visible:first"),t.length||(t=e.$slide.find("button,:input,[tabindex],a").filter(":enabled:visible:first"))),t=t&&t.length?t:this.$refs.container,t.focus())},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l=this,p=l.current,h=function(){l.cleanUp(t)};return!l.isClosing&&(l.isClosing=!0,l.trigger("beforeClose",t)===!1?(l.isClosing=!1,u(function(){l.update()}),!1):(l.removeEvents(),p.timouts&&clearTimeout(p.timouts),a=p.$content,o=p.opts.animationEffect,i=n.isNumeric(e)?e:o?p.opts.animationDuration:0,p.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),p.$slide.siblings().trigger("onReset").remove(),i&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),l.hideLoading(p),l.hideControls(),l.updateCursor(),"zoom"!==o||t!==!0&&a&&i&&"image"===p.type&&!p.hasError&&(c=l.getThumbPos(p))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),r=n.fancybox.getTranslate(a),r.width=r.width*r.scaleX,r.height=r.height*r.scaleY,s=p.opts.zoomOpacity,"auto"==s&&(s=Math.abs(p.width/p.height-c.width/c.height)>.1),s&&(c.opacity=0),r.scaleX=r.width/c.width,r.scaleY=r.height/c.height,r.width=c.width,r.height=c.height,n.fancybox.setTranslate(p.$content,r),f(p.$content),n.fancybox.animate(p.$content,c,i,h),!0):(o&&i?t===!0?setTimeout(h,i):n.fancybox.animate(p.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,i,h):h(),!0)))},cleanUp:function(t){var o,i,a=this,r=n("body");a.current.$slide.trigger("onReset"),a.$refs.container.empty().remove(),a.trigger("afterClose",t),a.$lastFocus&&a.current.opts.backFocus&&a.$lastFocus.focus(),a.current=null,o=n.fancybox.getInstance(),o?o.activate():(s.scrollTop(a.scrollTop).scrollLeft(a.scrollLeft),r.removeClass("fancybox-active compensate-for-scrollbar"),r.hasClass("fancybox-iosfix")&&(i=parseInt(e.body.style.top,10),r.removeClass("fancybox-iosfix").css("top","").scrollTop(i*-1)),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;return s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),o===!1?o:void("afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i))},updateControls:function(t){var e=this,n=e.current,o=n.index,i=n.opts.caption,a=e.$refs.container,s=e.$refs.caption;n.$slide.trigger("refresh"),e.$caption=i&&i.length?s.html(i):null,e.isHiddenControls||e.isIdle||e.showControls(),a.find("[data-fancybox-count]").html(e.group.length),a.find("[data-fancybox-index]").html(o+1),a.find("[data-fancybox-prev]").prop("disabled",!n.opts.loop&&o<=0),a.find("[data-fancybox-next]").prop("disabled",!n.opts.loop&&o>=e.group.length-1),"image"===n.type?a.find("[data-fancybox-download]").attr("href",n.opts.image.src||n.src).show():a.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.2.10",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof p&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new p(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),t===!0&&this.close())},destroy:function(){this.close(!0),r.off("click.fb-start")},isMobile:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;if(!t||!t.length)return!1;if(e=t.eq(0).css("transform"),e&&e.indexOf("matrix")!==-1?(e=e.split("(")[1],e=e.split(")")[0],e=e.split(",")):e=[],e.length)e=e.length>10?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]],e=e.map(parseFloat);else{e=[0,0,1,1];var n=/\.*translate\((.*)px,(.*)px\)/i,o=n.exec(t.eq(0).attr("style"));o&&(e[0]=parseFloat(o[2]),e[1]=parseFloat(o[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==o&&(i.opacity=e.opacity),e.width!==o&&(i.width=e.width),e.height!==o&&(i.height=e.height),t.css(i)},animate:function(t,e,i,a,s){n.isFunction(i)&&(a=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),t.on(d,function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(n.fancybox.stop(t),n.isPlainObject(e)?(e.scaleX!==o&&e.scaleY!==o&&(t.css("transition-duration",""),e.width=Math.round(t.width()*e.scaleX),e.height=Math.round(t.height()*e.scaleY),e.scaleX=1,e.scaleY=1,n.fancybox.setTranslate(t,e)),s===!1&&t.removeAttr("style")):s!==!0&&t.removeClass(e),n.isFunction(a)&&a(i))}),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?n.fancybox.setTranslate(t,e):t.addClass(e),e.scaleX&&t.hasClass("fancybox-image-wrap")&&t.parent().addClass("fancybox-is-scaling"),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.hasClass("fancybox-image-wrap")&&t.parent().removeClass("fancybox-is-scaling")}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i)}}(window,document,window.jQuery||jQuery),function(t){"use strict";var e=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,u,d,f,p=a.src||"",h=!1;s=t.extend(!0,{},n,a.opts.media),t.each(s,function(n,o){if(c=p.match(o.matcher)){if(h=o.type,d={},o.paramPlace&&c[o.paramPlace]){u=c[o.paramPlace],"?"==u[0]&&(u=u.substring(1)),u=u.split("&");for(var i=0;i<u.length;++i){var s=u[i].split("=",2);2==s.length&&(d[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[n],d),p="function"===t.type(o.url)?o.url.call(this,c,l,a):e(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):e(o.thumb,c),"vimeo"===n&&(p=p.replace("&%23","#")),!1}}),h?(a.src=p,a.type=h,a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),a.contentProvider=f,a.opts.slideClass+=" fancybox-slide--"+("gmap_place"==f||"gmap_search"==f?"map":"video"))):p&&(a.type=a.opts.defaultType)})}(window.jQuery||jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},u=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};u.prototype.destroy=function(){this.$container.off(".fb.touch")},u.prototype.ontouchstart=function(o){var i=this,c=n(o.target),u=i.instance,d=u.current,f=d.$content,p="touchstart"==o.type;if(p&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!d||i.instance.isAnimating||i.instance.isClosing)return o.stopPropagation(),void o.preventDefault();if(i.realPoints=i.startPoints=a(o),i.startPoints){if(o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=f,i.opts=d.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.sliderStartPos=i.sliderLastPos||{top:0,left:0},i.contentStartPos=n.fancybox.getTranslate(i.$content),i.contentLastPos=null,i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(d.$slide[0].clientWidth),i.canvasHeight=Math.round(d.$slide[0].clientHeight),n(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),!i.opts&&!u.canPan()||!c.is(i.$stage)&&!i.$stage.find(c).length)return void(c.is("img")&&o.preventDefault());n.fancybox.isMobile&&(l(c)||l(c.parent()))||o.preventDefault(),1===i.startPoints.length&&("image"===d.type&&(i.contentStartPos.width>i.canvasWidth+1||i.contentStartPos.height>i.canvasHeight+1)?(n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-controls--isGrabbing")),2!==i.startPoints.length||u.isAnimating||d.hasError||"image"!==d.type||!d.isLoaded&&!d.$ghost||(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))}}},u.prototype.onscroll=function(t){self.isScrolling=!0},u.prototype.ontouchmove=function(t){var e=this,o=n(t.target);return e.isScrolling||!o.is(e.$stage)&&!e.$stage.find(o).length?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.isSwiping&&e.isSwiping===!0||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},u.prototype.onSwipe=function(e){var a,s=this,r=s.isSwiping,c=s.sliderStartPos.left||0;if(r!==!0)"x"==r&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?c+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?c-=Math.pow(-s.distanceX,.8):c+=s.distanceX),s.sliderLastPos={top:"x"==r?0:s.sliderStartPos.top+s.distanceY,left:c},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||s.opts.vertical===!1||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&n.fancybox.isMobile&&(l(s.$target)||l(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(s.instance.slides,function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left)}),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},u.prototype.onPan=function(){var t=this;return s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?void(t.startPoints=t.newPoints):(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(i(t.requestId),t.requestId=null),void(t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},u.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,u=s.distanceY,d=s.contentStartPos,f=d.left,p=d.top,h=d.width,g=d.height;return i=h>r?f+l:f,a=p+u,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),h>r&&(l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0)),g>c&&(u>0&&a>e&&(a=e-1+Math.pow(-e+p+u,.8)||0),u<0&&a<o&&(a=o+1-Math.pow(o-p-u,.8)||0)),{top:a,left:i,scaleX:d.scaleX,scaleY:d.scaleY}},u.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},u.prototype.onZoom=function(){var e=this,a=e.contentStartPos.width,r=e.contentStartPos.height,c=e.contentStartPos.left,l=e.contentStartPos.top,u=s(e.newPoints[0],e.newPoints[1]),d=u/e.startDistanceBetweenFingers,f=Math.floor(a*d),p=Math.floor(r*d),h=(a-f)*e.percentageOfImageAtPinchPointX,g=(r-p)*e.percentageOfImageAtPinchPointY,b=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),m=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=b-e.centerPointStartX,v=m-e.centerPointStartY,x=c+(h+y),w=l+(g+v),$={top:w,left:x,scaleX:e.contentStartPos.scaleX*d,scaleY:e.contentStartPos.scaleY*d};e.canTap=!1,e.newWidth=f,e.newHeight=p,e.contentLastPos=$,e.requestId&&(i(e.requestId),e.requestId=null),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},u.prototype.ontouchend=function(t){var o=this,s=Math.max((new Date).getTime()-o.startTime,1),r=o.isSwiping,c=o.isPanning,l=o.isZooming,u=o.isScrolling;return o.endPoints=a(t),o.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap?o.onTap(t):(o.speed=366,o.velocityX=o.distanceX/s*.5,o.velocityY=o.distanceY/s*.5,o.speedX=Math.max(.5*o.speed,Math.min(1.5*o.speed,1/Math.abs(o.velocityX)*o.speed)),void(c?o.endPanning():l?o.endZooming():o.endSwiping(r,u)))},u.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length;o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},150),i=o.instance.close(!0,300)):"x"==t&&o.distanceX>50&&a>1?i=o.instance.previous(o.speedX):"x"==t&&o.distanceX<-50&&a>1&&(i=o.instance.next(o.speedX)),i!==!1||"x"!=t&&"y"!=t||(e||a<2?o.instance.centerSlide(o.instance.current,150):o.instance.jumpTo(o.instance.current.index)),o.$container.removeClass("fancybox-is-sliding")},u.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(i.opts.momentum===!1?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,330))},u.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.setTranslate(a.content,n.fancybox.getTranslate(a.$content)),n.fancybox.animate(a.$content,o,150)))},u.prototype.onTap=function(t){var e,o=this,i=n(t.target),s=o.instance,r=s.current,c=t&&a(t)||o.startPoints,l=c[0]?c[0].x-o.$stage.offset().left:0,u=c[0]?c[0].y-o.$stage.offset().top:0,d=function(e){var i=r.opts[e];if(n.isFunction(i)&&(i=i.apply(s,[r,t])),i)switch(i){case"close":s.close(o.startEvent);break;case"toggleControls":s.toggleControls(!0);break;case"next":s.next();break;case"nextOrClose":s.group.length>1?s.next():s.close(o.startEvent);break;case"zoom":"image"==r.type&&(r.isLoaded||r.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,u):s.group.length<2&&s.close(o.startEvent))}};if((!t.originalEvent||2!=t.originalEvent.button)&&(i.is("img")||!(l>i[0].clientWidth+i.offset().left))){if(i.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(i.is(".fancybox-slide"))e="Slide";else{if(!s.current.$content||!s.current.$content.find(i).addBack().filter(i).length)return;e="Content"}if(o.tapped){if(clearTimeout(o.tapped),o.tapped=null,Math.abs(l-o.tapX)>50||Math.abs(u-o.tapY)>50)return this;d("dblclick"+e)}else o.tapX=l,o.tapY=u,r.opts["dblclick"+e]&&r.opts["dblclick"+e]!==r.opts["click"+e]?o.tapped=setTimeout(function(){o.tapped=null,d("click"+e)},500):d("click"+e);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new u(e))})}(window,document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(t===!0||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;e&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.set(!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n=function(){var e,n,o,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a={};for(n=0;n<i.length;n++)if(e=i[n],e&&e[1]in t){for(o=0;o<e.length;o++)a[i[0][o]]=e[o];return a}return!1}();if(!n)return void(e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1));var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){var n;e&&e.group[e.currIndex].opts.fullScreen?(n=e.$refs.container,n.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle(n[0])}),e.opts.fullScreen&&e.opts.fullScreen.autoStart===!0&&o.request(n[0]),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&o.exit()}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t))})}(document,window.jQuery||jQuery),function(t,e){"use strict";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var n=function(t){this.init(t)};e.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this;e.instance=t,t.Thumbs=e;var n=t.group[0],o=t.group[1];e.opts=t.group[t.currIndex].opts.thumbs,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),e.opts&&n&&o&&("image"==n.type||n.opts.thumb||n.opts.$thumb)&&("image"==o.type||o.opts.thumb||o.opts.$thumb)?(e.$button.show().on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,n,o=this,i=o.instance,a=o.opts.parentEl;o.$grid=e('<div class="fancybox-thumbs fancybox-thumbs-'+o.opts.axis+'"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),t="<ul>",e.each(i.group,function(e,o){n=o.opts.thumb||(o.opts.$thumb?o.opts.$thumb.attr("src"):null),n||"image"!==o.type||(n=o.src),n&&n.length&&(t+='<li data-index="'+e+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /></li>')}),t+="</ul>",o.$list=e(t).appendTo(o.$grid).on("click","li",function(){i.jumpTo(e(this).data("index"))}),o.$list.find("img").hide().one("load",function(){var t,n,o,i,a=e(this).parent().removeClass("fancybox-thumbs-loading"),s=a.outerWidth(),r=a.outerHeight();t=this.naturalWidth||this.width,n=this.naturalHeight||this.height,o=t/s,i=n/r,o>=1&&i>=1&&(o>i?(t/=i,n=r):(t=s,n/=o)),e(this).css({width:Math.floor(t),height:Math.floor(n),"margin-top":n>r?Math.floor(.3*r-.3*n):Math.floor(.5*r-.5*n),"margin-left":Math.floor(.5*s-.5*t)}).show()}).each(function(){this.src=e(this).data("src")}),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"))+i.group.length*o.$list.children().eq(0).outerWidth(!0)+"px")},focus:function(t){var e,n,o=this,i=o.$list;o.instance.current&&(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active"),n=e.position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===o.opts.axis&&(n.left<i.parent().scrollLeft()||n.left>i.parent().scrollLeft()+(i.parent().width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var o;e&&!e.Thumbs&&(o=new n(e),o.isActive&&o.opts.autoStart===!0&&o.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&n.opts.hideOnClose!==!1&&n.$grid.hide()}})}(document,window.jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p class="fancybox-share__links"><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance();i&&(t=i.current.opts.hash===!1?i.current.src:window.location,o=i.current.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===i.current.type?encodeURIComponent(i.current.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{animationEffect:"fade",animationDuration:250,afterLoad:function(t,e){e.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(t,e,n){"use strict";function o(){var t=e.location.hash.substr(1),n=t.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return o<1&&(o=1),{hash:t,index:o,gallery:i}}function i(t){var e;""!==t.gallery&&(e=n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1),e.length||(e=n("#"+n.escapeSelector(t.gallery))),e.length&&(s=!1,e.trigger("click")))}function a(t){var e;return!!t&&(e=t.current?t.current.opts:t.opts,e.hash||(e.$orig?e.$orig.data("fancybox"):""))}n.escapeSelector||(n.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)});var s=!0,r=null,c=null;n(function(){n.fancybox.defaults.hash!==!1&&(n(t).on({"onInit.fb":function(t,e){var n,i;e.group[e.currIndex].opts.hash!==!1&&(n=o(),i=a(e),i&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i){var l;i&&i.opts.hash!==!1&&(l=a(o),l&&""!==l&&(e.location.hash.indexOf(l)<0&&(o.opts.origHash=e.location.hash),r=l+(o.group.length>1?"-"+(i.index+1):""),"replaceState"in e.history?(c&&clearTimeout(c),c=setTimeout(function(){e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+r),c=null,s=!1},300)):e.location.hash=r))},"beforeClose.fb":function(o,i,s){var l,u;c&&clearTimeout(c),s.opts.hash!==!1&&(l=a(i),u=i&&i.opts.origHash?i.opts.origHash:"",l&&""!==l&&("replaceState"in history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+u):(e.location.hash=u,n(e).scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))),r=null)}}),n(e).on("hashchange.fb",function(){var t=o();n.fancybox.getInstance()?!r||r===t.gallery+"-"+t.index||1===t.index&&r==t.gallery||(r=null,n.fancybox.close()):""!==t.gallery&&i(t)}),setTimeout(function(){i(o())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<1||o.opts.wheel===!1||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery);

var AttachClientMembershipForm=function(options){this.__construct(options);};jQuery.extend(AttachClientMembershipForm.prototype,CommonInterface.prototype,CommonForm.prototype,{options:{'form_url':'/v2/client/attach-membership','title':Locale.get('Attach membership'),'user_id':null,'width':450,'success_message':Locale.get('Succefully'),'save_button_title':Locale.get('Add')},ui:{membershipId:'#membership_id',startDate:'#start_date',startDateBtn:'#start_date_btn',endDate:'#end_date',errorContainer:'#plugin_membership_attach_error',errorMessage:'#plugin_membership_attach_error .messages',},membershipId:null,startDate:null,endDate:null,memberships:null,__construct:function(options){this.setOptions(options);if(this.getParam('client_id')){var url=this.getParam('form_url')+'/client-id/'+this.getParam('client_id');this.setParam('form_url',url);}
this.init();},onFormLoad:function(){var firstMembership=this._getMembership(null);if(firstMembership){this.membershipId=firstMembership.id;this.startDate=new Date();this.endDate=new Date();this.initFormContentDom();this.initFormContentEvents();}},initFormContentDom:function(){if(jQuery(this.ui.startDate).length){this.datepicker=new UiDatePicker({'element':this.ui.startDateBtn,'value_element':this.ui.startDate,'value':new Date(),'align':'right','update_title':true});this.datepicker.setValue(new Date());}},initFormContentEvents:function(){var instance=this;jQuery(this.ui.membershipId).on('change',function(event){instance.onMembershipChanged(event,jQuery(this));});jQuery(this.ui.startDate).on('change',function(event){instance.onStartDateChanged(event,jQuery(this));});jQuery(this.ui.endDate).on('change',function(event){instance.onEndDateChanged(event,jQuery(this));});jQuery(this).on('beforeHide',function(){jQuery(instance.ui.membershipId).off('change');jQuery(instance.ui.startDate).off('change');jQuery(instance.ui.endDate).off('change');});this.endDate=this.calcEndDate();this._showEndDateViewVal();},onMembershipChanged:function(event,target){var id=target.val();if(id){this.membershipId=id;this.endDate=this.calcEndDate();this._showEndDateViewVal();this._showDurationWarningIfNeeded();}},onStartDateChanged:function(event,target){var statDate=target.val();if(statDate){this.startDate=Date.parseMysqlDate(statDate);this.endDate=this.calcEndDate();this._showEndDateViewVal();this._showDurationWarningIfNeeded();}},onEndDateChanged:function(event,target){var endDate=target.val();if(endDate){this.endDate=Date.parseMysqlDate(endDate);this._showDurationWarningIfNeeded();}},calcEndDate:function(){var startDate=new Date();var membership=this._getMembership(this.membershipId);if(!membership){return;}
if(this.startDate){startDate=this.startDate;}
var duration=parseInt(membership.duration);var durationType=membership.duration_type;return this.getDurationDate(startDate,duration,durationType);},_showEndDateViewVal:function(){var endDate=this.endDate.getMysqlDate();jQuery(this.ui.endDate).val(endDate);},_showDurationWarningIfNeeded:function(){var currEndDate=this.endDate;var durEndDate=this.calcEndDate();if(!durEndDate||durEndDate.getMysqlDate()!==currEndDate.getMysqlDate()){jQuery(this.ui.errorMessage).empty().text(Locale.get('customer_duration_doesnt_match_membership_duration_warning'));jQuery(this.ui.errorContainer).show();}else{jQuery(this.ui.errorContainer).hide();}},_sortByPosition:function(a,b){var aPos=a.position;var bPos=b.position;return parseInt(aPos)-parseInt(bPos);},_getMembership:function(id){var membership=null;if(!this.memberships){this.memberships=this.getParam('memberships');if(this.memberships){this.memberships=Object.values(this.memberships);this.memberships.sort(this._sortByPosition);}}
jQuery.each(this.memberships,function(num,cMembership){if(!membership&&!parseInt(id)){membership=cMembership;}else
if(!membership&&parseInt(cMembership.id)===parseInt(id)){membership=cMembership;}});return membership;},getDurationDate:function(dateTime,duration,durationType){dateTime=new Date(dateTime.getTime());duration=parseInt(duration);switch(durationType){case'day':dateTime.setDate(dateTime.getDate()+duration);break;case'week':dateTime.setDate(dateTime.getDate()+7*duration);break;case'month':dateTime.setMonth(dateTime.getMonth()+duration);break;case'year':dateTime.setFullYear(dateTime.getFullYear()+duration);break;}
return dateTime;}});

jQuery.fn.extend({textareaIns:function(myValue){return this.each(function(i){if(document.selection){this.focus();sel=document.selection.createRange();sel.text=myValue;this.focus();}else if(this.selectionStart||this.selectionStart=='0'){var startPos=this.selectionStart;var endPos=this.selectionEnd;var scrollTop=this.scrollTop;this.value=this.value.substring(0,startPos)+myValue+this.value.substring(endPos,this.value.length);this.focus();this.selectionStart=startPos+myValue.length;this.selectionEnd=startPos+myValue.length;this.scrollTop=scrollTop;}else{this.value+=myValue;this.focus();}
jQuery(this).change();});}});

jQuery(document).ready(function(){jQuery('body').on('click','[data-dismiss]',function(){if(jQuery(this).data('dismiss')!='modal'){jQuery(jQuery(this).data('dismiss')).modal('hide');}})});

var DatepickerSbCustom=function(element,options){this.init(element,options);};jQuery.extend(DatepickerSbCustom.prototype,CommonOptions.prototype,{options:{},init:function(element,options){if(!options){options={};}
this.setOptions(options);this.initDatepicker(element);},initDatepicker:function(element){var el=jQuery(element);var datePicker=el.clone();datePicker.attr('name',el.attr('name')+'_visible');datePicker.attr('id',el.attr('id')+'_visible');el.after(datePicker);el.attr('type','hidden');datePicker.kendoDatePicker(jQuery.extend({'change':function(){var val=this.value();if(val){el.val(val.getMysqlDate()).change();}else{el.val('').change();}}},this.options));this._initEvents(el,datePicker);return datePicker;},_initEvents:function(element,datePicker){if(datePicker){var kendoDatepicker=datePicker.data("kendoDatePicker");datePicker.click(function(){kendoDatepicker.open();});datePicker.change(function(){var val=datePicker.val();if(!val){element.val('').change();}});datePicker.keypress(function(e){return false;});}}});

var ThemesHoverSlider=function(options){this.init(options);};jQuery.extend(ThemesHoverSlider.prototype,CommonOptions.prototype,{options:{sliderInterval:2000,sliderPresetSize:false,},sliderTimers:{},sliderCloneImgs:{},ui:{hoverContainer:'.theme-item',sliderContainer:'.img-wrap'},init:function(opts){this.setOptions(opts);this.initDom();this.initEvents();},initDom:function(){this._initThemesPreviewSlider();},initEvents:function(){var _this=this;var hoverContainer=jQuery(this.ui.hoverContainer);hoverContainer.on('mouseenter',function(){var $target=jQuery(this);_this._initSlider($target.find(_this.ui.sliderContainer));setTimeout(function(){$target.addClass('hover');},20)});hoverContainer.on('mouseleave',function(){var $target=jQuery(this);_this._stopSlider($target.find(_this.ui.sliderContainer));setTimeout(function(){$target.removeClass('hover');},20)});},_initSlider:function(el){var _this=this;var container=jQuery(el);var id=container.data('wlslider-id');if(!this.sliderTimers[id]){var imgs=container.find('.wl-slider-img-item');this.sliderCloneImgs[id]=imgs.clone();var _runSlider=function(){var imgs=container.find('.wl-slider-img-item');if(jQuery('img.lazy').length){var lazyLoadInstance=new LazyLoad({elements_selector:".lazy"});}
imgs.animate({left:-imgs.first().width()},{duration:380,specialEasing:{width:"linear",height:"easeOutBounce"},complete:function(){var cfimg=imgs.first();cfimg.parent().append(cfimg);imgs.css({left:0});}});};this.sliderTimers[id]=setInterval(_runSlider,this.getParam('sliderInterval',2000));_runSlider();}},_stopSlider:function(el){var _this=this;var container=jQuery(el);var id=container.data('wlslider-id');clearInterval(this.sliderTimers[id]);if(this.sliderCloneImgs[id]){container.empty();container.append(this.sliderCloneImgs[id]);}
delete this.sliderTimers[id];},reinitSlider:function(){var sliderContainer=jQuery('.wl-silder');return this._initThemesPreviewSlider();},_initThemesPreviewSlider:function(){var sliderContainer=jQuery(this.ui.sliderContainer).not('.wl-slider');var i=0;if(!sliderContainer.length){return;}
var opts={display:'block',overflow:'hidden','white-space':'nowrap',position:'relative',};if(this.getParam('sliderPresetSize')){opts=jQuery.extend(opts,{width:sliderContainer.outerWidth(),height:sliderContainer.outerHeight(),});}
sliderContainer.css(opts).addClass('wl-slider');jQuery.each(sliderContainer,function(n,el){jQuery(el).addClass('wl-slider-'+i).data('wlslider-id',i);i++;var imgs=jQuery(el).find('img');jQuery.each(imgs,function(n,imgEl){var imgNode=jQuery(imgEl);var imgCont=jQuery('<div/>').addClass('wl-slider-img-item');imgCont.css({display:'inline-block',position:'relative',width:'100%',height:'100%',});imgNode.replaceWith(imgCont);imgCont.append(imgNode);});});}});

var TaiwanMarketingPopup=function(opts){this.init(opts);};jQuery.extend(TaiwanMarketingPopup.prototype,new CommonOptions(),{accepted_countries:['TW'],options:{close_action_url:'/v2/index/pass-taiwan-marketing',promo_page_url:'https://pse.is/H8DPQ',is_new:false,is_passed:true,country:null,},ui:{popup:"#taiwan-marketing-popup",goBtn:'#taiwan-marketing-go',closeBtn:'#taiwan-marketing-close',},$popup:null,init:function(opts){this.setOptions(opts);var isPassed=this.getParam('is_passed',true);this.setParam('is_passed',typeof isPassed=='string'?parseInt(isPassed):isPassed);this.initDom();},initDom:function(){this.$popup=jQuery(this.ui.popup);var country=this.getParam('country','');var isAcceptedCountry=this.accepted_countries.indexOf(String(country).toUpperCase())!==-1;if(this.$popup&&this.$popup.length&&this.getParam('is_new',false)&&!this.getParam('is_passed',true)&&isAcceptedCountry){this.$popup.show();this.initEvents();}},initEvents:function(){var _this=this;if(this.$popup&&this.$popup.length){jQuery(document).on('click',this.ui.closeBtn,function(){_this.hidePopup(function(){});});jQuery(document).on('click',this.ui.goBtn,function(){_this._showLoader();_this.hidePopup(function(){_this._hideLoader();var url=_this.getParam("promo_page_url");window.location=url;});});}},hidePopup:function(callback){jQuery.get(this.getParam('close_action_url','#'),function(){if(callback){callback();}});this.$popup.hide();},_showLoader:function(){if(!this._loader){this._loader=jQuery('<div class="ajax-loader"><div class="ajax-loader-image"></div></div></div>');this._loader.appendTo(jQuery('body'));}
this._loader.addClass('loader-active');},_hideLoader:function(){this._loader.removeClass('loader-active');},});

(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory(exports):typeof define==='function'&&define.amd?define(['exports'],factory):(factory((global.StickySidebar={})));}(this,(function(exports){'use strict';var commonjsGlobal=typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,'default')?x['default']:x;}
function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
var stickySidebar=createCommonjsModule(function(module,exports){(function(global,factory){if(typeof undefined==="function"&&undefined.amd){undefined(['exports'],factory);}else{factory(exports);}})(commonjsGlobal,function(exports){Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var StickySidebar=function(){var EVENT_KEY='.stickySidebar';var DEFAULTS={topSpacing:0,bottomSpacing:0,containerSelector:false,innerWrapperSelector:'.inner-wrapper-sticky',stickyClass:'is-affixed',resizeSensor:true,minWidth:false};var StickySidebar=function(){function StickySidebar(sidebar){var _this=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,StickySidebar);this.options=StickySidebar.extend(DEFAULTS,options);this.sidebar='string'===typeof sidebar?document.querySelector(sidebar):sidebar;if('undefined'===typeof this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=false;this.container=this.sidebar.parentElement;this.affixedType='STATIC';this.direction='down';this.support={transform:false,transform3d:false};this._initialized=false;this._reStyle=false;this._breakpoint=false;this.dimensions={translateY:0,maxTranslateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0};['handleEvent'].forEach(function(method){_this[method]=_this[method].bind(_this);});this.initialize();}
_createClass(StickySidebar,[{key:'initialize',value:function initialize(){var _this2=this;this._setSupportFeatures();if(this.options.innerWrapperSelector){this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector);if(null===this.sidebarInner)this.sidebarInner=false;}
if(!this.sidebarInner){var wrapper=document.createElement('div');wrapper.setAttribute('class','inner-wrapper-sticky');this.sidebar.appendChild(wrapper);while(this.sidebar.firstChild!=wrapper){wrapper.appendChild(this.sidebar.firstChild);}this.sidebarInner=this.sidebar.querySelector('.inner-wrapper-sticky');}
if(this.options.containerSelector){var containers=document.querySelectorAll(this.options.containerSelector);containers=Array.prototype.slice.call(containers);containers.forEach(function(container,item){if(!container.contains(_this2.sidebar))return;_this2.container=container;});if(!containers.length)throw new Error("The container does not contains on the sidebar.");}
if('function'!==typeof this.options.topSpacing)this.options.topSpacing=parseInt(this.options.topSpacing)||0;if('function'!==typeof this.options.bottomSpacing)this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0;this._widthBreakpoint();this.calcDimensions();this.stickyPosition();this.bindEvents();this._initialized=true;}},{key:'bindEvents',value:function bindEvents(){window.addEventListener('resize',this,{passive:true,capture:false});window.addEventListener('scroll',this,{passive:true,capture:false});this.sidebar.addEventListener('update'+EVENT_KEY,this);if(this.options.resizeSensor&&'undefined'!==typeof ResizeSensor){new ResizeSensor(this.sidebarInner,this.handleEvent);new ResizeSensor(this.container,this.handleEvent);}}},{key:'handleEvent',value:function handleEvent(event){this.updateSticky(event);}},{key:'calcDimensions',value:function calcDimensions(){if(this._breakpoint)return;var dims=this.dimensions;dims.containerTop=StickySidebar.offsetRelative(this.container).top;dims.containerHeight=this.container.clientHeight;dims.containerBottom=dims.containerTop+dims.containerHeight;dims.sidebarHeight=this.sidebarInner.offsetHeight;dims.sidebarWidth=this.sidebarInner.offsetWidth;dims.viewportHeight=window.innerHeight;dims.maxTranslateY=dims.containerHeight-dims.sidebarHeight;this._calcDimensionsWithScroll();}},{key:'_calcDimensionsWithScroll',value:function _calcDimensionsWithScroll(){var dims=this.dimensions;dims.sidebarLeft=StickySidebar.offsetRelative(this.sidebar).left;dims.viewportTop=document.documentElement.scrollTop||document.body.scrollTop;dims.viewportBottom=dims.viewportTop+dims.viewportHeight;dims.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft;dims.topSpacing=this.options.topSpacing;dims.bottomSpacing=this.options.bottomSpacing;if('function'===typeof dims.topSpacing)dims.topSpacing=parseInt(dims.topSpacing(this.sidebar))||0;if('function'===typeof dims.bottomSpacing)dims.bottomSpacing=parseInt(dims.bottomSpacing(this.sidebar))||0;if('VIEWPORT-TOP'===this.affixedType){if(dims.topSpacing<dims.lastTopSpacing){dims.translateY+=dims.lastTopSpacing-dims.topSpacing;this._reStyle=true;}}else if('VIEWPORT-BOTTOM'===this.affixedType){if(dims.bottomSpacing<dims.lastBottomSpacing){dims.translateY+=dims.lastBottomSpacing-dims.bottomSpacing;this._reStyle=true;}}
dims.lastTopSpacing=dims.topSpacing;dims.lastBottomSpacing=dims.bottomSpacing;}},{key:'isSidebarFitsViewport',value:function isSidebarFitsViewport(){var dims=this.dimensions;var offset=this.scrollDirection==='down'?dims.lastBottomSpacing:dims.lastTopSpacing;return this.dimensions.sidebarHeight+offset<this.dimensions.viewportHeight;}},{key:'observeScrollDir',value:function observeScrollDir(){var dims=this.dimensions;if(dims.lastViewportTop===dims.viewportTop)return;var furthest='down'===this.direction?Math.min:Math.max;if(dims.viewportTop===furthest(dims.viewportTop,dims.lastViewportTop))this.direction='down'===this.direction?'up':'down';}},{key:'getAffixType',value:function getAffixType(){this._calcDimensionsWithScroll();var dims=this.dimensions;var colliderTop=dims.viewportTop+dims.topSpacing;var affixType=this.affixedType;if(colliderTop<=dims.containerTop||dims.containerHeight<=dims.sidebarHeight){dims.translateY=0;affixType='STATIC';}else{affixType='up'===this.direction?this._getAffixTypeScrollingUp():this._getAffixTypeScrollingDown();}
dims.translateY=Math.max(0,dims.translateY);dims.translateY=Math.min(dims.containerHeight,dims.translateY);dims.translateY=Math.round(dims.translateY);dims.lastViewportTop=dims.viewportTop;return affixType;}},{key:'_getAffixTypeScrollingDown',value:function _getAffixTypeScrollingDown(){var dims=this.dimensions;var sidebarBottom=dims.sidebarHeight+dims.containerTop;var colliderTop=dims.viewportTop+dims.topSpacing;var colliderBottom=dims.viewportBottom-dims.bottomSpacing;var affixType=this.affixedType;if(this.isSidebarFitsViewport()){if(dims.sidebarHeight+colliderTop>=dims.containerBottom){dims.translateY=dims.containerBottom-sidebarBottom;affixType='CONTAINER-BOTTOM';}else if(colliderTop>=dims.containerTop){dims.translateY=colliderTop-dims.containerTop;affixType='VIEWPORT-TOP';}}else{if(dims.containerBottom<=colliderBottom){dims.translateY=dims.containerBottom-sidebarBottom;affixType='CONTAINER-BOTTOM';}else if(sidebarBottom+dims.translateY<=colliderBottom){dims.translateY=colliderBottom-sidebarBottom;affixType='VIEWPORT-BOTTOM';}else if(dims.containerTop+dims.translateY<=colliderTop&&0!==dims.translateY&&dims.maxTranslateY!==dims.translateY){affixType='VIEWPORT-UNBOTTOM';}}
return affixType;}},{key:'_getAffixTypeScrollingUp',value:function _getAffixTypeScrollingUp(){var dims=this.dimensions;var sidebarBottom=dims.sidebarHeight+dims.containerTop;var colliderTop=dims.viewportTop+dims.topSpacing;var colliderBottom=dims.viewportBottom-dims.bottomSpacing;var affixType=this.affixedType;if(colliderTop<=dims.translateY+dims.containerTop){dims.translateY=colliderTop-dims.containerTop;affixType='VIEWPORT-TOP';}else if(dims.containerBottom<=colliderBottom){dims.translateY=dims.containerBottom-sidebarBottom;affixType='CONTAINER-BOTTOM';}else if(!this.isSidebarFitsViewport()){if(dims.containerTop<=colliderTop&&0!==dims.translateY&&dims.maxTranslateY!==dims.translateY){affixType='VIEWPORT-UNBOTTOM';}}
return affixType;}},{key:'_getStyle',value:function _getStyle(affixType){if('undefined'===typeof affixType)return;var style={inner:{},outer:{}};var dims=this.dimensions;switch(affixType){case'VIEWPORT-TOP':style.inner={position:'fixed',top:dims.topSpacing,left:dims.sidebarLeft-dims.viewportLeft,width:dims.sidebarWidth};break;case'VIEWPORT-BOTTOM':style.inner={position:'fixed',top:'auto',left:dims.sidebarLeft,bottom:dims.bottomSpacing,width:dims.sidebarWidth};break;case'CONTAINER-BOTTOM':case'VIEWPORT-UNBOTTOM':var translate=this._getTranslate(0,dims.translateY+'px');if(translate)style.inner={transform:translate};else style.inner={position:'absolute',top:dims.translateY,width:dims.sidebarWidth};break;}
switch(affixType){case'VIEWPORT-TOP':case'VIEWPORT-BOTTOM':case'VIEWPORT-UNBOTTOM':case'CONTAINER-BOTTOM':style.outer={height:dims.sidebarHeight,position:'relative'};break;}
style.outer=StickySidebar.extend({height:'',position:''},style.outer);style.inner=StickySidebar.extend({position:'relative',top:'',left:'',bottom:'',width:'',transform:''},style.inner);return style;}},{key:'stickyPosition',value:function stickyPosition(force){if(this._breakpoint)return;force=this._reStyle||force||false;var offsetTop=this.options.topSpacing;var offsetBottom=this.options.bottomSpacing;var affixType=this.getAffixType();var style=this._getStyle(affixType);if((this.affixedType!=affixType||force)&&affixType){var affixEvent='affix.'+affixType.toLowerCase().replace('viewport-','')+EVENT_KEY;StickySidebar.eventTrigger(this.sidebar,affixEvent);if('STATIC'===affixType)StickySidebar.removeClass(this.sidebar,this.options.stickyClass);else StickySidebar.addClass(this.sidebar,this.options.stickyClass);for(var key in style.outer){var unit='number'===typeof style.outer[key]?'px':'';this.sidebar.style[key]=style.outer[key]+unit;}
for(var _key in style.inner){var _unit='number'===typeof style.inner[_key]?'px':'';this.sidebarInner.style[_key]=style.inner[_key]+_unit;}
var affixedEvent='affixed.'+affixType.toLowerCase().replace('viewport-','')+EVENT_KEY;StickySidebar.eventTrigger(this.sidebar,affixedEvent);}else{if(this._initialized)this.sidebarInner.style.left=style.inner.left;}
this.affixedType=affixType;}},{key:'_widthBreakpoint',value:function _widthBreakpoint(){if(window.innerWidth<=this.options.minWidth){this._breakpoint=true;this.affixedType='STATIC';this.sidebar.removeAttribute('style');StickySidebar.removeClass(this.sidebar,this.options.stickyClass);this.sidebarInner.removeAttribute('style');}else{this._breakpoint=false;}}},{key:'updateSticky',value:function updateSticky(){var _this3=this;var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this._running)return;this._running=true;(function(eventType){requestAnimationFrame(function(){switch(eventType){case'scroll':_this3._calcDimensionsWithScroll();_this3.observeScrollDir();_this3.stickyPosition();break;case'resize':default:_this3._widthBreakpoint();_this3.calcDimensions();_this3.stickyPosition(true);break;}
_this3._running=false;});})(event.type);}},{key:'_setSupportFeatures',value:function _setSupportFeatures(){var support=this.support;support.transform=StickySidebar.supportTransform();support.transform3d=StickySidebar.supportTransform(true);}},{key:'_getTranslate',value:function _getTranslate(){var y=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var x=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(this.support.transform3d)return'translate3d('+y+', '+x+', '+z+')';else if(this.support.translate)return'translate('+y+', '+x+')';else return false;}},{key:'destroy',value:function destroy(){window.removeEventListener('resize',this,{capture:false});window.removeEventListener('scroll',this,{capture:false});this.sidebar.classList.remove(this.options.stickyClass);this.sidebar.style.minHeight='';this.sidebar.removeEventListener('update'+EVENT_KEY,this);var styleReset={inner:{},outer:{}};styleReset.inner={position:'',top:'',left:'',bottom:'',width:'',transform:''};styleReset.outer={height:'',position:''};for(var key in styleReset.outer){this.sidebar.style[key]=styleReset.outer[key];}for(var _key2 in styleReset.inner){this.sidebarInner.style[_key2]=styleReset.inner[_key2];}if(this.options.resizeSensor&&'undefined'!==typeof ResizeSensor){ResizeSensor.detach(this.sidebarInner,this.handleEvent);ResizeSensor.detach(this.container,this.handleEvent);}}}],[{key:'supportTransform',value:function supportTransform(transform3d){var result=false,property=transform3d?'perspective':'transform',upper=property.charAt(0).toUpperCase()+property.slice(1),prefixes=['Webkit','Moz','O','ms'],support=document.createElement('support'),style=support.style;(property+' '+prefixes.join(upper+' ')+upper).split(' ').forEach(function(property,i){if(style[property]!==undefined){result=property;return false;}});return result;}},{key:'eventTrigger',value:function eventTrigger(element,eventName,data){try{var event=new CustomEvent(eventName,{detail:data});}catch(e){var event=document.createEvent('CustomEvent');event.initCustomEvent(eventName,true,true,data);}
element.dispatchEvent(event);}},{key:'extend',value:function extend(defaults,options){var results={};for(var key in defaults){if('undefined'!==typeof options[key])results[key]=options[key];else results[key]=defaults[key];}
return results;}},{key:'offsetRelative',value:function offsetRelative(element){var result={left:0,top:0};do{var offsetTop=element.offsetTop;var offsetLeft=element.offsetLeft;if(!isNaN(offsetTop))result.top+=offsetTop;if(!isNaN(offsetLeft))result.left+=offsetLeft;element='BODY'===element.tagName?element.parentElement:element.offsetParent;}while(element);return result;}},{key:'addClass',value:function addClass(element,className){if(!StickySidebar.hasClass(element,className)){if(element.classList)element.classList.add(className);else element.className+=' '+className;}}},{key:'removeClass',value:function removeClass(element,className){if(StickySidebar.hasClass(element,className)){if(element.classList)element.classList.remove(className);else element.className=element.className.replace(new RegExp('(^|\\b)'+className.split(' ').join('|')+'(\\b|$)','gi'),' ');}}},{key:'hasClass',value:function hasClass(element,className){if(element.classList)return element.classList.contains(className);else return new RegExp('(^| )'+className+'( |$)','gi').test(element.className);}},{key:'defaults',get:function(){return DEFAULTS;}}]);return StickySidebar;}();return StickySidebar;}();exports.default=StickySidebar;window.StickySidebar=StickySidebar;});});var stickySidebar$1=unwrapExports(stickySidebar);exports['default']=stickySidebar$1;exports.__moduleExports=stickySidebar;Object.defineProperty(exports,'__esModule',{value:true});})));

jQuery(document).ready(function(){jQuery('.sidebar--sm-banner .close').on('click',function(){jQuery.cookie('sm-banner','1',{expires:30,path:'/'});jQuery('.top-menu .to-sm, .sm-banner__mob-toggler').removeClass('hidden');});if(!jQuery.cookie('sm-banner')){jQuery('.sidebar--sm-banner').removeClass('hidden').addClass('in');jQuery('.top-menu .to-sm, .sm-banner__mob-toggler').addClass('hidden');}else{jQuery('.sidebar--sm-banner').addClass('hidden');jQuery('.top-menu .to-sm, .sm-banner__mob-toggler').removeClass('hidden');}
jQuery('#simplybook-help-call-banner .close').on('click',function(){console.log('click');jQuery.cookie('help-call-banner','1',{expires:30,path:'/'});});if(!jQuery.cookie('help-call-banner')){jQuery('#simplybook-help-call-banner').removeClass('hidden').addClass('in');}else{jQuery('#simplybook-help-call-banner').addClass('hidden');}});

window.dhtmlXScheduler=window.scheduler={version:"4.3.1"};if(!window.dhtmlx){dhtmlx=function(obj){for(var a in obj)dhtmlx[a]=obj[a];return dhtmlx;};}
dhtmlx.extend_api=function(name,map,ext){var t=window[name];if(!t)return;window[name]=function(obj){var that;if(obj&&typeof obj=="object"&&!obj.tagName){that=t.apply(this,(map._init?map._init(obj):arguments));for(var a in dhtmlx)
if(map[a])this[map[a]](dhtmlx[a]);for(var a in obj){if(map[a])this[map[a]](obj[a]);else if(a.indexOf("on")===0){this.attachEvent(a,obj[a]);}}}else
that=t.apply(this,arguments);if(map._patch)map._patch(this);return that||this;};window[name].prototype=t.prototype;if(ext)
dhtmlXHeir(window[name].prototype,ext);};dhtmlxAjax={get:function(url,callback){var t=new dtmlXMLLoaderObject(true);t.async=(arguments.length<3);t.waitCall=callback;t.loadXML(url);return t;},post:function(url,post,callback){var t=new dtmlXMLLoaderObject(true);t.async=(arguments.length<4);t.waitCall=callback;t.loadXML(url,true,post);return t;},getSync:function(url){return this.get(url,null,true);},postSync:function(url,post){return this.post(url,post,null,true);}};function dtmlXMLLoaderObject(funcObject,dhtmlObject,async,rSeed){this.xmlDoc="";if(typeof(async)!="undefined")
this.async=async;else
this.async=true;this.onloadAction=funcObject||null;this.mainObject=dhtmlObject||null;this.waitCall=null;this.rSeed=rSeed||false;return this;}
dtmlXMLLoaderObject.count=0;dtmlXMLLoaderObject.prototype.waitLoadFunction=function(dhtmlObject){var once=true;this.check=function(){if((dhtmlObject)&&(dhtmlObject.onloadAction)){if((!dhtmlObject.xmlDoc.readyState)||(dhtmlObject.xmlDoc.readyState==4)){if(!once)
return;once=false;dtmlXMLLoaderObject.count++;if(typeof dhtmlObject.onloadAction=="function")
dhtmlObject.onloadAction(dhtmlObject.mainObject,null,null,null,dhtmlObject);if(dhtmlObject.waitCall){dhtmlObject.waitCall.call(this,dhtmlObject);dhtmlObject.waitCall=null;}}}};return this.check;};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(tagName,oldObj){var z;if(this.xmlDoc.responseXML){var temp=this.xmlDoc.responseXML.getElementsByTagName(tagName);if(temp.length===0&&tagName.indexOf(":")!=-1)
var temp=this.xmlDoc.responseXML.getElementsByTagName((tagName.split(":"))[1]);z=temp[0];}else
z=this.xmlDoc.documentElement;if(z){this._retry=false;return z;}
if(!this._retry&&_isIE){this._retry=true;var oldObj=this.xmlDoc;this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),true);return this.getXMLTopNode(tagName,oldObj);}
dhtmlxError.throwError("LoadXML","Incorrect XML",[(oldObj||this.xmlDoc),this.mainObject]);return document.createElement("DIV");};dtmlXMLLoaderObject.prototype.loadXMLString=function(xmlString,silent){if(!_isIE){var parser=new DOMParser();this.xmlDoc=parser.parseFromString(xmlString,"text/xml");}else{this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=this.async;this.xmlDoc.onreadystatechange=function(){};this.xmlDoc["loadXM"+"L"](xmlString);}
if(silent)
return;if(this.onloadAction)
this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall();this.waitCall=null;}};dtmlXMLLoaderObject.prototype.loadXML=function(filePath,postMode,postVars,rpc){if(this.rSeed)
filePath+=((filePath.indexOf("?")!=-1)?"&":"?")+"a_dhx_rSeed="+(new Date()).valueOf();this.filePath=filePath;if((!_isIE)&&(window.XMLHttpRequest))
this.xmlDoc=new XMLHttpRequest();else{this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP");}
if(this.async)
this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);if(typeof postMode=="string")
this.xmlDoc.open(postMode,filePath,this.async);else
this.xmlDoc.open(postMode?"POST":"GET",filePath,this.async);if(rpc){this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")");this.xmlDoc.setRequestHeader("Content-type","text/xml");}
else if(postMode)
this.xmlDoc.setRequestHeader('Content-type','application/x-www-form-urlencoded');this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(null||postVars);if(!this.async)
(new this.waitLoadFunction(this))();};dtmlXMLLoaderObject.prototype.destructor=function(){this._filterXPath=null;this._getAllNamedChilds=null;this._retry=null;this.async=null;this.rSeed=null;this.filePath=null;this.onloadAction=null;this.mainObject=null;this.xmlDoc=null;this.doXPath=null;this.doXPathOpera=null;this.doXSLTransToObject=null;this.doXSLTransToString=null;this.loadXML=null;this.loadXMLString=null;this.doSerialization=null;this.xmlNodeToJSON=null;this.getXMLTopNode=null;this.setXSLParamValue=null;return null;};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(node){var t={};for(var i=0;i<node.attributes.length;i++)
t[node.attributes[i].name]=node.attributes[i].value;t["_tagvalue"]=node.firstChild?node.firstChild.nodeValue:"";for(var i=0;i<node.childNodes.length;i++){var name=node.childNodes[i].tagName;if(name){if(!t[name])t[name]=[];t[name].push(this.xmlNodeToJSON(node.childNodes[i]));}}
return t;};function callerFunction(funcObject,dhtmlObject){this.handler=function(e){if(!e)
e=window.event;funcObject(e,dhtmlObject);return true;};return this.handler;}
function getAbsoluteLeft(htmlObject){return getOffset(htmlObject).left;}
function getAbsoluteTop(htmlObject){return getOffset(htmlObject).top;}
function getOffsetSum(elem){var top=0,left=0;while(elem){top=top+parseInt(elem.offsetTop);left=left+parseInt(elem.offsetLeft);elem=elem.offsetParent;}
return{top:top,left:left};}
function getOffsetRect(elem){var box=elem.getBoundingClientRect();var body=document.body;var docElem=document.documentElement;var scrollTop=window.pageYOffset||docElem.scrollTop||body.scrollTop;var scrollLeft=window.pageXOffset||docElem.scrollLeft||body.scrollLeft;var clientTop=docElem.clientTop||body.clientTop||0;var clientLeft=docElem.clientLeft||body.clientLeft||0;var top=box.top+scrollTop-clientTop;var left=box.left+scrollLeft-clientLeft;return{top:Math.round(top),left:Math.round(left)};}
function getOffset(elem){if(elem.getBoundingClientRect){return getOffsetRect(elem);}else{return getOffsetSum(elem);}}
function convertStringToBoolean(inputString){if(typeof(inputString)=="string")
inputString=inputString.toLowerCase();switch(inputString){case"1":case"true":case"yes":case"y":case 1:case true:return true;default:return false;}}
function getUrlSymbol(str){if(str.indexOf("?")!=-1)
return"&";else
return"?";}
function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)
return window.dhtmlDragAndDrop;this.lastLanding=0;this.dragNode=0;this.dragStartNode=0;this.dragStartObject=0;this.tempDOMU=null;this.tempDOMM=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this;}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(htmlNode){htmlNode.onmousedown=null;htmlNode.dragStarter=null;htmlNode.dragLanding=null;};dhtmlDragAndDropObject.prototype.addDraggableItem=function(htmlNode,dhtmlObject){htmlNode.onmousedown=this.preCreateDragCopy;htmlNode.dragStarter=dhtmlObject;this.addDragLanding(htmlNode,dhtmlObject);};dhtmlDragAndDropObject.prototype.addDragLanding=function(htmlNode,dhtmlObject){htmlNode.dragLanding=dhtmlObject;};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){if((e||window.event)&&(e||event).button==2)
return;if(window.dhtmlDragAndDrop.waitDrag){window.dhtmlDragAndDrop.waitDrag=0;document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU;document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM;return false;}
if(window.dhtmlDragAndDrop.dragNode)
window.dhtmlDragAndDrop.stopDrag(e);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=new Date().valueOf();if((e)&&(e.preventDefault)){e.preventDefault();return false;}
return false;};dhtmlDragAndDropObject.prototype.callDrag=function(e){if(!e)
e=window.event;var dragger=window.dhtmlDragAndDrop;if((new Date()).valueOf()-dragger.downtime<100)return;if(!dragger.dragNode){if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,e);if(!dragger.dragNode)
return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return false;};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute();}
else return dragger.stopDrag(e,true);}
if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var grd=dragger.gldragNode;if(dragger.gldragNode.old)
grd=dragger.gldragNode.old;grd.parentNode.removeChild(grd);var oldBody=dragger.dragNode.pWindow;if(grd.pWindow&&grd.pWindow.dhtmlDragAndDrop.lastLanding)
grd.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(grd.pWindow.dhtmlDragAndDrop.lastLanding);if(_isIE){var div=document.createElement("Div");div.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=div.childNodes[0];}else
dragger.dragNode=dragger.dragNode.cloneNode(true);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);oldBody.dhtmlDragAndDrop.dragNode=dragger.dragNode;}
dragger.dragNode.style.left=e.clientX+15+
(dragger.fx?dragger.fx*(-1):0)+
(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=e.clientY+3+
(dragger.fy?dragger.fy*(-1):0)+
(document.body.scrollTop||document.documentElement.scrollTop)+"px";var z;if(!e.srcElement)
z=e.target;else
z=e.srcElement;dragger.checkLanding(z,e);};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(n){if(window.name){var el=parent.frames[window.name].frameElement.offsetParent;var fx=0;var fy=0;while(el){fx+=el.offsetLeft;fy+=el.offsetTop;el=el.offsetParent;}
if((parent.dhtmlDragAndDrop)){var ls=parent.dhtmlDragAndDrop.calculateFramePosition(1);fx+=ls.split('_')[0]*1;fy+=ls.split('_')[1]*1;}
if(n)
return fx+"_"+fy;else
this.fx=fx;this.fy=fy;}
return"0_0";};dhtmlDragAndDropObject.prototype.checkLanding=function(htmlObject,e){if((htmlObject)&&(htmlObject.dragLanding)){if(this.lastLanding)
this.lastLanding.dragLanding._dragOut(this.lastLanding);this.lastLanding=htmlObject;this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e);this.lastLanding_scr=(_isIE?e.srcElement:e.target);}else{if((htmlObject)&&(htmlObject.tagName!="BODY"))
this.checkLanding(htmlObject.parentNode,e);else{if(this.lastLanding)
this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e);this.lastLanding=0;if(this._onNotFound)
this._onNotFound();}}};dhtmlDragAndDropObject.prototype.stopDrag=function(e,mode){var dragger=window.dhtmlDragAndDrop;if(!mode){dragger.stopFrameRoute();var temp=dragger.lastLanding;dragger.lastLanding=null;if(temp)
temp.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,temp,(_isIE?event.srcElement:e.target));}
dragger.lastLanding=null;if((dragger.dragNode)&&(dragger.dragNode.parentNode==document.body))
dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0;};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(win){if(win)
window.dhtmlDragAndDrop.stopDrag(1,1);for(var i=0;i<window.frames.length;i++){try{if((window.frames[i]!=win)&&(window.frames[i].dhtmlDragAndDrop))
window.frames[i].dhtmlDragAndDrop.stopFrameRoute(window);}catch(e){}}
try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=win))
parent.dhtmlDragAndDrop.stopFrameRoute(window);}catch(e){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(win,mode){if(win){window.dhtmlDragAndDrop.preCreateDragCopy();window.dhtmlDragAndDrop.dragStartNode=win.dhtmlDragAndDrop.dragStartNode;window.dhtmlDragAndDrop.dragStartObject=win.dhtmlDragAndDrop.dragStartObject;window.dhtmlDragAndDrop.dragNode=win.dhtmlDragAndDrop.dragNode;window.dhtmlDragAndDrop.gldragNode=win.dhtmlDragAndDrop.dragNode;window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag;window.waitDrag=0;if(((!_isIE)&&(mode))&&((!_isFF)||(_FFrv<1.8)))
window.dhtmlDragAndDrop.calculateFramePosition();}
try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=win))
parent.dhtmlDragAndDrop.initFrameRoute(window);}catch(e){}
for(var i=0;i<window.frames.length;i++){try{if((window.frames[i]!=win)&&(window.frames[i].dhtmlDragAndDrop))
window.frames[i].dhtmlDragAndDrop.initFrameRoute(window,((!win||mode)?1:0));}catch(e){}}};_isFF=false;_isIE=false;_isOpera=false;_isKHTML=false;_isMacOS=false;_isChrome=false;_FFrv=false;_KHTMLrv=false;_OperaRv=false;if(navigator.userAgent.indexOf('Macintosh')!=-1)
_isMacOS=true;if(navigator.userAgent.toLowerCase().indexOf('chrome')>-1)
_isChrome=true;if((navigator.userAgent.indexOf('Safari')!=-1)||(navigator.userAgent.indexOf('Konqueror')!=-1)){_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf('Safari')+7,5));if(_KHTMLrv>525){_isFF=true;_FFrv=1.9;}else
_isKHTML=true;}else if(navigator.userAgent.indexOf('Opera')!=-1){_isOpera=true;_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf('Opera')+6,3));}
else if(navigator.appName.indexOf("Microsoft")!=-1){_isIE=true;if((navigator.appVersion.indexOf("MSIE 8.0")!=-1||navigator.appVersion.indexOf("MSIE 9.0")!=-1||navigator.appVersion.indexOf("MSIE 10.0")!=-1)&&document.compatMode!="BackCompat"){_isIE=8;}}else if(navigator.appName=='Netscape'&&navigator.userAgent.indexOf("Trident")!=-1){_isIE=8;}else{_isFF=true;_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]);}
dtmlXMLLoaderObject.prototype.doXPath=function(xpathExp,docObj,namespace,result_type){if(_isKHTML||(!_isIE&&!window.XPathResult))
return this.doXPathOpera(xpathExp,docObj);if(_isIE){if(!docObj)
if(!this.xmlDoc.nodeName)
docObj=this.xmlDoc.responseXML;else
docObj=this.xmlDoc;if(!docObj)
dhtmlxError.throwError("LoadXML","Incorrect XML",[(docObj||this.xmlDoc),this.mainObject]);if(namespace)
docObj.setProperty("SelectionNamespaces","xmlns:xsl='"+namespace+"'");if(result_type=='single'){return docObj.selectSingleNode(xpathExp);}
else{return docObj.selectNodes(xpathExp)||new Array(0);}}else{var nodeObj=docObj;if(!docObj){if(!this.xmlDoc.nodeName){docObj=this.xmlDoc.responseXML;}
else{docObj=this.xmlDoc;}}
if(!docObj)
dhtmlxError.throwError("LoadXML","Incorrect XML",[(docObj||this.xmlDoc),this.mainObject]);if(docObj.nodeName.indexOf("document")!=-1){nodeObj=docObj;}
else{nodeObj=docObj;docObj=docObj.ownerDocument;}
var retType=XPathResult.ANY_TYPE;if(result_type=='single')
retType=XPathResult.FIRST_ORDERED_NODE_TYPE;var rowsCol=[];var col=docObj.evaluate(xpathExp,nodeObj,function(pref){return namespace;},retType,null);if(retType==XPathResult.FIRST_ORDERED_NODE_TYPE){return col.singleNodeValue;}
var thisColMemb=col.iterateNext();while(thisColMemb){rowsCol[rowsCol.length]=thisColMemb;thisColMemb=col.iterateNext();}
return rowsCol;}};function _dhtmlxError(type,name,params){if(!this.catches)
this.catches=[];return this;}
_dhtmlxError.prototype.catchError=function(type,func_name){this.catches[type]=func_name;};_dhtmlxError.prototype.throwError=function(type,name,params){if(this.catches[type])
return this.catches[type](type,name,params);if(this.catches["ALL"])
return this.catches["ALL"](type,name,params);window.alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]);return null;};window.dhtmlxError=new _dhtmlxError();dtmlXMLLoaderObject.prototype.doXPathOpera=function(xpathExp,docObj){var z=xpathExp.replace(/[\/]+/gi,"/").split('/');var obj=null;var i=1;if(!z.length)
return[];if(z[0]==".")
obj=[docObj];else if(z[0]===""){obj=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(z[i].replace(/\[[^\]]*\]/g,""));i++;}else
return[];for(i;i<z.length;i++)obj=this._getAllNamedChilds(obj,z[i]);if(z[i-1].indexOf("[")!=-1)
obj=this._filterXPath(obj,z[i-1]);return obj;};dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){var c=[];var b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var i=0;i<a.length;i++)
if(a[i].getAttribute(b))
c[c.length]=a[i];return c;};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=[];if(_isKHTML)
b=b.toUpperCase();for(var i=0;i<a.length;i++)for(var j=0;j<a[i].childNodes.length;j++){if(_isKHTML){if(a[i].childNodes[j].tagName&&a[i].childNodes[j].tagName.toUpperCase()==b)
c[c.length]=a[i].childNodes[j];}
else if(a[i].childNodes[j].tagName==b)
c[c.length]=a[i].childNodes[j];}
return c;};function dhtmlXHeir(a,b){for(var c in b)
if(typeof(b[c])=="function")
a[c]=b[c];return a;}
if(typeof(window.dhtmlxEvent)=='undefined'){window.dhtmlxEvent=function dhtmlxEvent(el,event,handler){if(el.addEventListener)
el.addEventListener(event,handler,false);else if(el.attachEvent)
el.attachEvent("on"+event,handler);};}
dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(paramName,paramValue,xslDoc){if(!xslDoc)
xslDoc=this.xslDoc;if(xslDoc.responseXML)
xslDoc=xslDoc.responseXML;var item=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+paramName+"']",xslDoc,"http:/\/www.w3.org/1999/XSL/Transform","single");if(item)
item.firstChild.nodeValue=paramValue;};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(xslDoc,xmlDoc){if(!xslDoc)
xslDoc=this.xslDoc;if(xslDoc.responseXML)
xslDoc=xslDoc.responseXML;if(!xmlDoc)
xmlDoc=this.xmlDoc;if(xmlDoc.responseXML)
xmlDoc=xmlDoc.responseXML;var result;if(!_isIE){if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor();this.XSLProcessor.importStylesheet(xslDoc);}
result=this.XSLProcessor.transformToDocument(xmlDoc);}else{result=new ActiveXObject("Msxml2.DOMDocument.3.0");try{xmlDoc.transformNodeToObject(xslDoc,result);}catch(e){result=xmlDoc.transformNode(xslDoc);}}
return result;};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(xslDoc,xmlDoc){var res=this.doXSLTransToObject(xslDoc,xmlDoc);if(typeof(res)=="string")
return res;return this.doSerialization(res);};dtmlXMLLoaderObject.prototype.doSerialization=function(xmlDoc){if(!xmlDoc)
xmlDoc=this.xmlDoc;if(xmlDoc.responseXML)
xmlDoc=xmlDoc.responseXML;if(!_isIE){var xmlSerializer=new XMLSerializer();return xmlSerializer.serializeToString(xmlDoc);}else
return xmlDoc.xml;};dhtmlxEventable=function(obj){obj.attachEvent=function(name,catcher,callObj){name='ev_'+name.toLowerCase();if(!this[name])
this[name]=new this.eventCatcher(callObj||this);return(name+':'+this[name].addEvent(catcher));};obj.callEvent=function(name,arg0){name='ev_'+name.toLowerCase();if(this[name])
return this[name].apply(this,arg0);return true;};obj.checkEvent=function(name){return(!!this['ev_'+name.toLowerCase()]);};obj.eventCatcher=function(obj){var dhx_catch=[];var z=function(){var res=true;for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]){var zr=dhx_catch[i].apply(obj,arguments);res=res&&zr;}}
return res;};z.addEvent=function(ev){if(typeof(ev)!="function")
ev=eval(ev);if(ev)
return dhx_catch.push(ev)-1;return false;};z.removeEvent=function(id){dhx_catch[id]=null;};return z;};obj.detachEvent=function(id){if(id){var list=id.split(':');this[list[0]].removeEvent(list[1]);}};obj.detachAllEvents=function(){for(var name in this){if(name.indexOf("ev_")===0){this.detachEvent(name);this[name]=null;}}};obj=null;};if(!window.dhtmlx)
window.dhtmlx={};(function(){var _dhx_msg_cfg=null;function callback(config,result){var usercall=config.callback;modality(false);config.box.parentNode.removeChild(config.box);_dhx_msg_cfg=config.box=null;if(usercall)
usercall(result);}
function modal_key(e){if(_dhx_msg_cfg){e=e||event;var code=e.which||event.keyCode;if(dhtmlx.message.keyboard){if(code==13||code==32)
callback(_dhx_msg_cfg,true);if(code==27)
callback(_dhx_msg_cfg,false);}
if(e.preventDefault)
e.preventDefault();return!(e.cancelBubble=true);}}
if(document.attachEvent)
document.attachEvent("onkeydown",modal_key);else
document.addEventListener("keydown",modal_key,true);function modality(mode){if(!modality.cover){modality.cover=document.createElement("DIV");modality.cover.onkeydown=modal_key;modality.cover.className="dhx_modal_cover";document.body.appendChild(modality.cover);}
var height=document.body.scrollHeight;modality.cover.style.display=mode?"inline-block":"none";}
function button(text,result,css){var className=css?css:(text||"");var button_css="dhtmlx_"+(className).toLowerCase().replace(/ /g,"_")+"_button";return"<div class='dhtmlx_popup_button "+button_css+"' result='"+result+"' ><div>"+text+"</div></div>";}
function info(text){if(!t.area){t.area=document.createElement("DIV");t.area.className="dhtmlx_message_area";t.area.style[t.position]="5px";document.body.appendChild(t.area);}
t.hide(text.id);var message=document.createElement("DIV");message.innerHTML="<div>"+text.text+"</div>";message.className="dhtmlx-info dhtmlx-"+text.type;message.onclick=function(){t.hide(text.id);text=null;};if(t.position=="bottom"&&t.area.firstChild)
t.area.insertBefore(message,t.area.firstChild);else
t.area.appendChild(message);if(text.expire>0)
t.timers[text.id]=window.setTimeout(function(){t.hide(text.id);},text.expire);t.pull[text.id]=message;message=null;return text.id;}
function _boxStructure(config,ok,cancel){var box=document.createElement("DIV");box.className=" dhtmlx_modal_box dhtmlx-"+config.type;box.setAttribute("dhxbox",1);var inner='';if(config.width)
box.style.width=config.width;if(config.height)
box.style.height=config.height;if(config.title)
inner+='<div class="dhtmlx_popup_title">'+config.title+'</div>';inner+='<div class="dhtmlx_popup_text"><span>'+(config.content?'':config.text)+'</span></div><div  class="dhtmlx_popup_controls">';if(ok){var ok_text=(config.ok||scheduler.locale.labels.message_ok);if(ok_text===undefined)ok_text="OK";inner+=button(ok_text,true,"ok");}
if(cancel){var cancel_text=(config.cancel||scheduler.locale.labels.message_cancel);if(cancel_text===undefined)cancel_text="Cancel";inner+=button(cancel_text,false,"cancel");}
if(config.buttons){for(var i=0;i<config.buttons.length;i++)
inner+=button(config.buttons[i],i);}
inner+='</div>';box.innerHTML=inner;if(config.content){var node=config.content;if(typeof node=="string")
node=document.getElementById(node);if(node.style.display=='none')
node.style.display="";box.childNodes[config.title?1:0].appendChild(node);}
box.onclick=function(e){e=e||event;var source=e.target||e.srcElement;if(!source.className)source=source.parentNode;if(source.className.split(" ")[0]=="dhtmlx_popup_button"){var result=source.getAttribute("result");result=(result=="true")||(result=="false"?false:result);callback(config,result);}};config.box=box;if(ok||cancel)
_dhx_msg_cfg=config;return box;}
function _createBox(config,ok,cancel){var box=config.tagName?config:_boxStructure(config,ok,cancel);if(!config.hidden)
modality(true);document.body.appendChild(box);var x=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-box.offsetWidth)/2));var y=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-box.offsetHeight)/2));if(config.position=="top")
box.style.top="-3px";else
box.style.top=y+'px';box.style.left=x+'px';box.onkeydown=modal_key;box.focus();if(config.hidden)
dhtmlx.modalbox.hide(box);return box;}
function alertPopup(config){return _createBox(config,true,false);}
function confirmPopup(config){return _createBox(config,true,true);}
function boxPopup(config){return _createBox(config);}
function box_params(text,type,callback){if(typeof text!="object"){if(typeof type=="function"){callback=type;type="";}
text={text:text,type:type,callback:callback};}
return text;}
function params(text,type,expire,id){if(typeof text!="object")
text={text:text,type:type,expire:expire,id:id};text.id=text.id||t.uid();text.expire=text.expire||t.expire;return text;}
dhtmlx.alert=function(){var text=box_params.apply(this,arguments);text.type=text.type||"confirm";return alertPopup(text);};dhtmlx.confirm=function(){var text=box_params.apply(this,arguments);text.type=text.type||"alert";return confirmPopup(text);};dhtmlx.modalbox=function(){var text=box_params.apply(this,arguments);text.type=text.type||"alert";return boxPopup(text);};dhtmlx.modalbox.hide=function(node){while(node&&node.getAttribute&&!node.getAttribute("dhxbox"))
node=node.parentNode;if(node){node.parentNode.removeChild(node);modality(false);}};var t=dhtmlx.message=function(text,type,expire,id){text=params.apply(this,arguments);text.type=text.type||"info";var subtype=text.type.split("-")[0];switch(subtype){case"alert":return alertPopup(text);case"confirm":return confirmPopup(text);case"modalbox":return boxPopup(text);default:return info(text);}};t.seed=(new Date()).valueOf();t.uid=function(){return t.seed++;};t.expire=4000;t.keyboard=true;t.position="top";t.pull={};t.timers={};t.hideAll=function(){for(var key in t.pull)
t.hide(key);};t.hide=function(id){var obj=t.pull[id];if(obj&&obj.parentNode){window.setTimeout(function(){obj.parentNode.removeChild(obj);obj=null;},2000);obj.className+=" hidden";if(t.timers[id])
window.clearTimeout(t.timers[id]);delete t.pull[id];}};})();function dataProcessor(serverProcessorURL){this.serverProcessor=serverProcessorURL;this.action_param="!nativeeditor_status";this.object=null;this.updatedRows=[];this.autoUpdate=true;this.updateMode="cell";this._tMode="GET";this.post_delim="_";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"};this.enableUTFencoding(true);dhtmlxEventable(this);return this;}
dataProcessor.prototype={setTransactionMode:function(mode,total){this._tMode=mode;this._tSend=total;if(mode=="REST"){this._tSend=false;this._endnm=true;}},escape:function(data){if(this._utf)
return encodeURIComponent(data);else
return escape(data);},enableUTFencoding:function(mode){this._utf=convertStringToBoolean(mode);},setDataColumns:function(val){this._columns=(typeof val=="string")?val.split(","):val;},getSyncState:function(){return!this.updatedRows.length;},enableDataNames:function(mode){this._endnm=convertStringToBoolean(mode);},enablePartialDataSend:function(mode){this._changed=convertStringToBoolean(mode);},setUpdateMode:function(mode,dnd){this.autoUpdate=(mode=="cell");this.updateMode=mode;this.dnd=dnd;},ignore:function(code,master){this._silent_mode=true;code.call(master||window);this._silent_mode=false;},setUpdated:function(rowId,state,mode){if(this._silent_mode)return;var ind=this.findRow(rowId);mode=mode||"updated";var existing=this.obj.getUserData(rowId,this.action_param);if(existing&&mode=="updated")mode=existing;if(state){this.set_invalid(rowId,false);this.updatedRows[ind]=rowId;this.obj.setUserData(rowId,this.action_param,mode);if(this._in_progress[rowId])
this._in_progress[rowId]="wait";}else{if(!this.is_invalid(rowId)){this.updatedRows.splice(ind,1);this.obj.setUserData(rowId,this.action_param,"");}}
if(!state)
this._clearUpdateFlag(rowId);this.markRow(rowId,state,mode);if(state&&this.autoUpdate)this.sendData(rowId);},_clearUpdateFlag:function(id){},markRow:function(id,state,mode){var str="";var invalid=this.is_invalid(id);if(invalid){str=this.styles[invalid];state=true;}
if(this.callEvent("onRowMark",[id,state,mode,invalid])){str=this.styles[state?mode:"clear"]+str;this.obj[this._methods[0]](id,str);if(invalid&&invalid.details){str+=this.styles[invalid+"_cell"];for(var i=0;i<invalid.details.length;i++)
if(invalid.details[i])
this.obj[this._methods[1]](id,i,str);}}},getState:function(id){return this.obj.getUserData(id,this.action_param);},is_invalid:function(id){return this._invalid[id];},set_invalid:function(id,mode,details){if(details)mode={value:mode,details:details,toString:function(){return this.value.toString();}};this._invalid[id]=mode;},checkBeforeUpdate:function(rowId){return true;},sendData:function(rowId){if(this._waitMode&&(this.obj.mytype=="tree"||this.obj._h2))return;if(this.obj.editStop)this.obj.editStop();if(typeof rowId=="undefined"||this._tSend)return this.sendAllData();if(this._in_progress[rowId])return false;this.messages=[];if(!this.checkBeforeUpdate(rowId)&&this.callEvent("onValidationError",[rowId,this.messages]))return false;this._beforeSendData(this._getRowData(rowId),rowId);},_beforeSendData:function(data,rowId){if(!this.callEvent("onBeforeUpdate",[rowId,this.getState(rowId),data]))return false;this._sendData(data,rowId);},serialize:function(data,id){if(typeof data=="string")
return data;if(typeof id!="undefined")
return this.serialize_one(data,"");else{var stack=[];var keys=[];for(var key in data)
if(data.hasOwnProperty(key)){stack.push(this.serialize_one(data[key],key+this.post_delim));keys.push(key);}
stack.push("ids="+this.escape(keys.join(",")));if(dhtmlx.security_key)
stack.push("dhx_security="+dhtmlx.security_key);return stack.join("&");}},serialize_one:function(data,pref){if(typeof data=="string")
return data;var stack=[];for(var key in data)
if(data.hasOwnProperty(key)){if((key=="id"||key==this.action_param)&&this._tMode=="REST")continue;stack.push(this.escape((pref||"")+key)+"="+this.escape(data[key]));}
return stack.join("&");},_sendData:function(a1,rowId){if(!a1)return;if(!this.callEvent("onBeforeDataSending",rowId?[rowId,this.getState(rowId),a1]:[null,null,a1]))return false;if(rowId)
this._in_progress[rowId]=(new Date()).valueOf();var a2=new dtmlXMLLoaderObject(function(that,b,c,d,xml){var ids=[];if(rowId)
ids.push(rowId);else if(a1)
for(var key in a1)
ids.push(key);return that.afterUpdate(that,xml,ids);},this,true);var a3=this.serverProcessor+(this._user?(getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&")):"");if(this._tMode=="GET")
a2.loadXML(a3+((a3.indexOf("?")!=-1)?"&":"?")+this.serialize(a1,rowId));else if(this._tMode=="POST")
a2.loadXML(a3,true,this.serialize(a1,rowId));else if(this._tMode=="REST"){var state=this.getState(rowId);var url=a3.replace(/(\&|\?)editing\=true/,"");if(state=="inserted")
a2.loadXML(url+rowId,"POST",this.serialize(a1,rowId));else if(state=="deleted")
a2.loadXML(url+rowId,"DELETE","");else
a2.loadXML(url+rowId,"PUT",this.serialize(a1,rowId));}
this._waitMode++;},sendAllData:function(){if(!this.updatedRows.length)return;this.messages=[];var valid=true;for(var i=0;i<this.updatedRows.length;i++)
valid&=this.checkBeforeUpdate(this.updatedRows[i]);if(!valid&&!this.callEvent("onValidationError",["",this.messages]))return false;if(this._tSend)
this._sendData(this._getAllData());else
for(var i=0;i<this.updatedRows.length;i++)
if(!this._in_progress[this.updatedRows[i]]){if(this.is_invalid(this.updatedRows[i]))continue;this._beforeSendData(this._getRowData(this.updatedRows[i]),this.updatedRows[i]);if(this._waitMode&&(this.obj.mytype=="tree"||this.obj._h2))return;}},_getAllData:function(rowId){var out={};var has_one=false;for(var i=0;i<this.updatedRows.length;i++){var id=this.updatedRows[i];if(this._in_progress[id]||this.is_invalid(id))continue;if(!this.callEvent("onBeforeUpdate",[id,this.getState(id),this._getRowData(id)]))continue;out[id]=this._getRowData(id,id+this.post_delim);has_one=true;this._in_progress[id]=(new Date()).valueOf();}
return has_one?out:null;},setVerificator:function(ind,verifFunction){this.mandatoryFields[ind]=verifFunction||(function(value){return(value!=="");});},clearVerificator:function(ind){this.mandatoryFields[ind]=false;},findRow:function(pattern){var i=0;for(i=0;i<this.updatedRows.length;i++)
if(pattern==this.updatedRows[i])break;return i;},defineAction:function(name,handler){if(!this._uActions)this._uActions=[];this._uActions[name]=handler;},afterUpdateCallback:function(sid,tid,action,btag){var marker=sid;var correct=(action!="error"&&action!="invalid");if(!correct)this.set_invalid(sid,action);if((this._uActions)&&(this._uActions[action])&&(!this._uActions[action](btag)))
return(delete this._in_progress[marker]);if(this._in_progress[marker]!="wait")
this.setUpdated(sid,false);var soid=sid;switch(action){case"inserted":case"insert":if(tid!=sid){this.obj[this._methods[2]](sid,tid);sid=tid;}
break;case"delete":case"deleted":this.obj.setUserData(sid,this.action_param,"true_deleted");this.obj[this._methods[3]](sid);delete this._in_progress[marker];return this.callEvent("onAfterUpdate",[sid,action,tid,btag]);}
if(this._in_progress[marker]!="wait"){if(correct)this.obj.setUserData(sid,this.action_param,'');delete this._in_progress[marker];}else{delete this._in_progress[marker];this.setUpdated(tid,true,this.obj.getUserData(sid,this.action_param));}
this.callEvent("onAfterUpdate",[soid,action,tid,btag]);},afterUpdate:function(that,xml,id){if(window.JSON){try{var tag=JSON.parse(xml.xmlDoc.responseText);var action=tag.action||this.getState(id)||"updated";var sid=tag.sid||id[0];var tid=tag.tid||id[0];that.afterUpdateCallback(sid,tid,action,tag);that.finalizeUpdate();return;}catch(e){}}
xml.getXMLTopNode("data");if(!xml.xmlDoc.responseXML){if(this.obj&&this.obj.callEvent){this.obj.callEvent("onSaveError",[id,xml.xmlDoc]);}
return this.cleanUpdate(id);}
var atag=xml.doXPath("//data/action");if(!atag.length)return this.cleanUpdate(id);for(var i=0;i<atag.length;i++){var btag=atag[i];var action=btag.getAttribute("type");var sid=btag.getAttribute("sid");var tid=btag.getAttribute("tid");that.afterUpdateCallback(sid,tid,action,btag);}
that.finalizeUpdate();},cleanUpdate:function(id){if(id)
for(var i=0;i<id.length;i++)
delete this._in_progress[id[i]];},finalizeUpdate:function(){if(this._waitMode)this._waitMode--;if((this.obj.mytype=="tree"||this.obj._h2)&&this.updatedRows.length)
this.sendData();this.callEvent("onAfterUpdateFinish",[]);if(!this.updatedRows.length)
this.callEvent("onFullSync",[]);},init:function(anObj){this.obj=anObj;if(this.obj._dp_init)
this.obj._dp_init(this);},setOnAfterUpdate:function(ev){this.attachEvent("onAfterUpdate",ev);},enableDebug:function(mode){},setOnBeforeUpdateHandler:function(func){this.attachEvent("onBeforeDataSending",func);},setAutoUpdate:function(interval,user){interval=interval||2000;this._user=user||(new Date()).valueOf();this._need_update=false;this._loader=null;this._update_busy=false;this.attachEvent("onAfterUpdate",function(sid,action,tid,xml_node){this.afterAutoUpdate(sid,action,tid,xml_node);});this.attachEvent("onFullSync",function(){this.fullSync();});var self=this;window.setInterval(function(){self.loadUpdate();},interval);},afterAutoUpdate:function(sid,action,tid,xml_node){if(action=='collision'){this._need_update=true;return false;}else{return true;}},fullSync:function(){if(this._need_update){this._need_update=false;this.loadUpdate();}
return true;},getUpdates:function(url,callback){if(this._update_busy)
return false;else
this._update_busy=true;this._loader=this._loader||new dtmlXMLLoaderObject(true);this._loader.async=true;this._loader.waitCall=callback;this._loader.loadXML(url);},_v:function(node){if(node.firstChild)return node.firstChild.nodeValue;return"";},_a:function(arr){var res=[];for(var i=0;i<arr.length;i++){res[i]=this._v(arr[i]);}
return res;},loadUpdate:function(){var self=this;var version=this.obj.getUserData(0,"version");var url=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+version].join("&");url=url.replace("editing=true&","");this.getUpdates(url,function(){var vers=self._loader.doXPath("//userdata");self.obj.setUserData(0,"version",self._v(vers[0]));var upds=self._loader.doXPath("//update");if(upds.length){self._silent_mode=true;for(var i=0;i<upds.length;i++){var status=upds[i].getAttribute('status');var id=upds[i].getAttribute('id');var parent=upds[i].getAttribute('parent');switch(status){case'inserted':self.callEvent("insertCallback",[upds[i],id,parent]);break;case'updated':self.callEvent("updateCallback",[upds[i],id,parent]);break;case'deleted':self.callEvent("deleteCallback",[upds[i],id,parent]);break;}}
self._silent_mode=false;}
self._update_busy=false;self=null;});}};if(window.dataProcessor&&!dataProcessor.prototype.init_original){dataProcessor.prototype.init_original=dataProcessor.prototype.init;dataProcessor.prototype.init=function(obj){this.init_original(obj);obj._dataprocessor=this;this.setTransactionMode("POST",true);this.serverProcessor+=(this.serverProcessor.indexOf("?")!=-1?"&":"?")+"editing=true";};}
dhtmlxError.catchError("LoadXML",function(a,b,c){var message=c[0].responseText;switch(scheduler.config.ajax_error){case"alert":window.alert(message);break;case"console":window.console.log(message);break;default:break;}});window.Scheduler={_seed:0};Scheduler.plugin=function(code){this._schedulerPlugins.push(code);code(window.scheduler);};Scheduler._schedulerPlugins=[];Scheduler.getSchedulerInstance=function(){var scheduler={version:"4.3.1"};dhtmlxEventable(scheduler);scheduler._detachDomEvent=function(el,event,handler){if(el.removeEventListener){el.removeEventListener(event,handler,false);}else if(el.detachEvent){el.detachEvent("on"+event,handler);}};scheduler._init_once=function(){var oldSize=getWindowSize();dhtmlxEvent(window,"resize",function(){var newSize=getWindowSize();if(!equals(oldSize,newSize)){window.clearTimeout(scheduler._resize_timer);scheduler._resize_timer=window.setTimeout(function(){if(scheduler.callEvent("onSchedulerResize",[])){scheduler.update_view();scheduler.callEvent("onAfterSchedulerResize",[]);}},100);}
oldSize=newSize;});function getWindowSize(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight};}
function equals(a,b){return a.w==b.w&&a.h==b.h;}
scheduler._init_once=function(){};};scheduler.init=function(id,date,mode){date=date||(scheduler._currentDate());mode=mode||"week";if(this._obj){this.unset_actions();}
this._obj=(typeof id=="string")?document.getElementById(id):id;if(this._skin_init)
scheduler._skin_init();scheduler.date.init();this._els=[];this._scroll=true;this._quirks=(_isIE&&document.compatMode=="BackCompat");this._quirks7=(_isIE&&navigator.appVersion.indexOf("MSIE 8")==-1);this.get_elements();this.init_templates();this.set_actions();this._init_once();this._init_touch_events();this.set_sizes();scheduler.callEvent('onSchedulerReady',[]);this.setCurrentView(date,mode);};scheduler.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22};scheduler.keys={edit_save:13,edit_cancel:27};scheduler.set_sizes=function(){var w=this._x=this._obj.clientWidth-this.xy.margin_left;var h=this._y=this._obj.clientHeight-this.xy.margin_top;var scale_x=this._table_view?0:(this.xy.scale_width+this.xy.scroll_width);var scale_s=this._table_view?-1:this.xy.scale_width;this.set_xy(this._els["dhx_cal_navline"][0],w,this.xy.nav_height,0,0);this.set_xy(this._els["dhx_cal_header"][0],w-scale_x,this.xy.scale_height,scale_s,this.xy.nav_height+(this._quirks?-1:1));var actual_height=this._els["dhx_cal_navline"][0].offsetHeight;if(actual_height>0)this.xy.nav_height=actual_height;var data_y=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els["dhx_cal_data"][0],w,h-(data_y+2),0,data_y+2);};scheduler.set_xy=function(node,w,h,x,y){node.style.width=Math.max(0,w)+"px";node.style.height=Math.max(0,h)+"px";if(arguments.length>3){node.style.left=x+"px";node.style.top=y+"px";}};scheduler.get_elements=function(){var els=this._obj.getElementsByTagName("DIV");for(var i=0;i<els.length;i++){var class_name=els[i].className||"";var attr_value=els[i].getAttribute("name")||"";if(class_name)class_name=class_name.split(" ")[0];if(!this._els[class_name])this._els[class_name]=[];this._els[class_name].push(els[i]);var label=scheduler.locale.labels[attr_value||class_name];if(typeof label!=="string"&&attr_value&&!els[i].innerHTML)
label=attr_value.split("_")[0];if(label)
els[i].innerHTML=label;}};scheduler.unset_actions=function(){for(var a in this._els)
if(this._click[a])
for(var i=0;i<this._els[a].length;i++)
this._els[a][i].onclick=null;this._obj.onselectstart=null;this._obj.onmousemove=null;this._obj.onmousedown=null;this._obj.onmouseup=null;this._obj.ondblclick=null;this._obj.oncontextmenu=null;};scheduler.set_actions=function(){for(var a in this._els)
if(this._click[a])
for(var i=0;i<this._els[a].length;i++)
this._els[a][i].onclick=scheduler._click[a];this._obj.onselectstart=function(e){return false;};this._obj.onmousemove=function(e){if(!scheduler._temp_touch_block)
scheduler._on_mouse_move(e||event);};this._obj.onmousedown=function(e){if(!scheduler._ignore_next_click)
scheduler._on_mouse_down(e||event);};this._obj.onmouseup=function(e){if(!scheduler._ignore_next_click)
scheduler._on_mouse_up(e||event);};this._obj.ondblclick=function(e){scheduler._on_dbl_click(e||event);};this._obj.oncontextmenu=function(e){var ev=e||event;var src=ev.target||ev.srcElement;var returnValue=scheduler.callEvent("onContextMenu",[scheduler._locate_event(src),ev]);return returnValue;};};scheduler.select=function(id){if(this._select_id==id)return;scheduler._close_not_saved();this.editStop(false);this.unselect();this._select_id=id;this.updateEvent(id);};scheduler.unselect=function(id){if(id&&id!=this._select_id)return;var t=this._select_id;this._select_id=null;if(t&&this.getEvent(t))this.updateEvent(t);};scheduler.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode};};scheduler._click={dhx_cal_data:function(e){if(scheduler._ignore_next_click){if(e.preventDefault)
e.preventDefault();e.cancelBubble=true;scheduler._ignore_next_click=false;return false;}
var trg=e?e.target:event.srcElement;var id=scheduler._locate_event(trg);e=e||event;if(!id){scheduler.callEvent("onEmptyClick",[scheduler.getActionData(e).date,e]);}else{if(!scheduler.callEvent("onClick",[id,e])||scheduler.config.readonly)return;}
if(id&&scheduler.config.select){scheduler.select(id);var mask=trg.className;if(mask.indexOf("_icon")!=-1)
scheduler._click.buttons[mask.split(" ")[1].replace("icon_","")](id);}else{scheduler._close_not_saved();if(new Date().valueOf()-(scheduler._new_event||0)>500){scheduler.unselect();}}},dhx_cal_prev_button:function(){scheduler._click.dhx_cal_next_button(0,-1);},dhx_cal_next_button:function(dummy,step){scheduler.setCurrentView(scheduler.date.add(scheduler.date[scheduler._mode+"_start"](scheduler._date),(step||1),scheduler._mode));},dhx_cal_today_button:function(){if(scheduler.callEvent("onBeforeTodayDisplayed",[])){scheduler.setCurrentView(scheduler._currentDate());}},dhx_cal_tab:function(){var name=this.getAttribute("name");var mode=name.substring(0,name.search("_tab"));scheduler.setCurrentView(scheduler._date,mode);},buttons:{"delete":function(id){var c=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(c,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(id);});},edit:function(id){scheduler.edit(id);},save:function(id){scheduler.editStop(true);},details:function(id){scheduler.showLightbox(id);},cancel:function(id){scheduler.editStop(false);}}};scheduler._dhtmlx_confirm=function(message,title,callback){if(!message)
return callback();var opts={text:message};if(title)
opts.title=title;if(callback){opts.callback=function(result){if(result)
callback();};}
dhtmlx.confirm(opts);};scheduler.addEventNow=function(start,end,e){var base={};if(start&&start.constructor.toString().match(/object/i)!==null){base=start;start=null;}
var d=(this.config.event_duration||this.config.time_step)*60000;if(!start)start=base.start_date||Math.round((scheduler._currentDate()).valueOf()/d)*d;var start_date=new Date(start);if(!end){var start_hour=this.config.first_hour;if(start_hour>start_date.getHours()){start_date.setHours(start_hour);start=start_date.valueOf();}
end=start.valueOf()+d;}
var end_date=new Date(end);if(start_date.valueOf()==end_date.valueOf())
end_date.setTime(end_date.valueOf()+d);base.start_date=base.start_date||start_date;base.end_date=base.end_date||end_date;base.text=base.text||this.locale.labels.new_event;base.id=this._drag_id=this.uid();this._drag_mode="new-size";this._loading=true;this.addEvent(base);this.callEvent("onEventCreated",[this._drag_id,e]);this._loading=false;this._drag_event={};this._on_mouse_up(e);};scheduler._on_dbl_click=function(e,src){src=src||(e.target||e.srcElement);if(this.config.readonly)return;var name=(src.className||"").split(" ")[0];switch(name){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!scheduler.config.dblclick_create)break;this.addEventNow(this.getActionData(e).date,null,e);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var id=this._locate_event(src);if(!this.callEvent("onDblClick",[id,e]))return;if(this.config.details_on_dblclick||this._table_view||!this.getEvent(id)._timed||!this.config.select)
this.showLightbox(id);else
this.edit(id);break;case"dhx_time_block":case"dhx_cal_container":return;default:var t=this["dblclick_"+name];if(t){t.call(this,e);}
else{if(src.parentNode&&src!=this)
return scheduler._on_dbl_click(e,src.parentNode);}
break;}};scheduler._get_column_index=function(x_pos){var column=0;if(this._cols){var width=0;for(var i=0;i<this._cols.length&&!width;i++){width=this._cols[i];}
if(width){column=x_pos/width;}else{column=0;}
if(this._ignores)
for(var i=0;i<=column;i++)
if(this._ignores[i])
column++;}
return column;};scheduler._week_indexes_from_pos=function(pos){if(!this._cols){return pos;}else{var column=this._get_column_index(pos.x);pos.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(column)-1));pos.y=Math.max(0,Math.ceil(pos.y*60/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step);return pos;}};scheduler._mouse_coords=function(ev){var pos;var b=document.body;var d=document.documentElement;if(!_isIE&&(ev.pageX||ev.pageY))
pos={x:ev.pageX,y:ev.pageY};else pos={x:ev.clientX+(b.scrollLeft||d.scrollLeft||0)-b.clientLeft,y:ev.clientY+(b.scrollTop||d.scrollTop||0)-b.clientTop};pos.x-=getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);pos.y-=getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els["dhx_cal_data"][0].scrollTop;pos.ev=ev;if(scheduler._mode=='timeline'){pos.x+=jQuery(this._obj).scrollLeft()-(jQuery(ev.target).width()/2);}
var handler=this["mouse_"+this._mode];if(handler)
return handler.call(this,pos);if(!this._table_view){pos=this._week_indexes_from_pos(pos);}else{var column=this._get_column_index(pos.x);if(!this._cols||!this._colsS)
return pos;var dy=0;for(dy=1;dy<this._colsS.heights.length;dy++)
if(this._colsS.heights[dy]>pos.y)break;pos.y=Math.ceil((Math.max(0,column)+Math.max(0,dy-1)*7)*24*60/this.config.time_step);if(scheduler._drag_mode||this._mode=="month")
pos.y=(Math.max(0,Math.ceil(column)-1)+Math.max(0,dy-1)*7)*24*60/this.config.time_step;if(this._drag_mode=="move"){if(scheduler._ignores_detected&&scheduler.config.preserve_length){pos._ignores=true;if(!this._drag_event._event_length)
this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"});}}
pos.x=0;}
return pos;};scheduler._close_not_saved=function(){if(new Date().valueOf()-(scheduler._new_event||0)>500&&scheduler._edit_id){var c=scheduler.locale.labels.confirm_closing;scheduler._dhtmlx_confirm(c,scheduler.locale.labels.title_confirm_closing,function(){scheduler.editStop(scheduler.config.positive_closing);});if(c){this._drag_id=this._drag_pos=this._drag_mode=null;}}};scheduler._correct_shift=function(start,back){return start-=((new Date(scheduler._min_date)).getTimezoneOffset()-(new Date(start)).getTimezoneOffset())*60000*(back?-1:1);};scheduler._is_pos_changed=function(old_pos,new_pos){function diff(old_val,new_val,acc){return!!(Math.abs(old_val-new_val)>acc);}
if(!(old_pos&&this._drag_pos)){return true;}
var delay=100,d_pos=5;return!!(!this._drag_pos.start||(+new Date()-this._drag_pos.start>delay)||diff(old_pos.x,new_pos.x,d_pos)||diff(old_pos.y,new_pos.y,d_pos));};scheduler._on_mouse_move=function(e){if(this._drag_mode){var pos=this._mouse_coords(e);if(pos.force_redraw||this._is_pos_changed(this._drag_pos,pos)){var start,end;if(this._edit_id!=this._drag_id)
this._close_not_saved();if(!this._drag_mode)
return;this._drag_pos=pos;this._drag_pos.has_moved=true;if(this._drag_mode=="create"){this._close_not_saved();this.unselect(this._select_id);this._loading=true;start=this._get_date_from_pos(pos).valueOf();if(!this._drag_start){var res=this.callEvent("onBeforeEventCreated",[e,this._drag_id]);if(!res)
return;this._drag_start=start;return;}
end=start;if(end==this._drag_start){}
var start_date=new Date(this._drag_start);var end_date=new Date(end);if((this._mode=="day"||this._mode=="week")&&(start_date.getHours()==end_date.getHours()&&start_date.getMinutes()==end_date.getMinutes())){end_date=new Date(this._drag_start+1000);}
this._drag_id=this.uid();this.addEvent(start_date,end_date,this.locale.labels.new_event,this._drag_id,pos.fields);this.callEvent("onEventCreated",[this._drag_id,e]);this._loading=false;this._drag_mode="new-size";}
var ev=this.getEvent(this._drag_id);var obj;if(this._drag_mode=="move"){start=this._min_date.valueOf()+(pos.y*this.config.time_step+pos.x*24*60-(scheduler._move_pos_shift||0))*60000;if(!pos.custom&&this._table_view)start+=this.date.time_part(ev.start_date)*1000;start=this._correct_shift(start);if(pos._ignores&&this.config.preserve_length&&this._table_view){if(this.matrix)
obj=this.matrix[this._mode];obj=obj||{x_step:1,x_unit:"day"};end=start*1+this._get_fictional_event_length(start,this._drag_event._event_length,obj);}else
end=ev.end_date.valueOf()-(ev.start_date.valueOf()-start);}else{start=ev.start_date.valueOf();end=ev.end_date.valueOf();if(this._table_view){var resize_date=this._min_date.valueOf()+pos.y*this.config.time_step*60000+(pos.custom?0:24*60*60000);if(this._mode=="month"){resize_date=this._correct_shift(resize_date,false);if(this._drag_from_start){var day=24*60*60000;if(resize_date<=scheduler.date.date_part(new Date(end+day-1)).valueOf())
start=resize_date-day;}else{end=resize_date;}}else{if(pos.resize_from_start)
start=resize_date;else
end=resize_date;}}else{end=this.date.date_part(new Date(ev.end_date.valueOf()-1)).valueOf()+pos.y*this.config.time_step*60000;this._els["dhx_cal_data"][0].style.cursor="s-resize";if(this._mode=="week"||this._mode=="day")
end=this._correct_shift(end);}
if(this._drag_mode=="new-size"){if(end<=this._drag_start){var shift=pos.shift||((this._table_view&&!pos.custom)?24*60*60000:0);start=end-(pos.shift?0:shift);end=this._drag_start+(shift||(this.config.time_step*60000));}else{start=this._drag_start;}}else{if(end<=start)
end=start+this.config.time_step*60000;}}
var new_end=new Date(end-1);var new_start=new Date(start);if(scheduler.config.limit_drag_out&&(+new_start<+scheduler._min_date||+end>+scheduler._max_date)){var duration=end-new_start;if(+new_start<+scheduler._min_date){new_start=new Date(scheduler._min_date);end=new Date(+new_start+duration);}else{end=new Date(scheduler._max_date);new_start=new Date(+end-duration);}
var new_end=new Date(end-1);}
if(!this._table_view&&!scheduler.config.all_timed&&((!scheduler._get_section_view()&&pos.x!=this._get_event_sday({start_date:new Date(end),end_date:new Date(end)}))||new Date(end).getHours()>=this.config.last_hour)){var duration=end-new_start;var day=this._min_date.valueOf()+(pos.x*24*60)*60000;end=scheduler.date.date_part(new Date(day));end.setHours(this.config.last_hour);new_end=new Date(end-1);if(this._drag_mode=="move"){new_start=new Date(+end-duration);}}
if(this._table_view||(new_end.getDate()==new_start.getDate()&&new_end.getHours()<this.config.last_hour)||scheduler._allow_dnd){ev.start_date=new_start;ev.end_date=new Date(end);if(this.config.update_render){var sx=scheduler._els["dhx_cal_data"][0].scrollTop;this.update_view();scheduler._els["dhx_cal_data"][0].scrollTop=sx;}else
this.updateEvent(this._drag_id);}
if(this._table_view){this.for_rendered(this._drag_id,function(r){r.className+=" dhx_in_move";});}
this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,e]);}}else{if(scheduler.checkEvent("onMouseMove")){var id=this._locate_event(e.target||e.srcElement);this.callEvent("onMouseMove",[id,e]);}}};scheduler._on_mouse_down=function(e,src){if(e.button==2)
return;if(this.config.readonly||this._drag_mode)return;src=src||(e.target||e.srcElement);var classname=src.className&&src.className.split(" ")[0];switch(classname){case"dhx_cal_event_line":case"dhx_cal_event_clear":if(this._table_view)
this._drag_mode="move";break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize";if((src.className||"").indexOf("dhx_event_resize_end")<0){scheduler._drag_from_start=true;}else{scheduler._drag_from_start=false;}
break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(src.parentNode)
return scheduler._on_mouse_down(e,src.parentNode);break;default:if(!scheduler.checkEvent("onMouseDown")||scheduler.callEvent("onMouseDown",[classname])){if(src.parentNode&&src!=this&&classname!="dhx_body"){return scheduler._on_mouse_down(e,src.parentNode);}}
this._drag_mode=null;this._drag_id=null;break;}
if(this._drag_mode){var id=this._locate_event(src);if(!this.config["drag_"+this._drag_mode]||!this.callEvent("onBeforeDrag",[id,this._drag_mode,e]))
this._drag_mode=this._drag_id=0;else{this._drag_id=id;if(this._edit_id!=this._drag_id||(this._edit_id&&this._drag_mode=="create"))
this._close_not_saved();if(!this._drag_mode)
return;this._drag_event=scheduler._lame_clone(this.getEvent(this._drag_id)||{});this._drag_pos=this._mouse_coords(e);this._drag_pos.start=+new Date();}}
this._drag_start=null;};scheduler._get_private_properties=function(event){var fields={};for(var i in event){if(i.indexOf("_")===0){fields[i]=true;}}
return fields;};scheduler._clear_temporary_properties=function(clean,flagged_event){var initial=this._get_private_properties(clean);var current_state=this._get_private_properties(flagged_event);for(var i in current_state){if(!initial[i]){delete flagged_event[i];}}};scheduler._on_mouse_up=function(e){if(e&&e.button==2&&scheduler.config.touch)return;if(this._drag_mode&&this._drag_id){this._els["dhx_cal_data"][0].style.cursor="default";var drag_id=this._drag_id;var mode=this._drag_mode;var moved=!this._drag_pos||this._drag_pos.has_moved;var ev=this.getEvent(this._drag_id);if(moved&&(this._drag_event._dhx_changed||!this._drag_event.start_date||ev.start_date.valueOf()!=this._drag_event.start_date.valueOf()||ev.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var is_new=(this._drag_mode=="new-size");if(!this.callEvent("onBeforeEventChanged",[ev,e,is_new,this._drag_event])){if(is_new)
this.deleteEvent(ev.id,true);else{this._drag_event._dhx_changed=false;this._clear_temporary_properties(ev,this._drag_event);scheduler._lame_copy(ev,this._drag_event);this.updateEvent(ev.id);}}else{this._drag_id=this._drag_mode=null;if(is_new&&this.config.edit_on_create){this.unselect();this._new_event=new Date();if(this._table_view||this.config.details_on_create||!this.config.select){scheduler.callEvent("onDragEnd",[drag_id,mode,e]);return this.showLightbox(drag_id);}
this._drag_pos=true;this._select_id=this._edit_id=drag_id;}else{if(!this._new_event)
this.callEvent(is_new?"onEventAdded":"onEventChanged",[drag_id,this.getEvent(drag_id)]);}}}
if(this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===true))this.render_view_data();scheduler.callEvent("onDragEnd",[drag_id,mode,e]);}
this._drag_id=null;this._drag_mode=null;this._drag_pos=null;};scheduler._trigger_dyn_loading=function(){if(this._load_mode&&this._load()){this._render_wait=true;return true;}else{return false;}};scheduler.update_view=function(){var view=this[this._mode+"_view"];if(view){view(true);}else{this._reset_scale();}
if(this._trigger_dyn_loading()){return true;}
this.render_view_data();};scheduler.isViewExists=function(mode){return!!(scheduler[mode+"_view"]||(scheduler.date[mode+"_start"]&&scheduler.templates[mode+"_date"]&&scheduler.templates[mode+"_scale_date"]));};scheduler.updateView=function(date,mode){date=date||this._date;mode=mode||this._mode;var dhx_cal_data='dhx_cal_data';if(!this._mode)
this._obj.className+=" dhx_scheduler_"+mode;else{this._obj.className=this._obj.className.replace("dhx_scheduler_"+this._mode,"dhx_scheduler_"+mode);}
var prev_scroll=(this._mode==mode&&this.config.preserve_scroll)?this._els[dhx_cal_data][0].scrollTop:false;if(this[this._mode+"_view"]&&mode&&this._mode!=mode)
this[this._mode+"_view"](false);this._close_not_saved();var dhx_multi_day='dhx_multi_day';if(this._els[dhx_multi_day]){this._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);this._els[dhx_multi_day]=null;}
this._mode=mode;this._date=date;this._table_view=(this._mode=="month");this._dy_shift=0;var tabs=this._els["dhx_cal_tab"];if(tabs){for(var i=0;i<tabs.length;i++){var name=tabs[i].className;name=name.replace(/ active/g,"");if(tabs[i].getAttribute("name")==this._mode+"_tab")
name=name+" active";tabs[i].className=name;}}
this.update_view();if(typeof prev_scroll=="number")
this._els[dhx_cal_data][0].scrollTop=prev_scroll;};scheduler.setCurrentView=function(date,mode){if(!this.callEvent("onBeforeViewChange",[this._mode,this._date,mode||this._mode,date||this._date]))return;this.updateView(date,mode);this.callEvent("onViewChange",[this._mode,this._date]);};scheduler._render_x_header=function(i,left,d,h,offset_top){offset_top=offset_top||0;var head=document.createElement("DIV");head.className="dhx_scale_bar";if(this.templates[this._mode+"_scalex_class"]){head.className+=' '+this.templates[this._mode+"_scalex_class"](d);}
var width=this._cols[i]-1;if(this._mode=="month"&&i===0&&this.config.left_border){head.className+=" dhx_scale_bar_border";left=left+1;}
this.set_xy(head,width,this.xy.scale_height-2,left,offset_top);head.innerHTML=this.templates[this._mode+"_scale_date"](d,this._mode);h.appendChild(head);};scheduler._get_columns_num=function(from,to){var count=7;if(!scheduler._table_view){var count_n=scheduler.date["get_"+scheduler._mode+"_end"];if(count_n)to=count_n(from);count=Math.round((to.valueOf()-from.valueOf())/(1000*60*60*24));}
return count;};scheduler._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()));};scheduler._get_view_end=function(){var dd=this._get_timeunit_start();var ed=scheduler.date.add(dd,1,this._mode);if(!scheduler._table_view){var count_n=scheduler.date["get_"+scheduler._mode+"_end"];if(count_n)ed=count_n(dd);}
return ed;};scheduler._calc_scale_sizes=function(width,from,to){var summ=width;var count=this._get_columns_num(from,to);this._process_ignores(from,count,"day",1);var realcount=count-this._ignores_detected;for(var i=0;i<count;i++){if(this._ignores[i]){this._cols[i]=0;realcount++;}else{this._cols[i]=Math.floor(summ/(realcount-i));}
summ-=this._cols[i];this._colsS[i]=(this._cols[i-1]||0)+(this._colsS[i-1]||(this._table_view?0:this.xy.scale_width+2));}
this._colsS['col_length']=count;this._colsS[count]=(this._cols[count-1]+this._colsS[count-1])||0;};scheduler._set_scale_col_size=function(div,width,left){var c=this.config;this.set_xy(div,width-1,c.hour_size_px*(c.last_hour-c.first_hour),left+this.xy.scale_width+1,0);};scheduler._render_scales=function(header,data_area){var sd=new Date(scheduler._min_date),ed=new Date(scheduler._max_date),today=this.date.date_part(scheduler._currentDate());var summ=parseInt(header.style.width,10);var d=new Date(this._min_date);var count=this._get_columns_num(sd,ed);this._calc_scale_sizes(summ,sd,ed);var left=0;header.innerHTML="";for(var i=0;i<count;i++){if(!this._ignores[i]){this._render_x_header(i,left,d,header);}
if(!this._table_view){var scales=document.createElement("DIV");var cls="dhx_scale_holder";if(d.valueOf()==today.valueOf())cls="dhx_scale_holder_now";if(this._ignores_detected&&this._ignores[i]){cls+=" dhx_scale_ignore";}
scales.className=cls+" "+this.templates.week_date_class(d,today);this._set_scale_col_size(scales,this._cols[i],left);data_area.appendChild(scales);this.callEvent("onScaleAdd",[scales,d]);}
left+=this._cols[i];d=this.date.add(d,1,"day");d=this.date.day_start(d);}};scheduler._reset_scale=function(){if(!this.templates[this._mode+"_date"])return;var h=this._els["dhx_cal_header"][0];var data_area=this._els["dhx_cal_data"][0];var c=this.config;h.innerHTML="";data_area.innerHTML="";var str=((c.readonly||(!c.drag_resize))?" dhx_resize_denied":"")+((c.readonly||(!c.drag_move))?" dhx_move_denied":"");data_area.className="dhx_cal_data"+str;this._scales={};this._cols=[];this._colsS={height:0};this._dy_shift=0;this.set_sizes();var d,sd,today;var dd=this._get_timeunit_start(),ed=scheduler._get_view_end();d=sd=this._table_view?scheduler.date.week_start(dd):dd;this._min_date=d;this._els["dhx_cal_date"][0].innerHTML=this.templates[this._mode+"_date"](dd,ed,this._mode);this._max_date=ed;scheduler._render_scales(h,data_area);if(this._table_view)
this._reset_month_scale(data_area,dd,sd);else{this._reset_hours_scale(data_area,dd,sd);if(c.multi_day){var dhx_multi_day='dhx_multi_day';if(this._els[dhx_multi_day]){this._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);this._els[dhx_multi_day]=null;}
var navline=this._els["dhx_cal_navline"][0];var top=navline.offsetHeight+this._els["dhx_cal_header"][0].offsetHeight+1;var c1=document.createElement("DIV");c1.className=dhx_multi_day;c1.style.visibility="hidden";this.set_xy(c1,Math.max(this._colsS[this._colsS.col_length]+this.xy.scroll_width-2,0),0,0,top);data_area.parentNode.insertBefore(c1,data_area);var c2=c1.cloneNode(true);c2.className=dhx_multi_day+"_icon";c2.style.visibility="hidden";this.set_xy(c2,this.xy.scale_width,0,0,top);c1.appendChild(c2);this._els[dhx_multi_day]=[c1,c2];this._els[dhx_multi_day][0].onclick=this._click.dhx_cal_data;}}};scheduler._reset_hours_scale=function(b,dd,sd){var c=document.createElement("DIV");c.className="dhx_scale_holder";var date=new Date(1980,1,1,this.config.first_hour,0,0);for(var i=this.config.first_hour*1;i<this.config.last_hour;i++){var cc=document.createElement("DIV");cc.className="dhx_scale_hour";cc.style.height=this.config.hour_size_px-(this._quirks?0:1)+"px";var width=this.xy.scale_width;if(this.config.left_border){width=width-1;cc.className+=" dhx_scale_hour_border";}
cc.style.width=width+"px";cc.innerHTML=scheduler.templates.hour_scale(date);c.appendChild(cc);date=this.date.add(date,1,"hour");}
b.appendChild(c);if(this.config.scroll_hour)
b.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour);};scheduler._currentDate=function(){if(scheduler.config.now_date){return new Date(scheduler.config.now_date);}
return new Date();};scheduler._process_ignores=function(sd,n,mode,step,preserve){this._ignores={};this._ignores_detected=0;var ignore=scheduler["ignore_"+this._mode];if(ignore){var ign_date=new Date(sd);for(var i=0;i<n;i++){if(ignore(ign_date)){this._ignores_detected+=1;this._ignores[i]=true;if(preserve)
n++;}
ign_date=scheduler.date.add(ign_date,step,mode);if(scheduler.date[mode+'_start'])
ign_date=scheduler.date[mode+'_start'](ign_date);}}};scheduler._render_month_scale=function(div,dd,sd){var ed=scheduler.date.add(dd,1,"month"),view_start=new Date(sd);var cd=scheduler._currentDate();this.date.date_part(cd);this.date.date_part(sd);var rows=Math.ceil(Math.round((ed.valueOf()-sd.valueOf())/(60*60*24*1000))/7);var tdcss=[];for(var i=0;i<=7;i++){var cell_width=((this._cols[i]||0)-1);if(i===0&&this.config.left_border){cell_width=cell_width-1;}
tdcss[i]=" style='width:"+cell_width+"px;";}
function getCellHeight(row){var h=scheduler._colsS.height;if(scheduler._colsS.heights[row+1]!==undefined){h=scheduler._colsS.heights[row+1]-(scheduler._colsS.heights[row]||0);}
return h;}
var cellheight=0;var html="<table cellpadding='0' cellspacing='0'>";var rendered_dates=[];for(var i=0;i<rows;i++){html+="<tr>";var row_height=Math.max(getCellHeight(i)-scheduler.xy.month_head_height,0);for(var j=0;j<7;j++){html+="<td";var cls="";if(sd<dd)
cls='dhx_before';else if(sd>=ed)
cls='dhx_after';else if(sd.valueOf()==cd.valueOf())
cls='dhx_now';if(this._ignores_detected&&this._ignores[j]){cls+=" dhx_scale_ignore";}
html+=" class='"+cls+" "+this.templates.month_date_class(sd,cd)+"' >";var body_class="dhx_month_body";var head_class="dhx_month_head";if(j===0&&this.config.left_border){body_class+=" dhx_month_body_border";head_class+=" dhx_month_head_border";}
if(!this._ignores_detected||!this._ignores[j]){html+="<div class='"+head_class+"'>"+this.templates.month_day(sd)+"</div>";html+="<div class='"+body_class+"' "+tdcss[j]+";height:"+row_height+"px;'></div></td>";}else{html+="<div></div><div></div>";}
rendered_dates.push(sd);var bf1=sd.getDate();sd=this.date.add(sd,1,"day");if(sd.getDate()-bf1>1)
sd=new Date(sd.getFullYear(),sd.getMonth(),bf1+1,12,0);}
html+="</tr>";scheduler._colsS.heights[i]=cellheight;cellheight+=getCellHeight(i);}
html+="</table>";this._min_date=view_start;this._max_date=sd;div.innerHTML=html;this._scales={};var divs=div.getElementsByTagName('div');for(var i=0;i<rendered_dates.length;i++){var div=divs[(i*2)+1];var date=rendered_dates[i];this._scales[+date]=div;}
for(var i=0;i<rendered_dates.length;i++){var date=rendered_dates[i];this.callEvent("onScaleAdd",[this._scales[+date],date]);}
return this._max_date;};scheduler._reset_month_scale=function(b,dd,sd){var ed=scheduler.date.add(dd,1,"month");var cd=scheduler._currentDate();this.date.date_part(cd);this.date.date_part(sd);var rows=Math.ceil(Math.round((ed.valueOf()-sd.valueOf())/(60*60*24*1000))/7);var height=(Math.floor(b.clientHeight/rows)-this.xy.month_head_height);this._colsS.height=height+this.xy.month_head_height;this._colsS.heights=[];return scheduler._render_month_scale(b,dd,sd);};scheduler.getLabel=function(property,key){var sections=this.config.lightbox.sections;for(var i=0;i<sections.length;i++){if(sections[i].map_to==property){var options=sections[i].options;for(var j=0;j<options.length;j++){if(options[j].key==key){return options[j].label;}}}}
return"";};scheduler.updateCollection=function(list_name,collection){var list=scheduler.serverList(list_name);if(!list)return false;list.splice(0,list.length);list.push.apply(list,collection||[]);scheduler.callEvent("onOptionsLoad",[]);scheduler.resetLightbox();return true;};scheduler._lame_clone=function(object,cache){var i,t,result;cache=cache||[];for(i=0;i<cache.length;i+=2)
if(object===cache[i])
return cache[i+1];if(object&&typeof object=="object"){result={};t=[Array,Date,Number,String,Boolean];for(i=0;i<t.length;i++){if(object instanceof t[i])
result=i?new t[i](object):new t[i]();}
cache.push(object,result);for(i in object){if(Object.prototype.hasOwnProperty.apply(object,[i]))
result[i]=scheduler._lame_clone(object[i],cache);}}
return result||object;};scheduler._lame_copy=function(target,source){for(var key in source){if(source.hasOwnProperty(key)){target[key]=source[key];}}
return target;};scheduler._get_date_from_pos=function(pos){var start=this._min_date.valueOf()+(pos.y*this.config.time_step+(this._table_view?0:pos.x)*24*60)*60000;return new Date(this._correct_shift(start));};scheduler.getActionData=function(n_ev){var pos=this._mouse_coords(n_ev);return{date:this._get_date_from_pos(pos),section:pos.section};};scheduler._focus=function(node,select){if(node&&node.focus){if(this.config.touch){window.setTimeout(function(){node.focus();},100);}else{if(select&&node.select)node.select();node.focus();}}};scheduler._get_real_event_length=function(sd,fd,obj){var ev_length=fd-sd;var hours=(obj._start_correction+obj._end_correction)||0;var ignore=this["ignore_"+this._mode];var start_slot=0,end_slot;if(obj.render){start_slot=this._get_date_index(obj,sd);end_slot=this._get_date_index(obj,fd);}else{end_slot=Math.round(ev_length/60/60/1000/24);}
while(start_slot<end_slot){var check=scheduler.date.add(fd,-obj.x_step,obj.x_unit);if(ignore&&ignore(fd))
ev_length-=(fd-check);else
ev_length-=hours;fd=check;end_slot--;}
return ev_length;};scheduler._get_fictional_event_length=function(end_date,ev_length,obj,back){var sd=new Date(end_date);var dir=back?-1:1;if(obj._start_correction||obj._end_correction){var today;if(back)
today=(sd.getHours()*60+sd.getMinutes())-(obj.first_hour||0)*60;else
today=(obj.last_hour||0)*60-(sd.getHours()*60+sd.getMinutes());var per_day=(obj.last_hour-obj.first_hour)*60;var days=Math.ceil((ev_length/(60*1000)-today)/per_day);ev_length+=days*(24*60-per_day)*60*1000;}
var fd=new Date(end_date*1+ev_length*dir);var ignore=this["ignore_"+this._mode];var start_slot=0,end_slot;if(obj.render){start_slot=this._get_date_index(obj,sd);end_slot=this._get_date_index(obj,fd);}else{end_slot=Math.round(ev_length/60/60/1000/24);}
while(start_slot*dir<=end_slot*dir){var check=scheduler.date.add(sd,obj.x_step*dir,obj.x_unit);if(ignore&&ignore(sd)){ev_length+=(check-sd)*dir;end_slot+=dir;}
sd=check;start_slot+=dir;}
return ev_length;};scheduler._get_section_view=function(){if(this.matrix&&this.matrix[this._mode]){return this.matrix[this._mode];}else if(this._props&&this._props[this._mode]){return this._props[this._mode];}
return null;};scheduler._get_section_property=function(){if(this.matrix&&this.matrix[this._mode]){return this.matrix[this._mode].y_property;}else if(this._props&&this._props[this._mode]){return this._props[this._mode].map_to;}
return null;};scheduler._is_initialized=function(){var state=this.getState();return(this._obj&&state.date&&state.mode);};scheduler._is_lightbox_open=function(){var state=this.getState();return state.lightbox_id!==null&&state.lightbox_id!==undefined;};scheduler.date={init:function(){var s=scheduler.locale.date.month_short;var t=scheduler.locale.date.month_short_hash={};for(var i=0;i<s.length;i++)
t[s[i]]=i;var s=scheduler.locale.date.month_full;var t=scheduler.locale.date.month_full_hash={};for(var i=0;i<s.length;i++)
t[s[i]]=i;},_bind_host_object:function(method){if(method.bind){return method.bind(scheduler);}else{return function(){return method.apply(scheduler,arguments);};}},date_part:function(date){var old=new Date(date);date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);if(date.getHours()&&(date.getDate()<old.getDate()||date.getMonth()<old.getMonth()||date.getFullYear()<old.getFullYear()))
date.setTime(date.getTime()+60*60*1000*(24-date.getHours()));return date;},time_part:function(date){return(date.valueOf()/1000-date.getTimezoneOffset()*60)%86400;},week_start:function(date){var shift=date.getDay();if(scheduler.config.start_on_monday){if(shift===0)shift=6;else shift--;}
return this.date_part(this.add(date,-1*shift,"day"));},month_start:function(date){date.setDate(1);return this.date_part(date);},year_start:function(date){date.setMonth(0);return this.month_start(date);},day_start:function(date){return this.date_part(date);},_add_days:function(date,inc){var ndate=new Date(date.valueOf());ndate.setDate(ndate.getDate()+inc);if(inc>=0&&(!date.getHours()&&ndate.getHours())&&(ndate.getDate()<date.getDate()||ndate.getMonth()<date.getMonth()||ndate.getFullYear()<date.getFullYear()))
ndate.setTime(ndate.getTime()+60*60*1000*(24-ndate.getHours()));return ndate;},add:function(date,inc,mode){var ndate=new Date(date.valueOf());switch(mode){case"day":ndate=scheduler.date._add_days(ndate,inc);break;case"week":ndate=scheduler.date._add_days(ndate,inc*7);break;case"month":ndate.setMonth(ndate.getMonth()+inc);break;case"year":ndate.setYear(ndate.getFullYear()+inc);break;case"hour":ndate.setTime(ndate.getTime()+inc*60*60*1000);break;case"minute":ndate.setTime(ndate.getTime()+inc*60*1000);break;default:return scheduler.date["add_"+mode](date,inc,mode);}
return ndate;},to_fixed:function(num){if(num<10)return"0"+num;return num;},copy:function(date){return new Date(date.valueOf());},date_to_str:function(format,utc){format=format.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return"\"+this.date.to_fixed(date.getDate())+\"";case"%m":return"\"+this.date.to_fixed((date.getMonth()+1))+\"";case"%j":return"\"+date.getDate()+\"";case"%n":return"\"+(date.getMonth()+1)+\"";case"%y":return"\"+this.date.to_fixed(date.getFullYear()%100)+\"";case"%Y":return"\"+date.getFullYear()+\"";case"%D":return"\"+this.locale.date.day_short[date.getDay()]+\"";case"%l":return"\"+this.locale.date.day_full[date.getDay()]+\"";case"%M":return"\"+this.locale.date.month_short[date.getMonth()]+\"";case"%F":return"\"+this.locale.date.month_full[date.getMonth()]+\"";case"%h":return"\"+this.date.to_fixed((date.getHours()+11)%12+1)+\"";case"%g":return"\"+((date.getHours()+11)%12+1)+\"";case"%G":return"\"+date.getHours()+\"";case"%H":return"\"+this.date.to_fixed(date.getHours())+\"";case"%i":return"\"+this.date.to_fixed(date.getMinutes())+\"";case"%a":return"\"+(date.getHours()>11?\"pm\":\"am\")+\"";case"%A":return"\"+(date.getHours()>11?\"PM\":\"AM\")+\"";case"%s":return"\"+this.date.to_fixed(date.getSeconds())+\"";case"%W":return"\"+this.date.to_fixed(this.date.getISOWeek(date))+\"";default:return a;}});if(utc)format=format.replace(/date\.get/g,"date.getUTC");var func=new Function("date","return \""+format+"\";");return scheduler.date._bind_host_object(func);},str_to_date:function(format,utc){var splt="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);";var mask=format.match(/%[a-zA-Z]/g);for(var i=0;i<mask.length;i++){switch(mask[i]){case"%j":case"%d":splt+="set[2]=temp["+i+"]||1;";break;case"%n":case"%m":splt+="set[1]=(temp["+i+"]||1)-1;";break;case"%y":splt+="set[0]=temp["+i+"]*1+(temp["+i+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":splt+="set[3]=temp["+i+"]||0;";break;case"%i":splt+="set[4]=temp["+i+"]||0;";break;case"%Y":splt+="set[0]=temp["+i+"]||0;";break;case"%a":case"%A":splt+="set[3]=set[3]%12+((temp["+i+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":splt+="set[5]=temp["+i+"]||0;";break;case"%M":splt+="set[1]=this.locale.date.month_short_hash[temp["+i+"]]||0;";break;case"%F":splt+="set[1]=this.locale.date.month_full_hash[temp["+i+"]]||0;";break;default:break;}}
var code="set[0],set[1],set[2],set[3],set[4],set[5]";if(utc)code=" Date.UTC("+code+")";var func=new Function("date","var set=[0,0,1,0,0,0]; "+splt+" return new Date("+code+");");return scheduler.date._bind_host_object(func);},getISOWeek:function(ndate){if(!ndate)return false;var nday=ndate.getDay();if(nday===0){nday=7;}
var first_thursday=new Date(ndate.valueOf());first_thursday.setDate(ndate.getDate()+(4-nday));var year_number=first_thursday.getFullYear();var ordinal_date=Math.round((first_thursday.getTime()-new Date(year_number,0,1).getTime())/86400000);var week_number=1+Math.floor(ordinal_date/7);return week_number;},getUTCISOWeek:function(ndate){return this.getISOWeek(this.convert_to_utc(ndate));},convert_to_utc:function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds());}};scheduler.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel"}};scheduler.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",xml_date:"%m/%d/%Y %H:%i",api_date:"%d-%m-%Y %H:%i",preserve_length:true,time_step:5,start_on_monday:1,first_hour:0,last_hour:24,readonly:false,drag_resize:1,drag_move:1,drag_create:1,dblclick_create:1,edit_on_create:1,details_on_create:0,resize_month_events:false,resize_month_timed:false,cascade_event_display:false,cascade_event_count:4,cascade_event_margin:30,multi_day:true,multi_day_height_limit:0,drag_lightbox:true,preserve_scroll:true,select:true,server_utc:false,touch:true,touch_tip:true,touch_drag:500,quick_info_detached:true,positive_closing:false,drag_highlight:true,limit_drag_out:false,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",height:200,map_to:"text",type:"textarea",focus:true},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:true,left_border:false,ajax_error:"alert",delay_render:0};scheduler.templates={};scheduler.init_templates=function(){var labels=scheduler.locale.labels;labels.dhx_save_btn=labels.icon_save;labels.dhx_cancel_btn=labels.icon_cancel;labels.dhx_delete_btn=labels.icon_delete;var d=scheduler.date.date_to_str;var c=scheduler.config;var f=function(a,b){for(var c in b)
if(!a[c])a[c]=b[c];};f(scheduler.templates,{day_date:d(c.default_date),month_date:d(c.month_date),week_date:function(d1,d2){return scheduler.templates.day_date(d1)+" &ndash; "+scheduler.templates.day_date(scheduler.date.add(d2,-1,"day"));},day_scale_date:d(c.default_date),month_scale_date:d(c.week_date),week_scale_date:d(c.day_date),hour_scale:d(c.hour_date),time_picker:d(c.hour_date),event_date:d(c.hour_date),month_day:d(c.month_day),xml_date:scheduler.date.str_to_date(c.xml_date,c.server_utc),load_format:d(c.load_date,c.server_utc),xml_format:d(c.xml_date,c.server_utc),api_date:scheduler.date.str_to_date(c.api_date),event_header:function(start,end,ev){return scheduler.templates.event_date(start)+" - "+scheduler.templates.event_date(end);},event_text:function(start,end,ev){return ev.text;},event_class:function(start,end,ev){return"";},month_date_class:function(d){return"";},week_date_class:function(d){return"";},event_bar_date:function(start,end,ev){return scheduler.templates.event_date(start)+" ";},event_bar_text:function(start,end,ev){return ev.text;},month_events_link:function(date,count){return"<a>View more("+count+" events)</a>";},drag_marker_class:function(start,end,event){return"";},drag_marker_content:function(start,end,event){return"";}});this.callEvent("onTemplatesReady",[]);};scheduler.uid=function(){if(!this._seed)this._seed=(new Date()).valueOf();return this._seed++;};scheduler._events={};scheduler.clearAll=function(){this._events={};this._loaded={};this._edit_id=null;this._select_id=null;this._drag_id=null;this._drag_mode=null;this._drag_pos=null;this.clear_view();this.callEvent("onClearAll",[]);};scheduler.addEvent=function(start_date,end_date,text,id,extra_data){if(!arguments.length)
return this.addEventNow();var ev=start_date;if(arguments.length!=1){ev=extra_data||{};ev.start_date=start_date;ev.end_date=end_date;ev.text=text;ev.id=id;}
ev.id=ev.id||scheduler.uid();ev.text=ev.text||"";if(typeof ev.start_date=="string")ev.start_date=this.templates.api_date(ev.start_date);if(typeof ev.end_date=="string")ev.end_date=this.templates.api_date(ev.end_date);var d=(this.config.event_duration||this.config.time_step)*60000;if(ev.start_date.valueOf()==ev.end_date.valueOf())
ev.end_date.setTime(ev.end_date.valueOf()+d);ev._timed=this.isOneDayEvent(ev);var is_new=!this._events[ev.id];this._events[ev.id]=ev;this.event_updated(ev);if(!this._loading)
this.callEvent(is_new?"onEventAdded":"onEventChanged",[ev.id,ev]);return ev.id;};scheduler.deleteEvent=function(id,silent){var ev=this._events[id];if(!silent&&(!this.callEvent("onBeforeEventDelete",[id,ev])||!this.callEvent("onConfirmedBeforeEventDelete",[id,ev])))
return;if(ev){this._select_id=null;delete this._events[id];this.event_updated(ev);}
this.callEvent("onEventDeleted",[id,ev]);};scheduler.getEvent=function(id){return this._events[id];};scheduler.setEvent=function(id,hash){if(!hash.id)
hash.id=id;this._events[id]=hash;};scheduler.for_rendered=function(id,method){for(var i=this._rendered.length-1;i>=0;i--)
if(this._rendered[i].getAttribute("event_id")==id)
method(this._rendered[i],i);};scheduler.changeEventId=function(id,new_id){if(id==new_id)return;var ev=this._events[id];if(ev){ev.id=new_id;this._events[new_id]=ev;delete this._events[id];}
this.for_rendered(id,function(r){r.setAttribute("event_id",new_id);});if(this._select_id==id)this._select_id=new_id;if(this._edit_id==id)this._edit_id=new_id;this.callEvent("onEventIdChange",[id,new_id]);};(function(){var attrs=["text","Text","start_date","StartDate","end_date","EndDate"];var create_getter=function(name){return function(id){return(scheduler.getEvent(id))[name];};};var create_setter=function(name){return function(id,value){var ev=scheduler.getEvent(id);ev[name]=value;ev._changed=true;ev._timed=this.isOneDayEvent(ev);scheduler.event_updated(ev,true);};};for(var i=0;i<attrs.length;i+=2){scheduler["getEvent"+attrs[i+1]]=create_getter(attrs[i]);scheduler["setEvent"+attrs[i+1]]=create_setter(attrs[i]);}})();scheduler.event_updated=function(ev,force){if(this.is_visible_events(ev))
this.render_view_data();else
this.clear_event(ev.id);};scheduler.is_visible_events=function(ev){var in_visible_range=(ev.start_date<this._max_date&&this._min_date<ev.end_date);if(in_visible_range){var end_dates_visible=(this._table_view||((ev.end_date.getHours()>=this.config.first_hour&&ev.end_date.getHours()<this.config.last_hour)||(ev.start_date.getHours()>=this.config.first_hour&&ev.start_date.getHours()<this.config.last_hour)));if(end_dates_visible){return true;}else{var event_duration=(ev.end_date.valueOf()-ev.start_date.valueOf())/(1000*60*60),hidden_duration=24-(this.config.last_hour-this.config.first_hour);return(event_duration>hidden_duration);}}else{return false;}};scheduler.isOneDayEvent=function(ev){var delta=ev.end_date.getDate()-ev.start_date.getDate();if(!delta)
return ev.start_date.getMonth()==ev.end_date.getMonth()&&ev.start_date.getFullYear()==ev.end_date.getFullYear();else{if(delta<0)delta=Math.ceil((ev.end_date.valueOf()-ev.start_date.valueOf())/(24*60*60*1000));return(delta==1&&!ev.end_date.getHours()&&!ev.end_date.getMinutes()&&(ev.start_date.getHours()||ev.start_date.getMinutes()));}};scheduler.get_visible_events=function(only_timed){var stack=[];for(var id in this._events)
if(this.is_visible_events(this._events[id]))
if(!only_timed||this._events[id]._timed)
if(this.filter_event(id,this._events[id]))
stack.push(this._events[id]);return stack;};scheduler.filter_event=function(id,ev){var filter=this["filter_"+this._mode];return(filter)?filter(id,ev):true;};scheduler._is_main_area_event=function(ev){return!!ev._timed;};scheduler.render_view_data=function(evs,hold){if(!evs){if(this._not_render){this._render_wait=true;return;}
this._render_wait=false;this.clear_view();evs=this.get_visible_events(!(this._table_view||this.config.multi_day));}
for(var i=0,len=evs.length;i<len;i++){this._recalculate_timed(evs[i]);}
if(this.config.multi_day&&!this._table_view){var tvs=[];var tvd=[];for(var i=0;i<evs.length;i++){if(this._is_main_area_event(evs[i]))
tvs.push(evs[i]);else
tvd.push(evs[i]);}
this._rendered_location=this._els['dhx_multi_day'][0];this._table_view=true;this.render_data(tvd,hold);this._table_view=false;this._rendered_location=this._els['dhx_cal_data'][0];this._table_view=false;this.render_data(tvs,hold);}else{this._rendered_location=this._els['dhx_cal_data'][0];this.render_data(evs,hold);}};scheduler._view_month_day=function(e){var date=scheduler.getActionData(e).date;if(!scheduler.callEvent("onViewMoreClick",[date]))
return;scheduler.setCurrentView(date,"day");};scheduler._render_month_link=function(ev){var parent=this._rendered_location;var toRender=this._lame_clone(ev);for(var d=ev._sday;d<ev._eday;d++){toRender._sday=d;toRender._eday=d+1;var date=scheduler.date;var curr=scheduler._min_date;curr=date.add(curr,toRender._sweek,"week");curr=date.add(curr,toRender._sday,"day");var count=scheduler.getEvents(curr,date.add(curr,1,"day")).length;var pos=this._get_event_bar_pos(toRender);var widt=(pos.x2-pos.x);var el=document.createElement("div");el.onclick=function(e){scheduler._view_month_day(e||event);};el.className="dhx_month_link";el.style.top=pos.y+"px";el.style.left=pos.x+"px";el.style.width=widt+"px";el.innerHTML=scheduler.templates.month_events_link(curr,count);this._rendered.push(el);parent.appendChild(el);}};scheduler._recalculate_timed=function(id){if(!id)return;var ev;if(typeof(id)!="object")
ev=this._events[id];else
ev=id;if(!ev)return;ev._timed=scheduler.isOneDayEvent(ev);};scheduler.attachEvent("onEventChanged",scheduler._recalculate_timed);scheduler.attachEvent("onEventAdded",scheduler._recalculate_timed);scheduler.render_data=function(evs,hold){evs=this._pre_render_events(evs,hold);for(var i=0;i<evs.length;i++)
if(this._table_view){if(scheduler._mode!='month'){this.render_event_bar(evs[i]);}else{var max_evs=scheduler.config.max_month_events;if(max_evs!==max_evs*1||evs[i]._sorder<max_evs){this.render_event_bar(evs[i]);}else if(max_evs!==undefined&&evs[i]._sorder==max_evs){scheduler._render_month_link(evs[i]);}else{}}}else
this.render_event(evs[i]);};scheduler._get_first_visible_cell=function(cells){for(var i=0;i<cells.length;i++){if((cells[i].className||"").indexOf("dhx_scale_ignore")==-1){return cells[i];}}
return cells[0];};scheduler._pre_render_events=function(evs,hold){var hb=this.xy.bar_height;var h_old=this._colsS.heights;var h=this._colsS.heights=[0,0,0,0,0,0,0];var data=this._els["dhx_cal_data"][0];if(!this._table_view)
evs=this._pre_render_events_line(evs,hold);else
evs=this._pre_render_events_table(evs,hold);if(this._table_view){if(hold)
this._colsS.heights=h_old;else{var evl=data.firstChild;if(evl.rows){for(var i=0;i<evl.rows.length;i++){h[i]++;var cells=evl.rows[i].cells;var cellHeight=this._colsS.height-this.xy.month_head_height;if((h[i])*hb>cellHeight){var cHeight=cellHeight;if(this.config.max_month_events*1!==this.config.max_month_events||h[i]<=this.config.max_month_events){cHeight=h[i]*hb;}else if((this.config.max_month_events+1)*hb>cellHeight){cHeight=(this.config.max_month_events+1)*hb;}
for(var j=0;j<cells.length;j++){cells[j].childNodes[1].style.height=cHeight+"px";}}
h[i]=(h[i-1]||0)+scheduler._get_first_visible_cell(cells).offsetHeight;}
h.unshift(0);if(evl.parentNode.offsetHeight<evl.parentNode.scrollHeight&&!scheduler._colsS.scroll_fix&&scheduler.xy.scroll_width){var scale_settings=scheduler._colsS,sum_width=scale_settings[scale_settings.col_length],row_heights=scale_settings.heights.slice();sum_width-=(scheduler.xy.scroll_width||0);this._calc_scale_sizes(sum_width,this._min_date,this._max_date);scheduler._colsS.heights=row_heights;this.set_xy(this._els["dhx_cal_header"][0],sum_width,this.xy.scale_height);scheduler._render_scales(this._els["dhx_cal_header"][0]);scheduler._render_month_scale(this._els["dhx_cal_data"][0],this._get_timeunit_start(),this._min_date);scale_settings.scroll_fix=true;}}else{if(!evs.length&&this._els["dhx_multi_day"][0].style.visibility=="visible")
h[0]=-1;if(evs.length||h[0]==-1){var childs=evl.parentNode.childNodes;var full_multi_day_height=(h[0]+1)*hb+1;var used_multi_day_height=full_multi_day_height;var used_multi_day_height_css=full_multi_day_height+"px";if(this.config.multi_day_height_limit){used_multi_day_height=Math.min(full_multi_day_height,this.config.multi_day_height_limit);used_multi_day_height_css=used_multi_day_height+"px";}
data.style.top=(this._els["dhx_cal_navline"][0].offsetHeight+this._els["dhx_cal_header"][0].offsetHeight+used_multi_day_height)+'px';data.style.height=(this._obj.offsetHeight-parseInt(data.style.top,10)-(this.xy.margin_top||0))+'px';var multi_day_section=this._els["dhx_multi_day"][0];multi_day_section.style.height=used_multi_day_height_css;multi_day_section.style.visibility=(h[0]==-1?"hidden":"visible");var multi_day_icon=this._els["dhx_multi_day"][1];multi_day_icon.style.height=used_multi_day_height_css;multi_day_icon.style.visibility=(h[0]==-1?"hidden":"visible");multi_day_icon.className=h[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small";this._dy_shift=(h[0]+1)*hb;if(this.config.multi_day_height_limit){this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift);}
h[0]=0;if(used_multi_day_height!=full_multi_day_height){data.style.top=(parseInt(data.style.top)+2)+"px";multi_day_section.style.overflowY="auto";multi_day_icon.style.position="fixed";multi_day_icon.style.top="";multi_day_icon.style.left="";}}}}}
return evs;};scheduler._get_event_sday=function(ev){return Math.floor((ev.start_date.valueOf()-this._min_date.valueOf())/(24*60*60*1000));};scheduler._get_event_mapped_end_date=function(ev){var end_date=ev.end_date;if(this.config.separate_short_events){var ev_duration=(ev.end_date-ev.start_date)/60000;if(ev_duration<this._min_mapped_duration){end_date=this.date.add(end_date,this._min_mapped_duration-ev_duration,"minute");}}
return end_date;};scheduler._pre_render_events_line=function(evs,hold){evs.sort(function(a,b){if(a.start_date.valueOf()==b.start_date.valueOf())
return a.id>b.id?1:-1;return a.start_date>b.start_date?1:-1;});var days=[];var evs_originals=[];this._min_mapped_duration=Math.ceil(this.xy.min_event_height*60/this.config.hour_size_px);for(var i=0;i<evs.length;i++){var ev=evs[i];var sd=ev.start_date;var ed=ev.end_date;var sh=sd.getHours();var eh=ed.getHours();ev._sday=this._get_event_sday(ev);if(this._ignores[ev._sday]){evs.splice(i,1);i--;continue;}
if(!days[ev._sday])days[ev._sday]=[];if(!hold){ev._inner=false;var stack=days[ev._sday];while(stack.length){var t_ev=stack[stack.length-1];var t_end_date=this._get_event_mapped_end_date(t_ev);if(t_end_date.valueOf()<=ev.start_date.valueOf()){stack.splice(stack.length-1,1);}else{break;}}
var slot_index=stack.length;var sorderSet=false;for(var j=0;j<stack.length;j++){var t_ev=stack[j];var t_end_date=this._get_event_mapped_end_date(t_ev);if(t_end_date.valueOf()<=ev.start_date.valueOf()){sorderSet=true;ev._sorder=t_ev._sorder;slot_index=j;ev._inner=true;break;}}
if(stack.length)
stack[stack.length-1]._inner=true;if(!sorderSet){if(stack.length){if(stack.length<=stack[stack.length-1]._sorder){if(!stack[stack.length-1]._sorder)
ev._sorder=0;else
for(j=0;j<stack.length;j++){var _is_sorder=false;for(var k=0;k<stack.length;k++){if(stack[k]._sorder==j){_is_sorder=true;break;}}
if(!_is_sorder){ev._sorder=j;break;}}
ev._inner=true;}else{var _max_sorder=stack[0]._sorder;for(j=1;j<stack.length;j++){if(stack[j]._sorder>_max_sorder)
_max_sorder=stack[j]._sorder;}
ev._sorder=_max_sorder+1;ev._inner=false;}}else
ev._sorder=0;}
stack.splice(slot_index,slot_index==stack.length?0:1,ev);if(stack.length>(stack.max_count||0)){stack.max_count=stack.length;ev._count=stack.length;}else{ev._count=(ev._count)?ev._count:1;}}
if(sh<this.config.first_hour||eh>=this.config.last_hour){evs_originals.push(ev);evs[i]=ev=this._copy_event(ev);if(sh<this.config.first_hour){ev.start_date.setHours(this.config.first_hour);ev.start_date.setMinutes(0);}
if(eh>=this.config.last_hour){ev.end_date.setMinutes(0);ev.end_date.setHours(this.config.last_hour);}
if(ev.start_date>ev.end_date||sh==this.config.last_hour){evs.splice(i,1);i--;continue;}}}
if(!hold){for(var i=0;i<evs.length;i++){evs[i]._count=days[evs[i]._sday].max_count;}
for(var i=0;i<evs_originals.length;i++)
evs_originals[i]._count=days[evs_originals[i]._sday].max_count;}
return evs;};scheduler._time_order=function(evs){evs.sort(function(a,b){if(a.start_date.valueOf()==b.start_date.valueOf()){if(a._timed&&!b._timed)return 1;if(!a._timed&&b._timed)return-1;return a.id>b.id?1:-1;}
return a.start_date>b.start_date?1:-1;});};scheduler._pre_render_events_table=function(evs,hold){this._time_order(evs);var out=[];var weeks=[[],[],[],[],[],[],[]];var max=this._colsS.heights;var start_date;var cols=this._cols.length;var chunks_info={};for(var i=0;i<evs.length;i++){var ev=evs[i];var id=ev.id;if(!chunks_info[id]){chunks_info[id]={first_chunk:true,last_chunk:true};}
var chunk_info=chunks_info[id];var sd=(start_date||ev.start_date);var ed=ev.end_date;if(sd<this._min_date){chunk_info.first_chunk=false;sd=this._min_date;}
if(ed>this._max_date){chunk_info.last_chunk=false;ed=this._max_date;}
var locate_s=this.locate_holder_day(sd,false,ev);ev._sday=locate_s%cols;if(this._ignores[ev._sday]&&ev._timed)continue;var locate_e=this.locate_holder_day(ed,true,ev)||cols;ev._eday=(locate_e%cols)||cols;ev._length=locate_e-locate_s;ev._sweek=Math.floor((this._correct_shift(sd.valueOf(),1)-this._min_date.valueOf())/(60*60*1000*24*cols));var stack=weeks[ev._sweek];var stack_line;for(stack_line=0;stack_line<stack.length;stack_line++)
if(stack[stack_line]._eday<=ev._sday)
break;if(!ev._sorder||!hold){ev._sorder=stack_line;}
if(ev._sday+ev._length<=cols){start_date=null;out.push(ev);stack[stack_line]=ev;max[ev._sweek]=stack.length-1;ev._first_chunk=chunk_info.first_chunk;ev._last_chunk=chunk_info.last_chunk;}else{var copy=this._copy_event(ev);copy.id=ev.id;copy._length=cols-ev._sday;copy._eday=cols;copy._sday=ev._sday;copy._sweek=ev._sweek;copy._sorder=ev._sorder;copy.end_date=this.date.add(sd,copy._length,"day");copy._first_chunk=chunk_info.first_chunk;if(chunk_info.first_chunk){chunk_info.first_chunk=false;}
out.push(copy);stack[stack_line]=copy;start_date=copy.end_date;max[ev._sweek]=stack.length-1;i--;continue;}}
return out;};scheduler._copy_dummy=function(){var a=new Date(this.start_date);var b=new Date(this.end_date);this.start_date=a;this.end_date=b;};scheduler._copy_event=function(ev){this._copy_dummy.prototype=ev;return new this._copy_dummy();};scheduler._rendered=[];scheduler.clear_view=function(){for(var i=0;i<this._rendered.length;i++){var obj=this._rendered[i];if(obj.parentNode)obj.parentNode.removeChild(obj);}
this._rendered=[];};scheduler.updateEvent=function(id){var ev=this.getEvent(id);this.clear_event(id);if(ev&&this.is_visible_events(ev)&&this.filter_event(id,ev)&&(this._table_view||this.config.multi_day||ev._timed)){if(this.config.update_render){this.render_view_data();}else{if(this.getState().mode=="month"&&!this.getState().drag_id&&!this.isOneDayEvent(ev)){this.render_view_data();}else{this.render_view_data([ev],true);}}}};scheduler.clear_event=function(id){this.for_rendered(id,function(node,i){if(node.parentNode)
node.parentNode.removeChild(node);scheduler._rendered.splice(i,1);});};scheduler._y_from_date=function(date){var sm=date.getHours()*60+date.getMinutes();return((Math.round((sm*60*1000-this.config.first_hour*60*60*1000)*this.config.hour_size_px/(60*60*1000)))%(this.config.hour_size_px*24));};scheduler._calc_event_y=function(ev,min_height){min_height=min_height||0;var sm=ev.start_date.getHours()*60+ev.start_date.getMinutes();var em=(ev.end_date.getHours()*60+ev.end_date.getMinutes())||(scheduler.config.last_hour*60);var top=this._y_from_date(ev.start_date);var height=Math.max(min_height,(em-sm)*this.config.hour_size_px/60);return{top:top,height:height};};scheduler.render_event=function(ev){var menu=scheduler.xy.menu_width;var menu_offset=(this.config.use_select_menu_space)?0:menu;if(ev._sday<0)return;var parent=scheduler.locate_holder(ev._sday);if(!parent)return;var pos_y=this._calc_event_y(ev,scheduler.xy.min_event_height);var top=pos_y.top,height=pos_y.height;var ev_count=ev._count||1;var ev_sorder=ev._sorder||0;var width=Math.floor((parent.clientWidth-menu_offset)/ev_count);var left=ev_sorder*width+1;if(!ev._inner)width=width*(ev_count-ev_sorder);if(this.config.cascade_event_display){var limit=this.config.cascade_event_count;var margin=this.config.cascade_event_margin;left=ev_sorder%limit*margin;var right=(ev._inner)?(ev_count-ev_sorder-1)%limit*margin/2:0;width=Math.floor(parent.clientWidth-menu_offset-left-right);}
var d=this._render_v_bar(ev,menu_offset+left,top,width,height,ev._text_style,scheduler.templates.event_header(ev.start_date,ev.end_date,ev),scheduler.templates.event_text(ev.start_date,ev.end_date,ev));this._rendered.push(d);parent.appendChild(d);left=left+parseInt(parent.style.left,10)+menu_offset;if(this._edit_id==ev.id){d.style.zIndex=1;width=Math.max(width-4,scheduler.xy.editor_width);d=document.createElement("DIV");d.setAttribute("event_id",ev.id);this.set_xy(d,width,height-20,left,top+14);d.className="dhx_cal_event dhx_cal_editor";var tplClass=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(tplClass){d.className+=" "+tplClass;}
var d2=document.createElement("DIV");this.set_xy(d2,width-6,height-26);d2.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;";d.appendChild(d2);this._els["dhx_cal_data"][0].appendChild(d);this._rendered.push(d);d2.innerHTML="<textarea class='dhx_cal_editor'>"+ev.text+"</textarea>";if(this._quirks7)d2.firstChild.style.height=height-12+"px";this._editor=d2.firstChild;this._editor.onkeydown=function(e){if((e||event).shiftKey)return true;var code=(e||event).keyCode;if(code==scheduler.keys.edit_save)scheduler.editStop(true);if(code==scheduler.keys.edit_cancel)scheduler.editStop(false);};this._editor.onselectstart=function(e){(e||event).cancelBubble=true;return true;};scheduler._focus(d2.firstChild,true);this._els["dhx_cal_data"][0].scrollLeft=0;}
if(this.xy.menu_width!==0&&this._select_id==ev.id){if(this.config.cascade_event_display&&this._drag_mode)
d.style.zIndex=1;var icons=this.config["icons_"+((this._edit_id==ev.id)?"edit":"select")];var icons_str="";var bg_color=(ev.color?("background-color: "+ev.color+";"):"");var color=(ev.textColor?("color: "+ev.textColor+";"):"");for(var i=0;i<icons.length;i++)
icons_str+="<div class='dhx_menu_icon "+icons[i]+"' style='"+bg_color+""+color+"' title='"+this.locale.labels[icons[i]]+"'></div>";var obj=this._render_v_bar(ev,left-menu+1,top,menu,icons.length*20+26-2,"","<div style='"+bg_color+""+color+"' class='dhx_menu_head'></div>",icons_str,true);obj.style.left=left-menu+1;this._els["dhx_cal_data"][0].appendChild(obj);this._rendered.push(obj);}
if(this.config.drag_highlight&&this._drag_id==ev.id){this.highlightEventPosition(ev);}};scheduler._render_v_bar=function(ev,x,y,w,h,style,contentA,contentB,bottom){var d=document.createElement("DIV");var id=ev.id;var cs=(bottom)?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event";var cse=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse)cs=cs+" "+cse;var bg_color=(ev.color?("background:"+ev.color+";"):"");var color=(ev.textColor?("color:"+ev.textColor+";"):"");var html='<div event_id="'+id+'" class="'+cs+'" style="position:absolute; top:'+y+'px; left:'+x+'px; width:'+(w-4)+'px; height:'+h+'px;'+(style||"")+'"></div>';d.innerHTML=html;var container=d.cloneNode(true).firstChild;if(!bottom&&scheduler.renderEvent(container,ev,w,h,contentA,contentB)){return container;}else{container=d.firstChild;var inner_html='<div class="dhx_event_move dhx_header" style=" width:'+(w-6)+'px;'+bg_color+'" >&nbsp;</div>';inner_html+='<div class="dhx_event_move dhx_title" style="'+bg_color+''+color+'">'+contentA+'</div>';inner_html+='<div class="dhx_body" style=" width:'+(w-(this._quirks?4:14))+'px; height:'+(h-(this._quirks?20:30)+1)+'px;'+bg_color+''+color+'">'+contentB+'</div>';var footer_class="dhx_event_resize dhx_footer";if(bottom)
footer_class="dhx_resize_denied "+footer_class;inner_html+='<div class="'+footer_class+'" style=" width:'+(w-8)+'px;'+(bottom?' margin-top:-1px;':'')+''+bg_color+''+color+'" ></div>';container.innerHTML=inner_html;}
return container;};scheduler.renderEvent=function(){return false;};scheduler.locate_holder=function(day){if(this._mode=="day")return this._els["dhx_cal_data"][0].firstChild;return this._els["dhx_cal_data"][0].childNodes[day];};scheduler.locate_holder_day=function(date,past){var day=Math.floor((this._correct_shift(date,1)-this._min_date)/(60*60*24*1000));if(past&&this.date.time_part(date))day++;return day;};scheduler._get_dnd_order=function(order,ev_height,max_height){if(!this._drag_event)
return order;if(!this._drag_event._orig_sorder)
this._drag_event._orig_sorder=order;else
order=this._drag_event._orig_sorder;var evTop=ev_height*order;while((evTop+ev_height)>max_height){order--;evTop-=ev_height;}
order=Math.max(order,0);return order;};scheduler._get_event_bar_pos=function(ev){var x=this._colsS[ev._sday];var x2=this._colsS[ev._eday];if(x2==x)x2=this._colsS[ev._eday+1];var hb=this.xy.bar_height;var order=ev._sorder;if(ev.id==this._drag_id){var cellHeight=this._colsS.heights[ev._sweek+1]-this._colsS.heights[ev._sweek]-this.xy.month_head_height;order=scheduler._get_dnd_order(order,hb,cellHeight);}
var y_event_offset=order*hb;var y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+y_event_offset;return{x:x,x2:x2,y:y};};scheduler.render_event_bar=function(ev){var parent=this._rendered_location;var pos=this._get_event_bar_pos(ev);var y=pos.y;var x=pos.x;var x2=pos.x2;var resize_handle="";if(!x2)return;var resizable=scheduler.config.resize_month_events&&this._mode=="month"&&(!ev._timed||scheduler.config.resize_month_timed);var d=document.createElement("DIV");var left_chunk=(ev.hasOwnProperty("_first_chunk")&&ev._first_chunk),right_chunk=(ev.hasOwnProperty("_last_chunk")&&ev._last_chunk);var resize_left=resizable&&(ev._timed||left_chunk);var resize_right=resizable&&(ev._timed||right_chunk);var cs="dhx_cal_event_clear";if(!ev._timed||resizable){cs="dhx_cal_event_line";}
if(left_chunk){cs+=" dhx_cal_event_line_start";}
if(right_chunk){cs+=" dhx_cal_event_line_end";}
if(resize_left){resize_handle+="<div class='dhx_event_resize dhx_event_resize_start'></div>";}
if(resize_right){resize_handle+="<div class='dhx_event_resize dhx_event_resize_end'></div>";}
var cse=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse){cs+=" "+cse;}
var bg_color=(ev.color?("background:"+ev.color+";"):"");var color=(ev.textColor?("color:"+ev.textColor+";"):"");var style_text=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(x2-x-15)+"px",color,bg_color,(ev._text_style||"")].join(";");var html='<div event_id="'+ev.id+'" class="'+cs+'" style="'+style_text+'">';if(resizable){html+=resize_handle;}
if(scheduler.getState().mode=="month"){ev=scheduler.getEvent(ev.id);}
if(ev._timed)
html+=scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);html+=scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev)+'</div>';html+='</div>';d.innerHTML=html;this._rendered.push(d.firstChild);parent.appendChild(d.firstChild);};scheduler._locate_event=function(node){var id=null;while(node&&!id&&node.getAttribute){id=node.getAttribute("event_id");node=node.parentNode;}
return id;};scheduler.edit=function(id){if(this._edit_id==id)return;this.editStop(false,id);this._edit_id=id;this.updateEvent(id);};scheduler.editStop=function(mode,id){if(id&&this._edit_id==id)return;var ev=this.getEvent(this._edit_id);if(ev){if(mode)ev.text=this._editor.value;this._edit_id=null;this._editor=null;this.updateEvent(ev.id);this._edit_stop_event(ev,mode);}};scheduler._edit_stop_event=function(ev,mode){if(this._new_event){if(!mode){if(ev)
this.deleteEvent(ev.id,true);}else{this.callEvent("onEventAdded",[ev.id,ev]);}
this._new_event=null;}else{if(mode){this.callEvent("onEventChanged",[ev.id,ev]);}}};scheduler.getEvents=function(from,to){var result=[];for(var a in this._events){var ev=this._events[a];if(ev&&((!from&&!to)||(ev.start_date<to&&ev.end_date>from)))
result.push(ev);}
return result;};scheduler.getRenderedEvent=function(id){if(!id)
return;var rendered_events=scheduler._rendered;for(var i=0;i<rendered_events.length;i++){var rendered_event=rendered_events[i];if(rendered_event.getAttribute("event_id")==id){return rendered_event;}}
return null;};scheduler.showEvent=function(id,mode){var ev=(typeof id=="number"||typeof id=="string")?scheduler.getEvent(id):id;mode=mode||scheduler._mode;if(!ev||(this.checkEvent("onBeforeEventDisplay")&&!this.callEvent("onBeforeEventDisplay",[ev,mode])))
return;var scroll_hour=scheduler.config.scroll_hour;scheduler.config.scroll_hour=ev.start_date.getHours();var preserve_scroll=scheduler.config.preserve_scroll;scheduler.config.preserve_scroll=false;var original_color=ev.color;var original_text_color=ev.textColor;if(scheduler.config.highlight_displayed_event){ev.color=scheduler.config.displayed_event_color;ev.textColor=scheduler.config.displayed_event_text_color;}
scheduler.setCurrentView(new Date(ev.start_date),mode);ev.color=original_color;ev.textColor=original_text_color;scheduler.config.scroll_hour=scroll_hour;scheduler.config.preserve_scroll=preserve_scroll;if(scheduler.matrix&&scheduler.matrix[mode]){scheduler._els.dhx_cal_data[0].scrollTop=getAbsoluteTop(scheduler.getRenderedEvent(ev.id))-getAbsoluteTop(scheduler._els.dhx_cal_data[0])-20;}
scheduler.callEvent("onAfterEventDisplay",[ev,mode]);};scheduler._append_drag_marker=function(m){if(m.parentNode)return;var zone=scheduler._els["dhx_cal_data"][0];var scale=zone.lastChild;if(scale.className&&scale.className.indexOf("dhx_scale_holder")<0&&scale.previousSibling){scale=scale.previousSibling;}
if(scale&&scale.className.indexOf("dhx_scale_holder")===0){scale.appendChild(m);}};scheduler._update_marker_position=function(m,event){var size=scheduler._calc_event_y(event,0);m.style.top=size.top+"px";m.style.height=size.height+"px";};scheduler.highlightEventPosition=function(event){var m=document.createElement("div");m.setAttribute("event_id",event.id);this._rendered.push(m);this._update_marker_position(m,event);var css=this.templates.drag_marker_class(event.start_date,event.end_date,event);var html=this.templates.drag_marker_content(event.start_date,event.end_date,event);m.className="dhx_drag_marker";if(css)
m.className+=" "+css;if(html)
m.innerHTML=html;this._append_drag_marker(m);};scheduler._loaded={};scheduler._load=function(url,from){url=url||this._load_url;if(!url){return;}
url+=(url.indexOf("?")==-1?"?":"&")+"timeshift="+(new Date()).getTimezoneOffset();if(this.config.prevent_cache)url+="&uid="+this.uid();var to;from=from||this._date;if(this._load_mode){var lf=this.templates.load_format;from=this.date[this._load_mode+"_start"](new Date(from.valueOf()));while(from>this._min_date)from=this.date.add(from,-1,this._load_mode);to=from;var cache_line=true;while(to<this._max_date){to=this.date.add(to,1,this._load_mode);if(this._loaded[lf(from)]&&cache_line)
from=this.date.add(from,1,this._load_mode);else cache_line=false;}
var temp_to=to;do{to=temp_to;temp_to=this.date.add(to,-1,this._load_mode);}while(temp_to>from&&this._loaded[lf(temp_to)]);if(to<=from)
return false;dhtmlxAjax.get(url+"&from="+lf(from)+"&to="+lf(to),function(l){scheduler.on_load(l);});while(from<to){this._loaded[lf(from)]=true;from=this.date.add(from,1,this._load_mode);}}else
dhtmlxAjax.get(url,function(l){scheduler.on_load(l);});this.callEvent("onXLS",[]);return true;};scheduler.on_load=function(loader){var evs;var error=false;if(this._process&&this._process!="xml"){try{evs=this[this._process].parse(loader.xmlDoc.responseText);}catch(e){error=true;}}else{evs=this._magic_parser(loader);if(!evs){error=true;}}
if(error){this.callEvent("onLoadError",[loader.xmlDoc]);evs=[];}
scheduler._process_loading(evs);this.callEvent("onXLE",[]);};scheduler._process_loading=function(evs){this._loading=true;this._not_render=true;for(var i=0;i<evs.length;i++){if(!this.callEvent("onEventLoading",[evs[i]]))continue;this.addEvent(evs[i]);}
this._not_render=false;if(this._render_wait)this.render_view_data();this._loading=false;if(this._after_call)this._after_call();this._after_call=null;};scheduler._init_event=function(event){event.text=(event.text||event._tagvalue)||"";event.start_date=scheduler._init_date(event.start_date);event.end_date=scheduler._init_date(event.end_date);};scheduler._init_date=function(date){if(!date)
return null;if(typeof date=="string")
return scheduler.templates.xml_date(date);else return new Date(date);};scheduler.json={};scheduler.json.parse=function(data){if(typeof data=="string"){scheduler._temp=eval("("+data+")");data=(scheduler._temp)?scheduler._temp.data||scheduler._temp.d||scheduler._temp:[];}
if(data.dhx_security)
dhtmlx.security_key=data.dhx_security;var collections=(scheduler._temp&&scheduler._temp.collections)?scheduler._temp.collections:{};var collections_loaded=false;for(var key in collections){if(collections.hasOwnProperty(key)){collections_loaded=true;var collection=collections[key];var arr=scheduler.serverList[key];if(!arr)continue;arr.splice(0,arr.length);for(var j=0;j<collection.length;j++){var option=collection[j];var obj={key:option.value,label:option.label};for(var option_key in option){if(option.hasOwnProperty(option_key)){if(option_key=="value"||option_key=="label")
continue;obj[option_key]=option[option_key];}}
arr.push(obj);}}}
if(collections_loaded)
scheduler.callEvent("onOptionsLoad",[]);var evs=[];for(var i=0;i<data.length;i++){var event=data[i];scheduler._init_event(event);evs.push(event);}
return evs;};scheduler.parse=function(data,type){this._process=type;this.on_load({xmlDoc:{responseText:data}});};scheduler.load=function(url,call){if(typeof call=="string"){this._process=call;call=arguments[2];}
this._load_url=url;this._after_call=call;this._load(url,this._date);};scheduler.setLoadMode=function(mode){if(mode=="all")mode="";this._load_mode=mode;};scheduler.serverList=function(name,array){if(array){this.serverList[name]=array.slice(0);return this.serverList[name];}
this.serverList[name]=(this.serverList[name]||[]);return this.serverList[name];};scheduler._userdata={};scheduler._magic_parser=function(loader){var xml;if(!loader.getXMLTopNode){var xml_string=loader.xmlDoc.responseText;loader=new dtmlXMLLoaderObject(function(){});loader.loadXMLString(xml_string);}
xml=loader.getXMLTopNode("data");if(xml.tagName!="data")return null;var skey=xml.getAttribute("dhx_security");if(skey)
dhtmlx.security_key=skey;var opts=loader.doXPath("//coll_options");for(var i=0;i<opts.length;i++){var bind=opts[i].getAttribute("for");var arr=this.serverList[bind];if(!arr)continue;arr.splice(0,arr.length);var itms=loader.doXPath(".//item",opts[i]);for(var j=0;j<itms.length;j++){var itm=itms[j];var attrs=itm.attributes;var obj={key:itms[j].getAttribute("value"),label:itms[j].getAttribute("label")};for(var k=0;k<attrs.length;k++){var attr=attrs[k];if(attr.nodeName=="value"||attr.nodeName=="label")
continue;obj[attr.nodeName]=attr.nodeValue;}
arr.push(obj);}}
if(opts.length)
scheduler.callEvent("onOptionsLoad",[]);var ud=loader.doXPath("//userdata");for(var i=0;i<ud.length;i++){var udx=this._xmlNodeToJSON(ud[i]);this._userdata[udx.name]=udx.text;}
var evs=[];xml=loader.doXPath("//event");for(var i=0;i<xml.length;i++){var ev=evs[i]=this._xmlNodeToJSON(xml[i]);scheduler._init_event(ev);}
return evs;};scheduler._xmlNodeToJSON=function(node){var t={};for(var i=0;i<node.attributes.length;i++)
t[node.attributes[i].name]=node.attributes[i].value;for(var i=0;i<node.childNodes.length;i++){var child=node.childNodes[i];if(child.nodeType==1)
t[child.tagName]=child.firstChild?child.firstChild.nodeValue:"";}
if(!t.text)t.text=node.firstChild?node.firstChild.nodeValue:"";return t;};scheduler.attachEvent("onXLS",function(){if(this.config.show_loading===true){var t;t=this.config.show_loading=document.createElement("DIV");t.className='dhx_loading';t.style.left=Math.round((this._x-128)/2)+"px";t.style.top=Math.round((this._y-15)/2)+"px";this._obj.appendChild(t);}});scheduler.attachEvent("onXLE",function(){var t=this.config.show_loading;if(t&&typeof t=="object"){this._obj.removeChild(t);this.config.show_loading=true;}});scheduler.ical={parse:function(str){var data=str.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(!data.length)return;data[0]=data[0].replace(/[\r\n]+(?=[a-z \t])/g," ");data[0]=data[0].replace(/\;[^:\r\n]*:/g,":");var incoming=[];var match;var event_r=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");while((match=event_r.exec(data))!==null){var e={};var param;var param_r=/[^\r\n]+[\r\n]+/g;while((param=param_r.exec(match[1]))!==null)
this.parse_param(param.toString(),e);if(e.uid&&!e.id)e.id=e.uid;incoming.push(e);}
return incoming;},parse_param:function(str,obj){var d=str.indexOf(":");if(d==-1)return;var name=str.substr(0,d).toLowerCase();var value=str.substr(d+1).replace(/\\\,/g,",").replace(/[\r\n]+$/,"");if(name=="summary")
name="text";else if(name=="dtstart"){name="start_date";value=this.parse_date(value,0,0);}
else if(name=="dtend"){name="end_date";value=this.parse_date(value,0,0);}
obj[name]=value;},parse_date:function(value,dh,dm){var t=value.split("T");if(t[1]){dh=t[1].substr(0,2);dm=t[1].substr(2,2);}
var dy=t[0].substr(0,4);var dn=parseInt(t[0].substr(4,2),10)-1;var dd=t[0].substr(6,2);if(scheduler.config.server_utc&&!t[1]){return new Date(Date.UTC(dy,dn,dd,dh,dm));}
return new Date(dy,dn,dd,dh,dm);},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"};scheduler._lightbox_controls={};scheduler.formSection=function(name){var config=this.config.lightbox.sections;var i=0;for(i;i<config.length;i++)
if(config[i].name==name)
break;var section=config[i];if(!scheduler._lightbox)
scheduler.getLightbox();var header=document.getElementById(section.id);var node=header.nextSibling;var result={section:section,header:header,node:node,getValue:function(ev){return scheduler.form_blocks[section.type].get_value(node,(ev||{}),section);},setValue:function(value,ev){return scheduler.form_blocks[section.type].set_value(node,value,(ev||{}),section);}};var handler=scheduler._lightbox_controls["get_"+section.type+"_control"];return handler?handler(result):result;};scheduler._lightbox_controls.get_template_control=function(result){result.control=result.node;return result;};scheduler._lightbox_controls.get_select_control=function(result){result.control=result.node.getElementsByTagName('select')[0];return result;};scheduler._lightbox_controls.get_textarea_control=function(result){result.control=result.node.getElementsByTagName('textarea')[0];return result;};scheduler._lightbox_controls.get_time_control=function(result){result.control=result.node.getElementsByTagName('select');return result;};scheduler.form_blocks={template:{render:function(sns){var height=(sns.height||"30")+"px";return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+height+";'></div>";},set_value:function(node,value,ev,config){node.innerHTML=value||"";},get_value:function(node,ev,config){return node.innerHTML||"";},focus:function(node){}},textarea:{render:function(sns){var height=(sns.height||"130")+"px";return"<div class='dhx_cal_ltext' style='height:"+height+";'><textarea></textarea></div>";},set_value:function(node,value,ev){node.firstChild.value=value||"";},get_value:function(node,ev){return node.firstChild.value;},focus:function(node){var a=node.firstChild;scheduler._focus(a,true);}},select:{render:function(sns){var height=(sns.height||"23")+"px";var html="<div class='dhx_cal_ltext' style='height:"+height+";'><select style='width:100%;'>";for(var i=0;i<sns.options.length;i++)
html+="<option value='"+sns.options[i].key+"'>"+sns.options[i].label+"</option>";html+="</select></div>";return html;},set_value:function(node,value,ev,sns){var select=node.firstChild;if(!select._dhx_onchange&&sns.onchange){select.onchange=sns.onchange;select._dhx_onchange=true;}
if(typeof value=="undefined")
value=(select.options[0]||{}).value;select.value=value||"";},get_value:function(node,ev){return node.firstChild.value;},focus:function(node){var a=node.firstChild;scheduler._focus(a,true);}},time:{render:function(sns){if(!sns.time_format){sns.time_format=["%H:%i","%d","%m","%Y"];}
sns._time_format_order={};var time_format=sns.time_format;var cfg=scheduler.config;var dt=this.date.date_part(scheduler._currentDate());var last=24*60,first=0;if(scheduler.config.limit_time_select){last=60*cfg.last_hour+1;first=60*cfg.first_hour;dt.setHours(cfg.first_hour);}
var html="";for(var p=0;p<time_format.length;p++){var time_option=time_format[p];if(p>0){html+=" ";}
switch(time_option){case"%Y":sns._time_format_order[3]=p;html+="<select>";var year=dt.getFullYear()-5;for(var i=0;i<10;i++)
html+="<option value='"+(year+i)+"'>"+(year+i)+"</option>";html+="</select> ";break;case"%m":sns._time_format_order[2]=p;html+="<select>";for(var i=0;i<12;i++)
html+="<option value='"+i+"'>"+this.locale.date.month_full[i]+"</option>";html+="</select>";break;case"%d":sns._time_format_order[1]=p;html+="<select>";for(var i=1;i<32;i++)
html+="<option value='"+i+"'>"+i+"</option>";html+="</select>";break;case"%H:%i":sns._time_format_order[0]=p;html+="<select>";var i=first;var tdate=dt.getDate();sns._time_values=[];while(i<last){var time=this.templates.time_picker(dt);html+="<option value='"+i+"'>"+time+"</option>";sns._time_values.push(i);dt.setTime(dt.valueOf()+this.config.time_step*60*1000);var diff=(dt.getDate()!=tdate)?1:0;i=diff*24*60+dt.getHours()*60+dt.getMinutes();}
html+="</select>";break;}}
return"<div style='height:30px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+html+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+html+"</div>";},set_value:function(node,value,ev,config){var cfg=scheduler.config;var s=node.getElementsByTagName("select");var map=config._time_format_order;var start_date,end_date;if(cfg.full_day){if(!node._full_day){var html="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+scheduler.locale.labels.full_day+"&nbsp;</label></input>";if(!scheduler.config.wide_form)
html=node.previousSibling.innerHTML+html;node.previousSibling.innerHTML=html;node._full_day=true;}
var input=node.previousSibling.getElementsByTagName("input")[0];input.checked=(scheduler.date.time_part(ev.start_date)===0&&scheduler.date.time_part(ev.end_date)===0);s[map[0]].disabled=input.checked;s[map[0]+s.length/2].disabled=input.checked;input.onclick=function(){if(input.checked){var obj={};scheduler.form_blocks.time.get_value(node,obj,config);start_date=scheduler.date.date_part(obj.start_date);end_date=scheduler.date.date_part(obj.end_date);if(+end_date==+start_date||(+end_date>=+start_date&&(ev.end_date.getHours()!==0||ev.end_date.getMinutes()!==0)))
end_date=scheduler.date.add(end_date,1,"day");}else{start_date=null;end_date=null;}
s[map[0]].disabled=input.checked;s[map[0]+s.length/2].disabled=input.checked;_fill_lightbox_select(s,0,start_date||ev.start_date);_fill_lightbox_select(s,4,end_date||ev.end_date);};}
if(cfg.auto_end_date&&cfg.event_duration){var _update_lightbox_select=function(){start_date=new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);end_date=new Date(start_date.getTime()+(scheduler.config.event_duration*60*1000));_fill_lightbox_select(s,4,end_date);};for(var i=0;i<4;i++){s[i].onchange=_update_lightbox_select;}}
function _fill_lightbox_select(s,i,d){var time_values=config._time_values;var direct_value=d.getHours()*60+d.getMinutes();var fixed_value=direct_value;var value_found=false;for(var k=0;k<time_values.length;k++){var t_v=time_values[k];if(t_v===direct_value){value_found=true;break;}
if(t_v<direct_value)
fixed_value=t_v;}
s[i+map[0]].value=(value_found)?direct_value:fixed_value;if(!(value_found||fixed_value)){s[i+map[0]].selectedIndex=-1;}
s[i+map[1]].value=d.getDate();s[i+map[2]].value=d.getMonth();s[i+map[3]].value=d.getFullYear();}
_fill_lightbox_select(s,0,ev.start_date);_fill_lightbox_select(s,4,ev.end_date);},get_value:function(node,ev,config){var s=node.getElementsByTagName("select");var map=config._time_format_order;ev.start_date=new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);ev.end_date=new Date(s[map[3]+4].value,s[map[2]+4].value,s[map[1]+4].value,0,s[map[0]+4].value);if(!(s[map[3]].value&&s[map[3]+4].value)){var original=this.getEvent(this._lightbox_id);if(original){ev.start_date=original.start_date;ev.end_date=original.end_date;}}
if(ev.end_date<=ev.start_date)
ev.end_date=scheduler.date.add(ev.start_date,scheduler.config.time_step,"minute");return{start_date:new Date(ev.start_date),end_date:new Date(ev.end_date)};},focus:function(node){scheduler._focus(node.getElementsByTagName("select")[0]);}}};scheduler.showCover=function(box){if(box){box.style.display="block";var scroll_top=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;var scroll_left=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft;var view_height=window.innerHeight||document.documentElement.clientHeight;if(scroll_top)
box.style.top=Math.round(scroll_top+Math.max((view_height-box.offsetHeight)/2,0))+"px";else
box.style.top=Math.round(Math.max(((view_height-box.offsetHeight)/2),0)+9)+"px";if(document.documentElement.scrollWidth>document.body.offsetWidth)
box.style.left=Math.round(scroll_left+(document.body.offsetWidth-box.offsetWidth)/2)+"px";else
box.style.left=Math.round((document.body.offsetWidth-box.offsetWidth)/2)+"px";}
this.show_cover();};scheduler.showLightbox=function(id){if(!id)return;if(!this.callEvent("onBeforeLightbox",[id])){if(this._new_event)
this._new_event=null;return;}
var box=this.getLightbox();this.showCover(box);this._fill_lightbox(id,box);this.callEvent("onLightbox",[id]);};scheduler._fill_lightbox=function(id,box){var ev=this.getEvent(id);var s=box.getElementsByTagName("span");if(scheduler.templates.lightbox_header){s[1].innerHTML="";s[2].innerHTML=scheduler.templates.lightbox_header(ev.start_date,ev.end_date,ev);}else{s[1].innerHTML=this.templates.event_header(ev.start_date,ev.end_date,ev);s[2].innerHTML=(this.templates.event_bar_text(ev.start_date,ev.end_date,ev)||"").substr(0,70);}
var sns=this.config.lightbox.sections;for(var i=0;i<sns.length;i++){var current_sns=sns[i];var node=document.getElementById(current_sns.id).nextSibling;var block=this.form_blocks[current_sns.type];var value=(ev[current_sns.map_to]!==undefined)?ev[current_sns.map_to]:current_sns.default_value;block.set_value.call(this,node,value,ev,current_sns);if(sns[i].focus)
block.focus.call(this,node);}
scheduler._lightbox_id=id;};scheduler._lightbox_out=function(ev){var sns=this.config.lightbox.sections;for(var i=0;i<sns.length;i++){var node=document.getElementById(sns[i].id);node=(node?node.nextSibling:node);var block=this.form_blocks[sns[i].type];var res=block.get_value.call(this,node,ev,sns[i]);if(sns[i].map_to!="auto")
ev[sns[i].map_to]=res;}
return ev;};scheduler._empty_lightbox=function(data){var id=scheduler._lightbox_id;var ev=this.getEvent(id);var box=this.getLightbox();this._lame_copy(ev,data);this.setEvent(ev.id,ev);this._edit_stop_event(ev,true);this.render_view_data();};scheduler.hide_lightbox=function(id){this.hideCover(this.getLightbox());this._lightbox_id=null;this.callEvent("onAfterLightbox",[]);};scheduler.hideCover=function(box){if(box)box.style.display="none";this.hide_cover();};scheduler.hide_cover=function(){if(this._cover)
this._cover.parentNode.removeChild(this._cover);this._cover=null;};scheduler.show_cover=function(){if(this._cover)
return;this._cover=document.createElement("DIV");this._cover.className="dhx_cal_cover";var _document_height=((document.height!==undefined)?document.height:document.body.offsetHeight);var _scroll_height=((document.documentElement)?document.documentElement.scrollHeight:0);this._cover.style.height=Math.max(_document_height,_scroll_height)+'px';document.body.appendChild(this._cover);};scheduler.save_lightbox=function(){var data=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));if(this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,data,this._new_event]))
return;this._empty_lightbox(data);this.hide_lightbox();};scheduler.startLightbox=function(id,box){this._lightbox_id=id;this._custom_lightbox=true;this._temp_lightbox=this._lightbox;this._lightbox=box;this.showCover(box);};scheduler.endLightbox=function(mode,box){this._edit_stop_event(scheduler.getEvent(this._lightbox_id),mode);if(mode)
scheduler.render_view_data();this.hideCover(box);if(this._custom_lightbox){this._lightbox=this._temp_lightbox;this._custom_lightbox=false;}
this._temp_lightbox=this._lightbox_id=null;};scheduler.resetLightbox=function(){if(scheduler._lightbox&&!scheduler._custom_lightbox)
scheduler._lightbox.parentNode.removeChild(scheduler._lightbox);scheduler._lightbox=null;};scheduler.cancel_lightbox=function(){this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]);this.endLightbox(false);this.hide_lightbox();};scheduler._init_lightbox_events=function(){this.getLightbox().onclick=function(e){var src=e?e.target:event.srcElement;if(!src.className)src=src.previousSibling;if(src&&src.className)
switch(src.className){case"dhx_save_btn":scheduler.save_lightbox();break;case"dhx_delete_btn":var c=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(c,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(scheduler._lightbox_id);scheduler._new_event=null;scheduler.hide_lightbox();});break;case"dhx_cancel_btn":scheduler.cancel_lightbox();break;default:if(src.getAttribute("dhx_button")){scheduler.callEvent("onLightboxButton",[src.className,src,e]);}else{var index,block,sec;if(src.className.indexOf("dhx_custom_button")!=-1){if(src.className.indexOf("dhx_custom_button_")!=-1){index=src.parentNode.getAttribute("index");sec=src.parentNode.parentNode;}else{index=src.getAttribute("index");sec=src.parentNode;src=src.firstChild;}}
if(index){block=scheduler.form_blocks[scheduler.config.lightbox.sections[index].type];block.button_click(index,src,sec,sec.nextSibling);}}
break;}};this.getLightbox().onkeydown=function(e){switch((e||event).keyCode){case scheduler.keys.edit_save:if((e||event).shiftKey)return;scheduler.save_lightbox();break;case scheduler.keys.edit_cancel:scheduler.cancel_lightbox();break;default:break;}};};scheduler.setLightboxSize=function(){var d=this._lightbox;if(!d)return;var con=d.childNodes[1];con.style.height="0px";con.style.height=con.scrollHeight+"px";d.style.height=con.scrollHeight+scheduler.xy.lightbox_additional_height+"px";con.style.height=con.scrollHeight+"px";};scheduler._init_dnd_events=function(){dhtmlxEvent(document.body,"mousemove",scheduler._move_while_dnd);dhtmlxEvent(document.body,"mouseup",scheduler._finish_dnd);scheduler._init_dnd_events=function(){};};scheduler._move_while_dnd=function(e){if(scheduler._dnd_start_lb){if(!document.dhx_unselectable){document.body.className+=" dhx_unselectable";document.dhx_unselectable=true;}
var lb=scheduler.getLightbox();var now=(e&&e.target)?[e.pageX,e.pageY]:[event.clientX,event.clientY];lb.style.top=scheduler._lb_start[1]+now[1]-scheduler._dnd_start_lb[1]+"px";lb.style.left=scheduler._lb_start[0]+now[0]-scheduler._dnd_start_lb[0]+"px";}};scheduler._ready_to_dnd=function(e){var lb=scheduler.getLightbox();scheduler._lb_start=[parseInt(lb.style.left,10),parseInt(lb.style.top,10)];scheduler._dnd_start_lb=(e&&e.target)?[e.pageX,e.pageY]:[event.clientX,event.clientY];};scheduler._finish_dnd=function(){if(scheduler._lb_start){scheduler._lb_start=scheduler._dnd_start_lb=false;document.body.className=document.body.className.replace(" dhx_unselectable","");document.dhx_unselectable=false;}};scheduler.getLightbox=function(){if(!this._lightbox){var d=document.createElement("DIV");d.className="dhx_cal_light";if(scheduler.config.wide_form)
d.className+=" dhx_cal_light_wide";if(scheduler.form_blocks.recurring)
d.className+=" dhx_cal_light_rec";if(/msie|MSIE 6/.test(navigator.userAgent))
d.className+=" dhx_ie6";d.style.visibility="hidden";var html=this._lightbox_template;var buttons=this.config.buttons_left;for(var i=0;i<buttons.length;i++)
html+="<div class='dhx_btn_set dhx_left_btn_set "+buttons[i]+"_set'><div dhx_button='1' class='"+buttons[i]+"'></div><div>"+scheduler.locale.labels[buttons[i]]+"</div></div>";buttons=this.config.buttons_right;for(var i=0;i<buttons.length;i++)
html+="<div class='dhx_btn_set dhx_right_btn_set "+buttons[i]+"_set' style='float:right;'><div dhx_button='1' class='"+buttons[i]+"'></div><div>"+scheduler.locale.labels[buttons[i]]+"</div></div>";html+="</div>";d.innerHTML=html;if(scheduler.config.drag_lightbox){d.firstChild.onmousedown=scheduler._ready_to_dnd;d.firstChild.onselectstart=function(){return false;};d.firstChild.style.cursor="pointer";scheduler._init_dnd_events();}
document.body.insertBefore(d,document.body.firstChild);this._lightbox=d;var sns=this.config.lightbox.sections;html="";for(var i=0;i<sns.length;i++){var block=this.form_blocks[sns[i].type];if(!block)continue;sns[i].id="area_"+this.uid();var button="";if(sns[i].button){button="<div class='dhx_custom_button' index='"+i+"'><div class='dhx_custom_button_"+sns[i].button+"'></div><div>"+this.locale.labels["button_"+sns[i].button]+"</div></div>";}
if(this.config.wide_form){html+="<div class='dhx_wrap_section'>";}
var label_name=this.locale.labels["section_"+sns[i].name];if(typeof label_name!=="string"){label_name=sns[i].name;}
html+="<div id='"+sns[i].id+"' class='dhx_cal_lsection'>"+button+label_name+"</div>"+block.render.call(this,sns[i]);html+="</div>";}
var ds=d.getElementsByTagName("div");for(var i=0;i<ds.length;i++){var t_ds=ds[i];if(t_ds.className=="dhx_cal_larea"){t_ds.innerHTML=html;break;}}
this.setLightboxSize();this._init_lightbox_events(this);d.style.display="none";d.style.visibility="visible";}
return this._lightbox;};scheduler.attachEvent("onEventIdChange",function(old_id,new_id){if(this._lightbox_id==old_id)
this._lightbox_id=new_id;});scheduler._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>";scheduler._init_touch_events=function(){if(this.config.touch!="force")
this.config.touch=this.config.touch&&((navigator.userAgent.indexOf("Mobile")!=-1)||(navigator.userAgent.indexOf("iPad")!=-1)||(navigator.userAgent.indexOf("Android")!=-1)||(navigator.userAgent.indexOf("Touch")!=-1));if(this.config.touch){this.xy.scroll_width=0;if(window.navigator.msPointerEnabled){this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(ev){if(ev.pointerType==ev.MSPOINTER_TYPE_MOUSE)return null;return ev;},function(ev){return(!ev||ev.pointerType==ev.MSPOINTER_TYPE_MOUSE);});this._obj.ondblclick=function(){};}else
this._touch_events(["touchmove","touchstart","touchend"],function(ev){if(ev.touches&&ev.touches.length>1)return null;if(ev.touches[0])
return{target:ev.target,pageX:ev.touches[0].pageX,pageY:ev.touches[0].pageY};else
return ev;},function(){return false;});}};scheduler._touch_events=function(names,accessor,ignore){var a_webkit=(navigator.userAgent.indexOf("Android")!=-1)&&(navigator.userAgent.indexOf("WebKit")!=-1);var source,tracker,timer,drag_mode,scroll_mode,action_mode;var dblclicktime=0;function attachTouchEvent(element,name,callback){dhtmlxEvent(element,name,function(e){if(scheduler._is_lightbox_open()){return true;}else{return callback(e);}});}
function check_direction_swipe(s_ev,e_ev,step,max_dy){if(!s_ev||!e_ev)return;var t=s_ev.target;while(t&&t!=scheduler._obj){t=t.parentNode;}
if(t!=scheduler._obj){return;}
var dy=Math.abs(s_ev.pageY-e_ev.pageY);var dx=Math.abs(s_ev.pageX-e_ev.pageX);if(dy<max_dy&&dx>step&&(!dy||(dx/dy>3))){if(s_ev.pageX>e_ev.pageX)
scheduler._click.dhx_cal_next_button();else
scheduler._click.dhx_cal_prev_button();}}
function doMouseMove(e){var dnd=scheduler.getState().drag_mode,timeline=scheduler.matrix?scheduler.matrix[scheduler._mode]:false;var original_render=scheduler.render_view_data;if(dnd=='create'&&timeline){scheduler.render_view_data=function(){var id=scheduler.getState().drag_id;var ev=scheduler.getEvent(id);var property=timeline.y_property;var evs=scheduler.getEvents(ev.start_date,ev.end_date);for(var i=0;i<evs.length;i++){if(evs[i][property]!=ev[property]){evs.splice(i,1);i--;}}
ev._sorder=evs.length-1;ev._count=evs.length;this.render_data([ev],scheduler.getState().mode);};}
scheduler._on_mouse_move(e);if(dnd=='create'&&timeline){scheduler.render_view_data=original_render;}}
attachTouchEvent(document.body,names[0],function(e){if(ignore(e))return;if(drag_mode){doMouseMove(accessor(e));scheduler._update_global_tip();if(e.preventDefault)
e.preventDefault();e.cancelBubble=true;return false;}
tracker=accessor(e);if(!action_mode)return;if(!tracker){scroll_mode=true;return;}
if(source.target!=tracker.target||(Math.abs(source.pageX-tracker.pageX)>5)||(Math.abs(source.pageY-tracker.pageY)>5)){scroll_mode=true;clearTimeout(timer);}});attachTouchEvent(this._els["dhx_cal_data"][0],"scroll",drag_cancel);attachTouchEvent(this._els["dhx_cal_data"][0],"touchcancel",drag_cancel);attachTouchEvent(this._els["dhx_cal_data"][0],"contextmenu",function(e){if(action_mode){if(e&&e.preventDefault)
e.preventDefault();(e||event).cancelBubble=true;return false;}});attachTouchEvent(this._els["dhx_cal_data"][0],names[1],function(e){if(ignore(e))return;var fake_event;drag_mode=scroll_mode=false;action_mode=true;scheduler._temp_touch_block=true;fake_event=tracker=accessor(e);if(!fake_event){scroll_mode=true;return;}
var now=new Date();if(!scroll_mode&&!drag_mode&&now-dblclicktime<250){scheduler._click.dhx_cal_data(fake_event);window.setTimeout(function(){scheduler._on_dbl_click(fake_event);},50);if(e.preventDefault)
e.preventDefault();e.cancelBubble=true;scheduler._block_next_stop=true;return false;}
dblclicktime=now;if(scroll_mode||drag_mode||!scheduler.config.touch_drag)
return;var actTask=scheduler._locate_event(document.activeElement);var fakeTask=scheduler._locate_event(fake_event.target);var sourceTask=source?scheduler._locate_event(source.target):null;if(actTask&&fakeTask&&actTask==fakeTask&&actTask!=sourceTask)
{if(e.preventDefault){e.preventDefault();}
e.cancelBubble=true;scheduler._ignore_next_click=false;scheduler._click.dhx_cal_data(fake_event);source=fake_event;return false;}
timer=setTimeout(function(){drag_mode=true;var target=source.target;if(target&&target.className&&target.className.indexOf("dhx_body")!=-1)
target=target.previousSibling;scheduler._on_mouse_down(source,target);if(scheduler._drag_mode&&scheduler._drag_mode!="create"){scheduler.for_rendered(scheduler._drag_id,function(node,i){node.style.display='none';scheduler._rendered.splice(i,1);});}
if(scheduler.config.touch_tip)
scheduler._show_global_tip();scheduler._on_mouse_move(source);},scheduler.config.touch_drag);source=fake_event;});function drag_cancel(e){scheduler._hide_global_tip();if(drag_mode){scheduler._on_mouse_up(accessor(e||event));scheduler._temp_touch_block=false;}
scheduler._drag_id=null;scheduler._drag_mode=null;scheduler._drag_pos=null;clearTimeout(timer);drag_mode=action_mode=false;scroll_mode=true;}
attachTouchEvent(this._els["dhx_cal_data"][0],names[2],function(e){if(ignore(e))return;if(!drag_mode)
check_direction_swipe(source,tracker,200,100);if(drag_mode)
scheduler._ignore_next_click=true;drag_cancel(e);if(scheduler._block_next_stop){scheduler._block_next_stop=false;if(e.preventDefault)
e.preventDefault();e.cancelBubble=true;return false;}});dhtmlxEvent(document.body,names[2],drag_cancel);};scheduler._show_global_tip=function(){scheduler._hide_global_tip();var toptip=scheduler._global_tip=document.createElement("DIV");toptip.className='dhx_global_tip';scheduler._update_global_tip(1);document.body.appendChild(toptip);};scheduler._update_global_tip=function(init){var toptip=scheduler._global_tip;if(toptip){var time="";if(scheduler._drag_id&&!init){var ev=scheduler.getEvent(scheduler._drag_id);if(ev)
time="<div>"+(ev._timed?scheduler.templates.event_header(ev.start_date,ev.end_date,ev):scheduler.templates.day_date(ev.start_date,ev.end_date,ev))+"</div>";}
if(scheduler._drag_mode=="create"||scheduler._drag_mode=="new-size")
toptip.innerHTML=(scheduler.locale.drag_to_create||"Drag to create")+time;else
toptip.innerHTML=(scheduler.locale.drag_to_move||"Drag to move")+time;}};scheduler._hide_global_tip=function(){var toptip=scheduler._global_tip;if(toptip&&toptip.parentNode){toptip.parentNode.removeChild(toptip);scheduler._global_tip=0;}};scheduler._dp_init=function(dp){dp._methods=["_set_event_text_style","","changeEventId","_dp_hook_delete"];this._dp_hook_delete=function(id){return this.deleteEvent(id,true);};this.attachEvent("onEventAdded",function(id){if(!this._loading&&this._validId(id))
dp.setUpdated(id,true,"inserted");});this.attachEvent("onConfirmedBeforeEventDelete",function(id){if(!this._validId(id))return;var z=dp.getState(id);if(z=="inserted"||this._new_event){dp.setUpdated(id,false);return true;}
if(z=="deleted")return false;if(z=="true_deleted")return true;dp.setUpdated(id,true,"deleted");return false;});this.attachEvent("onEventChanged",function(id){if(!this._loading&&this._validId(id))
dp.setUpdated(id,true,"updated");});dp._getRowData=function(id,pref){var ev=this.obj.getEvent(id);var data={};for(var a in ev){if(a.indexOf("_")===0)continue;if(ev[a]&&ev[a].getUTCFullYear)
data[a]=this.obj.templates.xml_format(ev[a]);else
data[a]=ev[a];}
return data;};dp._clearUpdateFlag=function(){};dp.attachEvent("insertCallback",scheduler._update_callback);dp.attachEvent("updateCallback",scheduler._update_callback);dp.attachEvent("deleteCallback",function(upd,id){this.obj.setUserData(id,this.action_param,"true_deleted");this.obj.deleteEvent(id);});};scheduler._validId=function(id){return true;};scheduler.setUserData=function(id,name,value){if(id)
this.getEvent(id)[name]=value;else
this._userdata[name]=value;};scheduler.getUserData=function(id,name){return id?this.getEvent(id)[name]:this._userdata[name];};scheduler._set_event_text_style=function(id,style){this.for_rendered(id,function(r){r.style.cssText+=";"+style;});var ev=this.getEvent(id);ev["_text_style"]=style;this.event_updated(ev);};scheduler._update_callback=function(upd,id){var data=scheduler._xmlNodeToJSON(upd.firstChild);data.text=data.text||data._tagvalue;data.start_date=scheduler.templates.xml_date(data.start_date);data.end_date=scheduler.templates.xml_date(data.end_date);scheduler.addEvent(data);};scheduler._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]};scheduler._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]};scheduler._configure=function(col,data,skin){for(var key in data)
if(typeof col[key]=="undefined")
col[key]=data[key][skin];};scheduler._skin_init=function(){if(!scheduler.skin){var links=document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var res=links[i].href.match("dhtmlxscheduler_([a-z]+).css");if(res){scheduler.skin=res[1];break;}}}
var set=0;if(scheduler.skin&&(scheduler.skin==="classic"||scheduler.skin==="glossy"))set=1;this._configure(scheduler.config,scheduler._skin_settings,set);this._configure(scheduler.xy,scheduler._skin_xy,set);if(scheduler.skin==="flat"){scheduler.xy.scale_height=35;scheduler.templates.hour_scale=function(date){var min=date.getMinutes();min=min<10?"0"+min:min;var html="<span class='dhx_scale_h'>"+date.getHours()+"</span>"+"<span class='dhx_scale_m'>&nbsp;"+min+"</span>";return html;};}
if(set)return;var minic=scheduler.config.minicalendar;if(minic)minic.padding=14;scheduler.templates.event_bar_date=function(start,end,ev){return" <b>"+scheduler.templates.event_date(start)+"</b> ";};scheduler.attachEvent("onTemplatesReady",function(){var date_to_str=scheduler.date.date_to_str("%d");if(!scheduler.templates._old_month_day){scheduler.templates._old_month_day=scheduler.templates.month_day;}
var old_month_day=scheduler.templates._old_month_day;scheduler.templates.month_day=function(date){if(this._mode=="month"){var label=date_to_str(date);if(date.getDate()==1){label=scheduler.locale.date.month_full[date.getMonth()]+" "+label;}
if(+date==+scheduler.date.date_part(new Date())){label=scheduler.locale.labels.dhx_cal_today_button+" "+label;}
return label;}else{return old_month_day.call(this,date);}};if(scheduler.config.fix_tab_position){var navline_divs=scheduler._els["dhx_cal_navline"][0].getElementsByTagName('div');var minical=null;var tabs=[];var last=211;for(var i=0;i<navline_divs.length;i++){var div=navline_divs[i];var name=div.getAttribute("name");if(name){div.style.right="auto";switch(name){case"day_tab":div.style.left="14px";div.className+=" dhx_cal_tab_first";break;case"week_tab":div.style.left="75px";break;case"month_tab":div.style.left="136px";div.className+=" dhx_cal_tab_last";break;default:div.style.left=last+"px";div.className+=" dhx_cal_tab_standalone";last=last+14+div.offsetWidth;break;}}else{if((div.className||"").indexOf("dhx_minical_icon")===0&&div.parentNode==scheduler._els["dhx_cal_navline"][0]){minical=div;}}}
if(minical){minical.style.left=last+"px";}}});scheduler._skin_init=function(){};};if(window.jQuery){(function($){var counter=0;var methods=[];$.fn.dhx_scheduler=function(config){if(typeof(config)==='string'){if(methods[config]){return methods[config].apply(this,[]);}else{$.error('Method '+config+' does not exist on jQuery.dhx_scheduler');}}else{var views=[];this.each(function(){if(this&&this.getAttribute){if(!this.getAttribute("dhxscheduler")){var name="scheduler";if(counter){name="scheduler"+(counter+1);window[name]=Scheduler.getSchedulerInstance();}
var comp=window[name];this.setAttribute("dhxscheduler",name);for(var key in config)
if(key!="data")
comp.config[key]=config[key];if(!this.getElementsByTagName("div").length){this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>';this.className+=" dhx_cal_container";}
comp.init(this,comp.config.date,comp.config.mode);if(config.data)
comp.parse(config.data);views.push(comp);counter++;}else
views.push(window[this.getAttribute("dhxscheduler")]);}});if(views.length===1)return views[0];return views;}};})(jQuery);}
(function(){var setCurrentView=scheduler.setCurrentView,updateView=scheduler.updateView;var update_view_timer=null,curr_view_timer=null;var lazy_setCurrentView=function(date,mode){var self=this;window.clearTimeout(curr_view_timer);window.clearTimeout(update_view_timer);updateFlags(this,date,mode);curr_view_timer=setTimeout(function(){if(!self.callEvent("onBeforeViewChange",[self._mode,self._date,mode||self._mode,date||self._date]))return;updateView.call(self,date,mode);self.callEvent("onViewChange",[self._mode,self._date]);window.clearTimeout(update_view_timer);curr_view_timer=0;},scheduler.config.delay_render);};var lazy_updateView=function(date,mode){var self=this,ars=arguments;updateFlags(this,date,mode);window.clearTimeout(update_view_timer);update_view_timer=setTimeout(function(){if(curr_view_timer)
return;updateView.apply(self,ars);},scheduler.config.delay_render);};function updateFlags(scheduler,date,mode){if(date)
scheduler._date=date;if(mode)
scheduler._mode=mode;}
scheduler.attachEvent("onSchedulerReady",function(){if(scheduler.config.delay_render){scheduler.setCurrentView=lazy_setCurrentView;scheduler.updateView=lazy_updateView;}else{scheduler.setCurrentView=setCurrentView;scheduler.updateView=updateView;}});})();for(var i=0;i<Scheduler._schedulerPlugins.length;i++){Scheduler._schedulerPlugins[i](scheduler);}
scheduler._internal_id=Scheduler._seed++;if(Scheduler.$syncFactory)
Scheduler.$syncFactory(scheduler);return scheduler;};window.scheduler=Scheduler.getSchedulerInstance();if(dhtmlx&&dhtmlx.attaches){dhtmlx.attaches.attachScheduler=function(day,mode,tabs,scheduler){var tabs=tabs||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>';var obj=document.createElement("DIV");obj.id="dhxSchedObj_"+this._genStr(12);obj.innerHTML='<div id="'+obj.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+tabs+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>';document.body.appendChild(obj.firstChild);this.attachObject(obj.id,false,true);this.vs[this.av].sched=scheduler;this.vs[this.av].schedId=obj.id;scheduler.setSizes=scheduler.updateView;scheduler.destructor=function(){};scheduler.init(obj.id,day,mode);return this.vs[this._viewRestore()].sched;};}

Scheduler.plugin(function(scheduler){(function(){scheduler.config.container_autoresize=true;scheduler.config.month_day_min_height=90;var old_pre_render_event=scheduler._pre_render_events;var active=true;scheduler._pre_render_events=function(evs,hold){if(!(scheduler.config.container_autoresize&&active)){return old_pre_render_event.apply(this,arguments);}
var hb=this.xy.bar_height;var h_old=this._colsS.heights;var h=this._colsS.heights=[0,0,0,0,0,0,0];var data=this._els["dhx_cal_data"][0];if(!this._table_view)
evs=this._pre_render_events_line(evs,hold);else
evs=this._pre_render_events_table(evs,hold);if(this._table_view){if(hold){this._colsS.heights=h_old;}else{var evl=data.firstChild;if(evl.rows){for(var i=0;i<evl.rows.length;i++){h[i]++;if((h[i])*hb>this._colsS.height-this.xy.month_head_height){var cells=evl.rows[i].cells;var cHeight=this._colsS.height-this.xy.month_head_height;if(this.config.max_month_events*1!==this.config.max_month_events||h[i]<=this.config.max_month_events){cHeight=h[i]*hb;}else if((this.config.max_month_events+1)*hb>this._colsS.height-this.xy.month_head_height){cHeight=(this.config.max_month_events+1)*hb;}
for(var j=0;j<cells.length;j++){cells[j].childNodes[1].style.height=cHeight+"px";}
h[i]=(h[i-1]||0)+cells[0].offsetHeight;}
h[i]=(h[i-1]||0)+evl.rows[i].cells[0].offsetHeight;}
h.unshift(0);if(evl.parentNode.offsetHeight<evl.parentNode.scrollHeight&&!evl._h_fix){}}else{if(!evs.length&&this._els["dhx_multi_day"][0].style.visibility=="visible")
h[0]=-1;if(evs.length||h[0]==-1){var childs=evl.parentNode.childNodes;var dh=((h[0]+1)*hb+1)+"px";data.style.top=(this._els["dhx_cal_navline"][0].offsetHeight+this._els["dhx_cal_header"][0].offsetHeight+parseInt(dh,10))+'px';data.style.height=(this._obj.offsetHeight-parseInt(data.style.top,10)-(this.xy.margin_top||0))+'px';var last=this._els["dhx_multi_day"][0];last.style.height=dh;last.style.visibility=(h[0]==-1?"hidden":"visible");last=this._els["dhx_multi_day"][1];last.style.height=dh;last.style.visibility=(h[0]==-1?"hidden":"visible");last.className=h[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small";this._dy_shift=(h[0]+1)*hb;h[0]=0;}}}}
return evs;};var checked_divs=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"];var updateContainterHeight=function(is_repaint){var total_height=0;for(var i=0;i<checked_divs.length;i++){var className=checked_divs[i];var checked_div=(scheduler._els[className])?scheduler._els[className][0]:null;var height=0;switch(className){case"dhx_cal_navline":case"dhx_cal_header":height=parseInt(checked_div.style.height,10);break;case"dhx_multi_day":height=(checked_div)?checked_div.offsetHeight:0;if(height==1)
height=0;break;case"dhx_cal_data":var mode=scheduler.getState().mode;if(checked_div.childNodes[1]&&mode!="month"){height=checked_div.childNodes[1].offsetHeight;}
else{height=Math.max(checked_div.offsetHeight-1,checked_div.scrollHeight);}
if(mode=="month"){if(scheduler.config.month_day_min_height&&!is_repaint){var rows_length=checked_div.getElementsByTagName("tr").length;height=rows_length*scheduler.config.month_day_min_height;}
if(is_repaint){checked_div.style.height=height+"px";}}
if(scheduler.matrix&&scheduler.matrix[mode]){checked_div.style.height='auto';}
if(mode=="day"||mode=="week"||mode=="unit"){height+=4;}
if(mode=='timeline'){}
break;}
total_height+=height;}
if(scheduler._mode=='timeline'){scheduler._obj.style.height="auto";}else{scheduler._obj.style.height=(total_height)+"px";}
if(!is_repaint)
scheduler.updateView();};var conditionalUpdateContainerHeight=function(){if(!(scheduler.config.container_autoresize&&active))
return true;var mode=scheduler.getState().mode;updateContainterHeight();if((scheduler.matrix&&scheduler.matrix[mode])||mode=="month"){window.setTimeout(function(){updateContainterHeight(true);},1);}};scheduler.attachEvent("onViewChange",conditionalUpdateContainerHeight);scheduler.attachEvent("onXLE",conditionalUpdateContainerHeight);scheduler.attachEvent("onEventChanged",conditionalUpdateContainerHeight);scheduler.attachEvent("onEventCreated",conditionalUpdateContainerHeight);scheduler.attachEvent("onEventAdded",conditionalUpdateContainerHeight);scheduler.attachEvent("onEventDeleted",conditionalUpdateContainerHeight);scheduler.attachEvent("onAfterSchedulerResize",conditionalUpdateContainerHeight);scheduler.attachEvent("onClearAll",conditionalUpdateContainerHeight);scheduler.attachEvent("onBeforeExpand",function(){active=false;return true;});scheduler.attachEvent("onBeforeCollapse",function(){active=true;return true;});})();});

Scheduler.plugin(function(scheduler){scheduler.config.limit_start=null;scheduler.config.limit_end=null;scheduler.config.limit_view=false;scheduler.config.check_limits=true;scheduler.config.mark_now=true;scheduler.config.display_marked_timespans=true;scheduler._temp_limit_scope=function(){var before=null;var dhx_time_block="dhx_time_block";var default_timespan_type="default";var fix_options=function(options,days,zones){if(days instanceof Date&&zones instanceof Date){options.start_date=days;options.end_date=zones;}else{options.days=days;options.zones=zones;}
return options;};var get_resulting_options=function(days,zones,sections){var options=(typeof days=="object")?days:{days:days};options.type=dhx_time_block;options.css="";if(zones){if(sections)
options.sections=sections;options=fix_options(options,days,zones);}
return options;};scheduler.blockTime=function(days,zones,sections){var options=get_resulting_options(days,zones,sections);return scheduler.addMarkedTimespan(options);};scheduler.unblockTime=function(days,zones,sections){zones=zones||"fullday";var options=get_resulting_options(days,zones,sections);return scheduler.deleteMarkedTimespan(options);};scheduler.attachEvent("onBeforeViewChange",function(om,od,nm,nd){function isBlocked(date,mode){var limit_start=scheduler.config.limit_start,limit_end=scheduler.config.limit_end,date_end=scheduler.date.add(date,1,mode);return(date.valueOf()>limit_end.valueOf()||date_end<=limit_start.valueOf());}
if(scheduler.config.limit_view){nd=nd||od;nm=nm||om;if(isBlocked(nd,nm)&&!(od.valueOf()==nd.valueOf())){setTimeout(function(){var resetDate=!isBlocked(od,nm)?od:scheduler.config.limit_start;scheduler.setCurrentView(!isBlocked(resetDate,nm)?resetDate:null,nm);},1);return false;}}
return true;});scheduler.checkInMarkedTimespan=function(ev,timespan_type,on_overlap){timespan_type=timespan_type||default_timespan_type;var res=true;var temp_start_date=new Date(ev.start_date.valueOf());var temp_end_date=scheduler.date.add(temp_start_date,1,"day");var timespans=scheduler._marked_timespans;for(;temp_start_date<ev.end_date;temp_start_date=scheduler.date.date_part(temp_end_date),temp_end_date=scheduler.date.add(temp_start_date,1,"day")){var day_value=+scheduler.date.date_part(new Date(temp_start_date));var day_index=temp_start_date.getDay();var zones=getZones(ev,timespans,day_index,day_value,timespan_type);if(zones){for(var i=0;i<zones.length;i+=2){var sm=scheduler._get_zone_minutes(temp_start_date);var em=(ev.end_date>temp_end_date||ev.end_date.getDate()!=temp_start_date.getDate())?1440:scheduler._get_zone_minutes(ev.end_date);var sz=zones[i];var ez=zones[i+1];if(sz<em&&ez>sm){if(typeof on_overlap=="function"){res=on_overlap(ev,sm,em,sz,ez);}else{res=false;}
if(!res)
break;}}}}
return!res;};var blocker=scheduler.checkLimitViolation=function(event){if(!event)
return true;if(!scheduler.config.check_limits)
return true;var s=scheduler;var c=s.config;var evs=[];if(event.rec_type){var dates=scheduler.getRecDates(event);for(var i=0;i<dates.length;i++){var ev=scheduler._copy_event(event);scheduler._lame_copy(ev,dates[i]);evs.push(ev);}}else{evs=[event];}
var complete_res=true;for(var p=0;p<evs.length;p++){var res=true;var ev=evs[p];ev._timed=scheduler.isOneDayEvent(ev);res=(c.limit_start&&c.limit_end)?(ev.start_date.valueOf()>=c.limit_start.valueOf()&&ev.end_date.valueOf()<=c.limit_end.valueOf()):true;if(res){res=!scheduler.checkInMarkedTimespan(ev,dhx_time_block,function(ev,sm,em,sz,ez){var allow=true;if(sm<=ez&&sm>=sz){if(ez==24*60||em<ez){allow=false;}
if(ev._timed&&s._drag_id&&s._drag_mode=="new-size"){ev.start_date.setHours(0);ev.start_date.setMinutes(ez);}
else{allow=false;}}
if((em>=sz&&em<ez)||(sm<sz&&em>ez)){if(ev._timed&&s._drag_id&&s._drag_mode=="new-size"){ev.end_date.setHours(0);ev.end_date.setMinutes(sz);}
else{allow=false;}}
return allow;});}
if(!res){res=(s.checkEvent("onLimitViolation"))?s.callEvent("onLimitViolation",[ev.id,ev]):res;}
complete_res=complete_res&&res;}
if(!complete_res){s._drag_id=null;s._drag_mode=null;}
return complete_res;};scheduler._get_blocked_zones=function(timespans,property,day_index,day_value,timespan_type){var zones=[];if(timespans&&timespans[property]){var timeline_zones=timespans[property];var blocked_timeline_zones=this._get_relevant_blocked_zones(day_index,day_value,timeline_zones,timespan_type);for(var i=0;i<blocked_timeline_zones.length;i++){zones=this._add_timespan_zones(zones,blocked_timeline_zones[i].zones);}}
return zones;};scheduler._get_relevant_blocked_zones=function(day_index,day_value,zones,timespan_type){var relevant_zones=(zones[day_value]&&zones[day_value][timespan_type])?zones[day_value][timespan_type]:(zones[day_index]&&zones[day_index][timespan_type])?zones[day_index][timespan_type]:[];return relevant_zones;};function getZones(ev,timespans,day_index,day_value,timespan_type){var s=scheduler;var zones=[];var containers={'_props':'map_to','matrix':'y_property'};for(var container in containers){var property=containers[container];if(s[container]){for(var view in s[container]){var view_config=s[container][view];var linker=view_config[property];if(!ev[linker])continue;zones=s._add_timespan_zones(zones,scheduler._get_blocked_zones(timespans[view],ev[linker],day_index,day_value,timespan_type));}}}
zones=s._add_timespan_zones(zones,scheduler._get_blocked_zones(timespans,'global',day_index,day_value,timespan_type));return zones;}
scheduler.attachEvent("onMouseDown",function(classname){return!(classname==dhx_time_block);});scheduler.attachEvent("onBeforeDrag",function(id){if(!id)return true;return blocker(scheduler.getEvent(id));});scheduler.attachEvent("onClick",function(event_id,native_event_object){return blocker(scheduler.getEvent(event_id));});scheduler.attachEvent("onBeforeLightbox",function(id){var ev=scheduler.getEvent(id);before=[ev.start_date,ev.end_date];return blocker(ev);});scheduler.attachEvent("onEventSave",function(id,data,is_new_event){if(!(data.start_date&&data.end_date)){var ev=scheduler.getEvent(id);data.start_date=new Date(ev.start_date);data.end_date=new Date(ev.end_date);}
if(data.rec_type){var data_copy=scheduler._lame_clone(data);scheduler._roll_back_dates(data_copy);return blocker(data_copy);}
return blocker(data);});scheduler.attachEvent("onEventAdded",function(id){if(!id)return true;var ev=scheduler.getEvent(id);if(!blocker(ev)&&scheduler.config.limit_start&&scheduler.config.limit_end){if(ev.start_date<scheduler.config.limit_start){ev.start_date=new Date(scheduler.config.limit_start);}
if(ev.start_date.valueOf()>=scheduler.config.limit_end.valueOf()){ev.start_date=this.date.add(scheduler.config.limit_end,-1,"day");}
if(ev.end_date<scheduler.config.limit_start){ev.end_date=new Date(scheduler.config.limit_start);}
if(ev.end_date.valueOf()>=scheduler.config.limit_end.valueOf()){ev.end_date=this.date.add(scheduler.config.limit_end,-1,"day");}
if(ev.start_date.valueOf()>=ev.end_date.valueOf()){ev.end_date=this.date.add(ev.start_date,(this.config.event_duration||this.config.time_step),"minute");}
ev._timed=this.isOneDayEvent(ev);}
return true;});scheduler.attachEvent("onEventChanged",function(id){if(!id)return true;var ev=scheduler.getEvent(id);if(!blocker(ev)){if(!before)return false;ev.start_date=before[0];ev.end_date=before[1];ev._timed=this.isOneDayEvent(ev);}
return true;});scheduler.attachEvent("onBeforeEventChanged",function(ev,native_object,is_new){return blocker(ev);});scheduler.attachEvent("onBeforeEventCreated",function(ev){var start_date=scheduler.getActionData(ev).date;var event={_timed:true,start_date:start_date,end_date:scheduler.date.add(start_date,scheduler.config.time_step,"minute")};return blocker(event);});scheduler.attachEvent("onViewChange",function(){scheduler._mark_now();});scheduler.attachEvent("onSchedulerResize",function(){window.setTimeout(function(){scheduler._mark_now();},1);return true;});scheduler.attachEvent("onTemplatesReady",function(){scheduler._mark_now_timer=window.setInterval(function(){if(!scheduler._is_initialized())
return;scheduler._mark_now();},60000);});scheduler._mark_now=function(hide){var dhx_now_time='dhx_now_time';if(!this._els[dhx_now_time]){this._els[dhx_now_time]=[];}
var now=scheduler._currentDate();var cfg=this.config;scheduler._remove_mark_now();if(!hide&&cfg.mark_now&&now<this._max_date&&now>this._min_date&&now.getHours()>=cfg.first_hour&&now.getHours()<cfg.last_hour){var day_index=this.locate_holder_day(now);this._els[dhx_now_time]=scheduler._append_mark_now(day_index,now);}};scheduler._append_mark_now=function(day_index,now){var dhx_now_time='dhx_now_time';var zone_start=scheduler._get_zone_minutes(now);var options={zones:[zone_start,zone_start+1],css:dhx_now_time,type:dhx_now_time};if(!this._table_view){if(this._props&&this._props[this._mode]){var view=this._props[this._mode];var units_l=view.size||view.options.length;var start_index=day_index*units_l;var end_index=(day_index+1)*units_l;var day_divs=this._els["dhx_cal_data"][0].childNodes;var r_divs=[];for(var i=start_index;i<end_index;i++){var t_day=i;options.days=t_day;var t_div=scheduler._render_marked_timespan(options,null,t_day)[0];r_divs.push(t_div);}
return r_divs;}else{options.days=day_index;return scheduler._render_marked_timespan(options,null,day_index);}}else{if(this._mode=="month"){options.days=+scheduler.date.date_part(now);return scheduler._render_marked_timespan(options,null,null);}}};scheduler._remove_mark_now=function(){var dhx_now_time='dhx_now_time';var els=this._els[dhx_now_time];for(var i=0;i<els.length;i++){var div=els[i];var parent=div.parentNode;if(parent){parent.removeChild(div);}}
this._els[dhx_now_time]=[];};scheduler._marked_timespans={global:{}};scheduler._get_zone_minutes=function(date){return date.getHours()*60+date.getMinutes();};scheduler._prepare_timespan_options=function(config){var r_configs=[];var temp_configs=[];if(config.days=="fullweek")
config.days=[0,1,2,3,4,5,6];if(config.days instanceof Array){var t_days=config.days.slice();for(var i=0;i<t_days.length;i++){var cloned_config=scheduler._lame_clone(config);cloned_config.days=t_days[i];r_configs.push.apply(r_configs,scheduler._prepare_timespan_options(cloned_config));}
return r_configs;}
if(!config||!((config.start_date&&config.end_date&&config.end_date>config.start_date)||(config.days!==undefined&&config.zones)))
return r_configs;var min=0;var max=24*60;if(config.zones=="fullday")
config.zones=[min,max];if(config.zones&&config.invert_zones){config.zones=scheduler.invertZones(config.zones);}
config.id=scheduler.uid();config.css=config.css||"";config.type=config.type||default_timespan_type;var sections=config.sections;if(sections){for(var view_key in sections){if(sections.hasOwnProperty(view_key)){var ids=sections[view_key];if(!(ids instanceof Array))
ids=[ids];for(var i=0;i<ids.length;i++){var t_config=scheduler._lame_copy({},config);t_config.sections={};t_config.sections[view_key]=ids[i];temp_configs.push(t_config);}}}}else{temp_configs.push(config);}
for(var k=0;k<temp_configs.length;k++){var c_config=temp_configs[k];var start_date=c_config.start_date;var end_date=c_config.end_date;if(start_date&&end_date){var t_sd=scheduler.date.date_part(new Date(start_date));var t_ed=scheduler.date.add(t_sd,1,"day");while(t_sd<end_date){var t_config=scheduler._lame_copy({},c_config);delete t_config.start_date;delete t_config.end_date;t_config.days=t_sd.valueOf();var zone_start=(start_date>t_sd)?scheduler._get_zone_minutes(start_date):min;var zone_end=(end_date>t_ed||end_date.getDate()!=t_sd.getDate())?max:scheduler._get_zone_minutes(end_date);t_config.zones=[zone_start,zone_end];r_configs.push(t_config);t_sd=t_ed;t_ed=scheduler.date.add(t_ed,1,"day");}}else{if(c_config.days instanceof Date)
c_config.days=(scheduler.date.date_part(c_config.days)).valueOf();c_config.zones=config.zones.slice();r_configs.push(c_config);}}
return r_configs;};scheduler._get_dates_by_index=function(index,start,end){var dates=[];start=scheduler.date.date_part(new Date(start||scheduler._min_date));end=new Date(end||scheduler._max_date);var start_day=start.getDay();var delta=(index-start_day>=0)?(index-start_day):(7-start.getDay()+index);var t_date=scheduler.date.add(start,delta,"day");for(;t_date<end;t_date=scheduler.date.add(t_date,1,"week")){dates.push(t_date);}
return dates;};scheduler._get_css_classes_by_config=function(config){var css_classes=[];if(config.type==dhx_time_block){css_classes.push(dhx_time_block);if(config.css)
css_classes.push(dhx_time_block+"_reset");}
css_classes.push("dhx_marked_timespan",config.css);return css_classes.join(" ");};scheduler._get_block_by_config=function(config){var block=document.createElement("DIV");if(config.html){if(typeof config.html=="string")
block.innerHTML=config.html;else
block.appendChild(config.html);}
return block;};scheduler._render_marked_timespan=function(options,area,day){var blocks=[];var c=scheduler.config;var min_date=this._min_date;var max_date=this._max_date;var day_value=false;if(!c.display_marked_timespans)
return blocks;if(!day&&day!==0){if(options.days<7)
day=options.days;else{var date_to_display=new Date(options.days);day_value=+date_to_display;if(!(+max_date>+date_to_display&&+min_date<=+date_to_display))
return blocks;day=date_to_display.getDay();}
var min_day=min_date.getDay();if(min_day>day){day=7-(min_day-day);}else{day=day-min_day;}}
var zones=options.zones;var css_classes=scheduler._get_css_classes_by_config(options);if(scheduler._table_view&&scheduler._mode=="month"){var areas=[];var days=[];if(!area){days=(day_value)?[day_value]:scheduler._get_dates_by_index(day);for(var i=0;i<days.length;i++){areas.push(this._scales[days[i]]);}}else{areas.push(area);days.push(day);}
for(var i=0;i<areas.length;i++){area=areas[i];day=days[i];var sweek=Math.floor((this._correct_shift(day,1)-min_date.valueOf())/(60*60*1000*24*this._cols.length)),sday=this.locate_holder_day(day,false)%this._cols.length;if(this._ignores[sday])continue;var block_proto=scheduler._get_block_by_config(options),height=Math.max(area.offsetHeight-1,0),width=Math.max(area.offsetWidth-1,0),left=this._colsS[sday],top=this._colsS.heights[sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)-1;block_proto.className=css_classes;block_proto.style.top=top+"px";block_proto.style.lineHeight=block_proto.style.height=height+"px";for(var k=0;k<zones.length;k+=2){var start=zones[i];var end=zones[i+1];if(end<=start)
return[];var block=block_proto.cloneNode(true);block.style.left=(left+Math.round((start)/(24*60)*width))+"px";block.style.width=Math.round((end-start)/(24*60)*width)+"px";area.appendChild(block);blocks.push(block);}}}else{var index=day;if(this._ignores[this.locate_holder_day(day,false)])return blocks;if(this._props&&this._props[this._mode]&&options.sections&&options.sections[this._mode]){var view=this._props[this._mode];index=view.order[options.sections[this._mode]];var inner_index=view.order[options.sections[this._mode]];if(!(view.days>1)){index=inner_index;if(view.size&&(index>view.position+view.size)){index=0;}}else{var units_l=view.size||view.options.length;index=index*units_l+inner_index;}}
area=area?area:scheduler.locate_holder(index);for(var i=0;i<zones.length;i+=2){var start=Math.max(zones[i],c.first_hour*60);var end=Math.min(zones[i+1],c.last_hour*60);if(end<=start){if(i+2<zones.length)
continue;else
return[];}
var block=scheduler._get_block_by_config(options);block.className=css_classes;var all_hours_height=this.config.hour_size_px*24+1;var hour_ms=60*60*1000;block.style.top=(Math.round((start*60*1000-this.config.first_hour*hour_ms)*this.config.hour_size_px/hour_ms)%all_hours_height)+"px";block.style.lineHeight=block.style.height=Math.max((Math.round(((end-start)*60*1000)*this.config.hour_size_px/hour_ms))%all_hours_height,1)+"px";area.appendChild(block);blocks.push(block);}}
return blocks;};scheduler.markTimespan=function(configuration){var divs=[];var rebuild_els=false;if(!this._els["dhx_cal_data"]){scheduler.get_elements();rebuild_els=true;}
var data=this._els["dhx_cal_data"][0];var timespans_ids=scheduler._marked_timespans_ids,timespan_types=scheduler._marked_timespans_types,timespans=scheduler._marked_timespans;scheduler.deleteMarkedTimespan();scheduler.addMarkedTimespan(configuration);var date=new Date(scheduler._min_date);for(var i=0,len=data.childNodes.length;i<len;i++){var area=data.childNodes[i];if(area.firstChild&&(area.firstChild.className||"").indexOf("dhx_scale_hour")>-1){continue;}
divs.push.apply(divs,scheduler._on_scale_add_marker(area,date));date=scheduler.date.add(date,1,"day");}
if(rebuild_els)
scheduler._els=[];scheduler._marked_timespans_ids=timespans_ids;scheduler._marked_timespans_types=timespan_types;scheduler._marked_timespans=timespans;return divs;};scheduler.unmarkTimespan=function(divs){if(!divs)
return;for(var i=0;i<divs.length;i++){var div=divs[i];if(div.parentNode){div.parentNode.removeChild(div);}}};scheduler._marked_timespans_ids={};scheduler.addMarkedTimespan=function(configuration){var configs=scheduler._prepare_timespan_options(configuration);var global="global";if(!configs.length)
return;var id=configs[0].id;var timespans=scheduler._marked_timespans;var ids=scheduler._marked_timespans_ids;if(!ids[id])
ids[id]=[];for(var i=0;i<configs.length;i++){var config=configs[i];var day=config.days;var zones=config.zones;var css=config.css;var sections=config.sections;var type=config.type;config.id=id;if(sections){for(var view_key in sections){if(sections.hasOwnProperty(view_key)){if(!timespans[view_key])
timespans[view_key]={};var unit_id=sections[view_key];var timespans_view=timespans[view_key];if(!timespans_view[unit_id])
timespans_view[unit_id]={};if(!timespans_view[unit_id][day])
timespans_view[unit_id][day]={};if(!timespans_view[unit_id][day][type]){timespans_view[unit_id][day][type]=[];if(!scheduler._marked_timespans_types)
scheduler._marked_timespans_types={};if(!scheduler._marked_timespans_types[type])
scheduler._marked_timespans_types[type]=true;}
var day_configs=timespans_view[unit_id][day][type];config._array=day_configs;day_configs.push(config);ids[id].push(config);}}}else{if(!timespans[global][day])
timespans[global][day]={};if(!timespans[global][day][type])
timespans[global][day][type]=[];if(!scheduler._marked_timespans_types)
scheduler._marked_timespans_types={};if(!scheduler._marked_timespans_types[type])
scheduler._marked_timespans_types[type]=true;var day_configs=timespans[global][day][type];config._array=day_configs;day_configs.push(config);ids[id].push(config);}}
return id;};scheduler._add_timespan_zones=function(current_zones,zones){var resulting_zones=current_zones.slice();zones=zones.slice();if(!resulting_zones.length)
return zones;for(var i=0;i<resulting_zones.length;i+=2){var c_zone_start=resulting_zones[i];var c_zone_end=resulting_zones[i+1];var isLast=(i+2==resulting_zones.length);for(var k=0;k<zones.length;k+=2){var zone_start=zones[k];var zone_end=zones[k+1];if((zone_end>c_zone_end&&zone_start<=c_zone_end)||(zone_start<c_zone_start&&zone_end>=c_zone_start)){resulting_zones[i]=Math.min(c_zone_start,zone_start);resulting_zones[i+1]=Math.max(c_zone_end,zone_end);i-=2;}else{if(!isLast)
continue;var offset=(c_zone_start>zone_start)?0:2;resulting_zones.splice(i+offset,0,zone_start,zone_end);}
zones.splice(k--,2);break;}}
return resulting_zones;};scheduler._subtract_timespan_zones=function(current_zones,zones){var resulting_zones=current_zones.slice();for(var i=0;i<resulting_zones.length;i+=2){var c_zone_start=resulting_zones[i];var c_zone_end=resulting_zones[i+1];for(var k=0;k<zones.length;k+=2){var zone_start=zones[k];var zone_end=zones[k+1];if(zone_end>c_zone_start&&zone_start<c_zone_end){var is_modified=false;if(c_zone_start>=zone_start&&c_zone_end<=zone_end){resulting_zones.splice(i,2);}
if(c_zone_start<zone_start){resulting_zones.splice(i,2,c_zone_start,zone_start);is_modified=true;}
if(c_zone_end>zone_end){resulting_zones.splice((is_modified)?(i+2):i,(is_modified)?0:2,zone_end,c_zone_end);}
i-=2;break;}else{continue;}}}
return resulting_zones;};scheduler.invertZones=function(zones){return scheduler._subtract_timespan_zones([0,1440],zones.slice());};scheduler._delete_marked_timespan_by_id=function(id){var configs=scheduler._marked_timespans_ids[id];if(configs){for(var i=0;i<configs.length;i++){var config=configs[i];var parent_array=config._array;for(var k=0;k<parent_array.length;k++){if(parent_array[k]==config){parent_array.splice(k,1);break;}}}}};scheduler._delete_marked_timespan_by_config=function(config){var timespans=scheduler._marked_timespans;var sections=config.sections;var day=config.days;var type=config.type||default_timespan_type;var day_timespans=[];if(sections){for(var view_key in sections){if(sections.hasOwnProperty(view_key)&&timespans[view_key]){var unit_id=sections[view_key];if(timespans[view_key][unit_id]&&timespans[view_key][unit_id][day]&&timespans[view_key][unit_id][day][type])
day_timespans=timespans[view_key][unit_id][day][type];}}}else{if(timespans.global[day]&&timespans.global[day][type])
day_timespans=timespans.global[day][type];}
for(var i=0;i<day_timespans.length;i++){var d_t=day_timespans[i];var zones=scheduler._subtract_timespan_zones(d_t.zones,config.zones);if(zones.length)
d_t.zones=zones;else{day_timespans.splice(i,1);i--;var related_zones=scheduler._marked_timespans_ids[d_t.id];for(var k=0;k<related_zones.length;k++){if(related_zones[k]==d_t){related_zones.splice(k,1);break;}}}}
for(var i in scheduler._marked_timespans.timeline){for(var j in scheduler._marked_timespans.timeline[i]){for(var k in scheduler._marked_timespans.timeline[i][j]){if(k===type){delete scheduler._marked_timespans.timeline[i][j][k];}}}}};scheduler.deleteMarkedTimespan=function(configuration){if(!arguments.length){scheduler._marked_timespans={global:{}};scheduler._marked_timespans_ids={};scheduler._marked_timespans_types={};}
if(typeof configuration!="object"){scheduler._delete_marked_timespan_by_id(configuration);}else{if(!(configuration.start_date&&configuration.end_date)){if(!configuration.days)
configuration.days="fullweek";if(!configuration.zones)
configuration.zones="fullday";}
var types=[];if(!configuration.type){for(var type in scheduler._marked_timespans_types){types.push(type);}}else{types.push(configuration.type);}
var configs=scheduler._prepare_timespan_options(configuration);for(var i=0;i<configs.length;i++){var config=configs[i];for(var t=0;t<types.length;t++){var typedConfig=scheduler._lame_clone(config);typedConfig.type=types[t];scheduler._delete_marked_timespan_by_config(typedConfig);}}}};scheduler._get_types_to_render=function(common,specific){var types_to_render=(common)?common:{};for(var type in specific||{}){if(specific.hasOwnProperty(type)){types_to_render[type]=specific[type];}}
return types_to_render;};scheduler._get_configs_to_render=function(types){var configs=[];for(var type in types){if(types.hasOwnProperty(type)){configs.push.apply(configs,types[type]);}}
return configs;};scheduler._on_scale_add_marker=function(area,day){if(scheduler._table_view&&scheduler._mode!="month")
return;var day_index=day.getDay();var day_value=day.valueOf();var mode=this._mode;var timespans=scheduler._marked_timespans;var r_configs=[];var divs=[];if(this._props&&this._props[mode]){var view=this._props[mode];var units=view.options;var index=scheduler._get_unit_index(view,day);var unit=units[index];if(!(view.days>1)){day=scheduler.date.date_part(new Date(this._date));}else{var dx=24*60*60*1000;var day_ind=Math.floor((day-scheduler._min_date)/dx);day=scheduler.date.add(scheduler._min_date,Math.floor(day_ind/units.length),"day");day=scheduler.date.date_part(day);}
day_index=day.getDay();day_value=day.valueOf();if(timespans[mode]&&timespans[mode][unit.key]){var unit_zones=timespans[mode][unit.key];var unit_types=scheduler._get_types_to_render(unit_zones[day_index],unit_zones[day_value]);r_configs.push.apply(r_configs,scheduler._get_configs_to_render(unit_types));}}
var global_data=timespans["global"];var day_types=global_data[day_value]||global_data[day_index];r_configs.push.apply(r_configs,scheduler._get_configs_to_render(day_types));for(var i=0;i<r_configs.length;i++){divs.push.apply(divs,(scheduler._render_marked_timespan(r_configs[i],area,day)));}
return divs;};scheduler.attachEvent("onScaleAdd",scheduler._on_scale_add_marker);scheduler.dblclick_dhx_marked_timespan=function(e,src){if(!scheduler.config.dblclick_create){scheduler.callEvent("onScaleDblClick",[scheduler.getActionData(e).date,src,e]);}
scheduler.addEventNow(scheduler.getActionData(e).date,null,e);};};scheduler._temp_limit_scope();});

Scheduler.plugin(function(scheduler){scheduler._temp_matrix_scope=function(){scheduler.matrix={};scheduler._merge=function(a,b){for(var c in b)
if(typeof a[c]=="undefined")
a[c]=b[c];};scheduler.createTimelineView=function(obj){scheduler._skin_init();scheduler._merge(obj,{section_autoheight:true,name:"matrix",x:"time",y:"time",x_step:1,x_unit:"hour",y_unit:"day",y_step:1,x_start:0,x_size:24,y_start:0,y_size:7,render:"cell",dx:200,dy:50,event_dy:scheduler.xy.bar_height-5,event_min_dy:scheduler.xy.bar_height-5,resize_events:true,fit_events:true,show_unassigned:false,second_scale:false,round_position:false,_logic:function(render_name,y_unit,timeline){var res={};if(scheduler.checkEvent("onBeforeSectionRender")){res=scheduler.callEvent("onBeforeSectionRender",[render_name,y_unit,timeline]);}
return res;}});obj._original_x_start=obj.x_start;if(obj.x_unit!="day")obj.first_hour=obj.last_hour=0;obj._start_correction=obj.first_hour?obj.first_hour*60*60*1000:0;obj._end_correction=obj.last_hour?(24-obj.last_hour)*60*60*1000:0;if(scheduler.checkEvent("onTimelineCreated")){scheduler.callEvent("onTimelineCreated",[obj]);}
var old=scheduler.render_data;scheduler.render_data=function(evs,mode){if(this._mode==obj.name){if(mode&&!obj.show_unassigned&&obj.render!="cell"){for(var i=0;i<evs.length;i++){this.clear_event(evs[i]);this.render_timeline_event.call(this.matrix[this._mode],evs[i],true);}}else{scheduler._renderMatrix.call(obj,true,true);}}else
return old.apply(this,arguments);};scheduler.matrix[obj.name]=obj;scheduler.templates[obj.name+"_cell_value"]=function(ar){return ar?ar.length:"";};scheduler.templates[obj.name+"_cell_class"]=function(arr){return"";};scheduler.templates[obj.name+"_scalex_class"]=function(date){return"";};scheduler.templates[obj.name+"_second_scalex_class"]=function(date){return"";};scheduler.templates[obj.name+"_scaley_class"]=function(section_id,section_label,section_options){return"";};scheduler.templates[obj.name+"_scale_label"]=function(section_id,section_label,section_options){return section_label;};scheduler.templates[obj.name+"_tooltip"]=function(a,b,e){return e.text;};scheduler.templates[obj.name+"_date"]=function(datea,dateb){if((datea.getDay()==dateb.getDay()&&dateb-datea<(24*60*60*1000))||+datea==+scheduler.date.date_part(new Date(dateb))||(+scheduler.date.add(datea,1,"day")==+dateb&&dateb.getHours()===0&&dateb.getMinutes()===0))
return scheduler.templates.day_date(datea);if((datea.getDay()!=dateb.getDay()&&dateb-datea<(24*60*60*1000))){return scheduler.templates.day_date(datea)+" &ndash; "+scheduler.templates.day_date(dateb);}
return scheduler.templates.week_date(datea,dateb);};scheduler.templates[obj.name+"_scale_date"]=scheduler.date.date_to_str(obj.x_date||scheduler.config.hour_date);scheduler.templates[obj.name+"_second_scale_date"]=scheduler.date.date_to_str((obj.second_scale&&obj.second_scale.x_date)?obj.second_scale.x_date:scheduler.config.hour_date);scheduler.date["add_"+obj.name+"_private"]=function(date,step){var shift=step;var unit=obj.x_unit;if(obj.x_unit=="minute"||obj.x_unit=="hour"){var scroll_step=shift;if(obj.x_unit=="hour")
scroll_step*=60;if(!(scroll_step%(24*60))){shift=scroll_step/(24*60);unit='day';}}
return scheduler.date.add(date,shift,unit);};scheduler.date["add_"+obj.name]=function(date,step,c){var resulting_date=scheduler.date["add_"+obj.name+"_private"](date,(obj.x_length||obj.x_size)*obj.x_step*step);if(obj.x_unit=="minute"||obj.x_unit=="hour"){var size=(obj.x_length||obj.x_size);var converted_step=(obj.x_unit=="hour")?obj.x_step*60:obj.x_step;if((converted_step*size)%(24*60)){if(+scheduler.date.date_part(new Date(date))==+scheduler.date.date_part(new Date(resulting_date))){obj.x_start+=step*size;}else{var total_steps=((24*60)/(size*converted_step))-1;var steps_offset=Math.round(total_steps*size);if(step>0){obj.x_start=obj.x_start-steps_offset;}else{obj.x_start=steps_offset+obj.x_start;}}}}
return resulting_date;};scheduler.date[obj.name+"_start"]=function(date){var func=scheduler.date[obj.x_unit+"_start"]||scheduler.date.day_start;var start_date=func.call(scheduler.date,date);start_date=scheduler.date.add(start_date,obj.x_step*obj.x_start,obj.x_unit);return start_date;};scheduler.callEvent("onOptionsLoad",[obj]);scheduler[obj.name+"_view"]=function(enable){if(enable){scheduler._set_timeline_dates(obj);}else{scheduler._renderMatrix.apply(obj,arguments);}};var temp_date=new Date();var step_diff=(scheduler.date.add(temp_date,obj.x_step,obj.x_unit).valueOf()-temp_date.valueOf());scheduler["mouse_"+obj.name]=function(pos){var ev=this._drag_event;if(this._drag_id){ev=this.getEvent(this._drag_id);}
if(this._drag_pos&&this._is_pos_changed(this._drag_pos,pos)){this._drag_event._dhx_changed=true;}
pos.x-=obj.dx;var end_date=scheduler._timeline_drag_date(obj,pos.x);pos.x=0;pos.force_redraw=true;pos.custom=true;if(this._drag_mode=="move"&&this._drag_id&&this._drag_event){var ev=this.getEvent(this._drag_id);var drag_event=this._drag_event;pos._ignores=(this._ignores_detected||obj._start_correction||obj._end_correction);if(drag_event._move_delta===undefined){drag_event._move_delta=(ev.start_date-end_date)/60000;if(this.config.preserve_length&&pos._ignores){drag_event._move_delta=this._get_real_event_length(ev.start_date,end_date,obj);drag_event._event_length=this._get_real_event_length(ev.start_date,ev.end_date,obj);}}
if(this.config.preserve_length&&pos._ignores){var ev_length=drag_event._event_length;var current_back_shift=this._get_fictional_event_length(end_date,drag_event._move_delta,obj,true);end_date=new Date(end_date-current_back_shift);}else{end_date=scheduler.date.add(end_date,drag_event._move_delta,"minute");}}
if(this._drag_mode=="resize"&&ev){if(this._drag_from_start&&+end_date>+ev.end_date){this._drag_from_start=false;}else if(!this._drag_from_start&&+end_date<+ev.start_date){this._drag_from_start=true;}
pos.resize_from_start=this._drag_from_start;}
if(obj.round_position){switch(this._drag_mode){case"move":if(!this.config.preserve_length){end_date=get_rounded_date.call(obj,end_date,false);if(obj.x_unit=="day")
pos.custom=false;}
break;case"resize":if(this._drag_event){if(this._drag_event._resize_from_start===null||this._drag_event._resize_from_start===undefined){this._drag_event._resize_from_start=pos.resize_from_start;}
pos.resize_from_start=this._drag_event._resize_from_start;end_date=get_rounded_date.call(obj,end_date,!this._drag_event._resize_from_start);}
break;}}
this._resolve_timeline_section(obj,pos);if(pos.section){this._update_timeline_section({pos:pos,event:this.getEvent(this._drag_id),view:obj});}
pos.y=Math.round((this._correct_shift(end_date,1)-this._min_date)/(1000*60*this.config.time_step));pos.shift=this.config.time_step;return pos;};};scheduler._get_timeline_event_height=function(ev,config){var section=ev[config.y_property];var event_height=config.event_dy;if(config.event_dy=="full"){if(config.section_autoheight){event_height=config._section_height[section]-6;}else{event_height=config.dy-3;}}
if(config.resize_events){event_height=Math.max(Math.floor(event_height/ev._count),config.event_min_dy);}
return event_height;};scheduler._get_timeline_event_y=function(order,event_height){var sorder=order;var y=2+sorder*event_height+(sorder?(sorder*2):0);if(scheduler.config.cascade_event_display){y=2+sorder*scheduler.config.cascade_event_margin+(sorder?(sorder*2):0);}
return y;};scheduler.render_timeline_event=function(ev,attach){var section=ev[this.y_property];if(scheduler.matrix.timeline.day_off){return'';}
if(!section)
return"";var sorder=ev._sorder;var x_start=_getX(ev,false,this);var x_end=_getX(ev,true,this);var event_height=scheduler._get_timeline_event_height(ev,this);var hb=event_height-2;if(!ev._inner&&this.event_dy=="full"){hb=(hb+2)*(ev._count-sorder)-2;}
var y=scheduler._get_timeline_event_y(ev._sorder,event_height);var section_height=event_height+y+2;if(!this._events_height[section]||(this._events_height[section]<section_height)){this._events_height[section]=section_height;}
var cs=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);cs="dhx_cal_event_line "+(cs||"");if(ev._no_drag_move){cs+=" no_drag_move";}
var bg_color=(ev.color?("background:"+ev.color+";"):"");var color=(ev.textColor?("color:"+ev.textColor+";"):"");var text=scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev);var html='<div event_id="'+ev.id+'" class="'+cs+'" style="'+bg_color+''+color+'position:absolute; top:'+y+'px; height: '+hb+'px; left:'+x_start+'px; width:'+Math.max(0,x_end-x_start)+'px;'+(ev._text_style||"")+'">';if(scheduler.config.drag_resize&&!scheduler.config.readonly){var dhx_event_resize='dhx_event_resize';var resize_start="<div class='"+dhx_event_resize+" "+dhx_event_resize+"_start' style='height: "+hb+"px;'></div>";var resize_end="<div class='"+dhx_event_resize+" "+dhx_event_resize+"_end' style='height: "+hb+"px;'></div>";html+=(!ev._no_resize_start?resize_start:"")+(!ev._no_resize_end?resize_end:"");}
html+=(text+'</div>');if(!attach){var node=jQuery('<div>'+html+'</div>');scheduler.callEvent('onEventRendered',[node,ev]);return node.html();}else{var d=document.createElement("DIV");d.innerHTML=html;var ind=this.order[section];var parent=scheduler._els["dhx_cal_data"][0].firstChild.rows[ind].cells[1].firstChild;var node=d.firstChild;scheduler._rendered.push(node);parent.appendChild(node);scheduler.callEvent('onEventRendered',[node,ev]);}};function trace_events(){var evs=scheduler.get_visible_events();var matrix=[];for(var i=0;i<this.y_unit.length;i++)
matrix[i]=[];if(!matrix[y])
matrix[y]=[];for(var i=0;i<evs.length;i++){var y=this.order[evs[i][this.y_property]];var x=0;while(this._trace_x[x+1]&&evs[i].start_date>=this._trace_x[x+1])x++;while(this._trace_x[x]&&evs[i].end_date>this._trace_x[x]){if(!matrix[y][x])matrix[y][x]=[];matrix[y][x].push(evs[i]);x++;}}
return matrix;}
function _getX(ev,isEndPoint,config){var x=0;var step=config._step;var round_position=config.round_position;var column_offset=0;var date=(isEndPoint)?ev.end_date:ev.start_date;if(date.valueOf()>scheduler._max_date.valueOf())
date=scheduler._max_date;var delta=date-scheduler._min_date_timeline;if(delta>0){var index=scheduler._get_date_index(config,date);if(scheduler._ignores[index])
round_position=true;for(var i=0;i<index;i++){x+=scheduler._cols[i];}
var column_date=scheduler.date.add(scheduler._min_date_timeline,scheduler.matrix[scheduler._mode].x_step*index,scheduler.matrix[scheduler._mode].x_unit);if(!round_position){delta=date-column_date;if(config.first_hour||config.last_hour){delta=delta-config._start_correction;if(delta<0)delta=0;column_offset=Math.round(delta/step);if(column_offset>scheduler._cols[index])
column_offset=scheduler._cols[index];}else{column_offset=Math.round(delta/step);}}else{if(+date>+column_date&&isEndPoint){column_offset=scheduler._cols[index];}}}
if(isEndPoint){if(delta!==0&&!round_position){x+=column_offset-12;}else{x+=column_offset-14;}}else{x+=column_offset+1;}
return x;}
function get_rounded_date(date,isEndDate){var index=scheduler._get_date_index(this,date);var rounded_date=this._trace_x[index];if(isEndDate&&(+date!=+this._trace_x[index])){rounded_date=(this._trace_x[index+1])?this._trace_x[index+1]:scheduler.date.add(this._trace_x[index],this.x_step,this.x_unit);}
return new Date(rounded_date);}
function skip_ignored(evs){if(scheduler._ignores_detected){var from,to,visible,ev;for(var i=0;i<evs.length;i++){ev=evs[i];visible=false;from=scheduler._get_date_index(this,ev.start_date);to=scheduler._get_date_index(this,ev.end_date);while(from<to){if(!scheduler._ignores[from]){visible=true;break;}
from++;}
if(!visible&&from==to&&!scheduler._ignores[to]){if(+ev.end_date>+this._trace_x[to]){visible=true;}}
if(!visible){evs.splice(i,1);i--;}}}}
function get_events_html(evs){var html="";if(evs&&this.render!="cell"){skip_ignored.call(this,evs);evs.sort(this.sort||function(a,b){if(a.start_date.valueOf()==b.start_date.valueOf())
return a.id>b.id?1:-1;return a.start_date>b.start_date?1:-1;});var stack=[];var evs_length=evs.length;for(var j=0;j<evs_length;j++){var ev=evs[j];ev._inner=false;var ev_start_date=(this.round_position)?get_rounded_date.apply(this,[ev.start_date,false]):ev.start_date;var ev_end_date=(this.round_position)?get_rounded_date.apply(this,[ev.end_date,true]):ev.end_date;while(stack.length){var stack_ev=stack[stack.length-1];if(stack_ev.end_date.valueOf()<=ev_start_date.valueOf()){stack.splice(stack.length-1,1);}else{break;}}
var sorderSet=false;for(var p=0;p<stack.length;p++){var t_ev=stack[p];if(t_ev.end_date.valueOf()<=ev_start_date.valueOf()){sorderSet=true;ev._sorder=t_ev._sorder;stack.splice(p,1);ev._inner=true;break;}}
if(stack.length)
stack[stack.length-1]._inner=true;if(!sorderSet){if(stack.length){if(stack.length<=stack[stack.length-1]._sorder){if(!stack[stack.length-1]._sorder)
ev._sorder=0;else
for(var h=0;h<stack.length;h++){var _is_sorder=false;for(var t=0;t<stack.length;t++){if(stack[t]._sorder==h){_is_sorder=true;break;}}
if(!_is_sorder){ev._sorder=h;break;}}
ev._inner=true;}
else{var _max_sorder=stack[0]._sorder;for(var w=1;w<stack.length;w++)
if(stack[w]._sorder>_max_sorder)
_max_sorder=stack[w]._sorder;ev._sorder=_max_sorder+1;ev._inner=false;}}
else
ev._sorder=0;}
stack.push(ev);if(stack.length>(stack.max_count||0)){stack.max_count=stack.length;ev._count=stack.length;}
else{ev._count=(ev._count)?ev._count:1;}}
for(var m=0;m<evs.length;m++){evs[m]._count=stack.max_count;}
for(var v=0;v<evs_length;v++){html+=scheduler.render_timeline_event.call(this,evs[v],false);}}
return html;}
function y_scale(d){var html="<table style='table-layout:fixed;' cellspacing='0' cellpadding='0'>";var evs=[];if(scheduler._load_mode)
scheduler._load();if(this.render=="cell")
evs=trace_events.call(this);else{var tevs=scheduler.get_visible_events();var order=this.order;for(var j=0;j<tevs.length;j++){var tev=tevs[j];var tev_section=tev[this.y_property];var index=this.order[tev_section];if(this.show_unassigned&&!tev_section){for(var key in order){if(order.hasOwnProperty(key)){index=order[key];if(!evs[index])evs[index]=[];var clone=scheduler._lame_copy({},tev);clone[this.y_property]=key;evs[index].push(clone);}}}else{if(!evs[index])evs[index]=[];evs[index].push(tev);}}}
var summ=0;for(var i=0;i<scheduler._cols.length;i++)
summ+=scheduler._cols[i];var step=new Date();var realcount=scheduler._cols.length-scheduler._ignores_detected;step=((scheduler.date.add(step,this.x_step*realcount,this.x_unit)-step)-(this._start_correction+this._end_correction)*realcount)/summ;this._step=step;this._summ=summ;var heights=scheduler._colsS.heights=[];var render_stats=[];this._events_height={};this._section_height={};for(var i=0;i<this.y_unit.length;i++){var stats=this._logic(this.render,this.y_unit[i],this);scheduler._merge(stats,{height:this.dy});if(this.section_autoheight){if(this.y_unit.length*stats.height<d.offsetHeight){}
this._section_height[this.y_unit[i].key]=stats.height;}
if(!stats.td_className){stats.td_className="dhx_matrix_scell"+((scheduler.templates[this.name+"_scaley_class"](this.y_unit[i].key,this.y_unit[i].label,this.y_unit[i]))?" "+scheduler.templates[this.name+"_scaley_class"](this.y_unit[i].key,this.y_unit[i].label,this.y_unit[i]):'');}
if(!stats.td_content){stats.td_content=scheduler.templates[this.name+'_scale_label'](this.y_unit[i].key,this.y_unit[i].label,this.y_unit[i]);}
scheduler._merge(stats,{tr_className:"",style_height:"height:"+stats.height+"px;",style_width:"width:"+(this.dx-1)+"px;",summ_width:"width:"+summ+"px;",table_className:''});var events_html=get_events_html.call(this,evs[i]);if(this.fit_events){var rendered_height=this._events_height[this.y_unit[i].key]||0;stats.height=(rendered_height>stats.height)?rendered_height:stats.height;stats.style_height="height:"+stats.height+"px;";this._section_height[this.y_unit[i].key]=stats.height;}
html+="<tr class='"+stats.tr_className+"' style='"+stats.style_height+"'><td class='"+stats.td_className+"' style='"+stats.style_width+" height:"+(stats.height-1)+"px;'>"+stats.td_content+"</td>";if(this.render=="cell"){for(var j=0;j<scheduler._cols.length;j++){if(scheduler._ignores[j])
html+="<td></td>";else
html+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](evs[i][j],this._trace_x[j],this.y_unit[i])+"' style='width:"+(scheduler._cols[j]-1)+"px'><div style='width:"+(scheduler._cols[j]-1)+"px'>"+scheduler.templates[this.name+"_cell_value"](evs[i][j],this._trace_x[j],this.y_unit[i])+"</div></td>";}}else{html+="<td><div style='"+stats.summ_width+" "+stats.style_height+" position:relative;' class='dhx_matrix_line'>";html+=events_html;html+="<table class='"+stats.table_className+"' cellpadding='0' cellspacing='0' style='"+stats.summ_width+" "+stats.style_height+"' >";for(var j=0;j<scheduler._cols.length;j++){if(scheduler._ignores[j]){html+="<td></td>";}else if(scheduler.matrix.timeline.day_off){html+="<td class='breaktime'></td>";}else{html+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](evs[i],this._trace_x[j],this.y_unit[i])+"' style='width:"+(scheduler._cols[j]-1)+"px'><div style='width:"+(scheduler._cols[j]-1)+"px'></div></td>";}}
html+="</table>";html+="</div></td>";}
html+="</tr>";render_stats.push(stats);}
html+="</table>";this._matrix=evs;d.innerHTML=html;scheduler._rendered=[];var divs=scheduler._obj.getElementsByTagName("DIV");for(var i=0;i<divs.length;i++)
if(divs[i].getAttribute("event_id"))
scheduler._rendered.push(divs[i]);this._scales={};var rows=d.firstChild.rows;var unit=null;for(var i=0,len=render_stats.length;i<len;i++){unit=this.y_unit[i];heights.push(render_stats[i].height);var unit_key=unit.key;var scale=this._scales[unit_key]=(scheduler._isRender('cell'))?rows[i]:rows[i].childNodes[1].getElementsByTagName('div')[0];scheduler.callEvent("onScaleAdd",[scale,unit_key]);}}
function x_dates(preserve){var start=scheduler._min_date;var end=scheduler._max_date;scheduler._process_ignores(start,this.x_size,this.x_unit,this.x_step,preserve);var size=this.x_size+(preserve?scheduler._ignores_detected:0);var display_count=0,total_count=0;while(+start<+end){this._trace_x[total_count]=new Date(start);start=scheduler.date.add(start,this.x_step,this.x_unit);if(scheduler.date[this.x_unit+"_start"]){start=scheduler.date[this.x_unit+"_start"](start);}
if(!scheduler._ignores[total_count])
display_count++;total_count++;if(preserve){if(display_count<this.x_size&&!(+start<+end)){end=scheduler.date["add_"+this.name+"_private"](end,(this.x_length||this.x_size)*this.x_step);}else if(display_count>=this.x_size){scheduler._max_date=start;break;}}}
return{total:total_count,displayed:display_count};}
function x_scale(h){var current_sh=scheduler.xy.scale_height;var original_sh=this._header_resized||scheduler.xy.scale_height;scheduler._cols=[];scheduler._colsS={height:0};this._trace_x=[];var summ=scheduler._x-this.dx-scheduler.xy.scroll_width;var minWidth=50;if(minWidth*scheduler.matrix.timeline.x_size>summ){summ=minWidth*scheduler.matrix.timeline.x_size;}
var left=[this.dx];var header=scheduler._els['dhx_cal_header'][0];header.style.width=(left[0]+summ)+'px';jQuery('.dhx_scheduler_timeline .dhx_cal_data').css({'overflow':'hidden','width':header.style.width,'height':'auto','padding-bottom':20});var start=scheduler._min_date_timeline=scheduler._min_date;var preserve=scheduler.config.preserve_scale_length;var dates=x_dates.call(this,preserve);var realcount=dates.displayed;var size=dates.total;for(var k=0;k<size;k++){if(scheduler._ignores[k]){scheduler._cols[k]=0;realcount++;}else{scheduler._cols[k]=Math.floor(summ/(realcount-k));}
summ-=scheduler._cols[k];left[k+1]=left[k]+scheduler._cols[k];}
h.innerHTML="<div></div>";if(this.second_scale){var mode=this.second_scale.x_unit;var control_dates=[this._trace_x[0]];var second_cols=[];var second_left=[this.dx,this.dx];var t_index=0;for(var l=0;l<this._trace_x.length;l++){var date=this._trace_x[l];var res=is_new_interval(mode,date,control_dates[t_index]);if(res){++t_index;control_dates[t_index]=date;second_left[t_index+1]=second_left[t_index];}
var t=t_index+1;second_cols[t_index]=scheduler._cols[l]+(second_cols[t_index]||0);second_left[t]+=scheduler._cols[l];}
h.innerHTML="<div></div><div></div>";var top=h.firstChild;top.style.height=(original_sh)+'px';var bottom=h.lastChild;bottom.style.position="relative";for(var m=0;m<control_dates.length;m++){var tdate=control_dates[m];var scs=scheduler.templates[this.name+"_second_scalex_class"](tdate);var head=document.createElement("DIV");head.className="dhx_scale_bar dhx_second_scale_bar"+((scs)?(" "+scs):"");scheduler.set_xy(head,second_cols[m]-1,original_sh-3,second_left[m],0);head.innerHTML=scheduler.templates[this.name+"_second_scale_date"](tdate);top.appendChild(head);}}
scheduler.xy.scale_height=original_sh;h=h.lastChild;for(var i=0;i<this._trace_x.length;i++){if(scheduler._ignores[i])
continue;start=this._trace_x[i];scheduler._render_x_header(i,left[i],start,h);var cs=scheduler.templates[this.name+"_scalex_class"](start);if(cs)
h.lastChild.className+=" "+cs;}
scheduler.xy.scale_height=current_sh;var trace=this._trace_x;h.onclick=function(e){var pos=locate_hcell(e);if(pos)
scheduler.callEvent("onXScaleClick",[pos.x,trace[pos.x],e||event]);};h.ondblclick=function(e){var pos=locate_hcell(e);if(pos)
scheduler.callEvent("onXScaleDblClick",[pos.x,trace[pos.x],e||event]);};}
function is_new_interval(mode,date,control_date){switch(mode){case"hour":return((date.getHours()!=control_date.getHours())||is_new_interval("day",date,control_date));case"day":return!(date.getDate()==control_date.getDate()&&date.getMonth()==control_date.getMonth()&&date.getFullYear()==control_date.getFullYear());case"week":return!(scheduler.date.getISOWeek(date)==scheduler.date.getISOWeek(control_date)&&date.getFullYear()==control_date.getFullYear());case"month":return!(date.getMonth()==control_date.getMonth()&&date.getFullYear()==control_date.getFullYear());case"year":return!(date.getFullYear()==control_date.getFullYear());default:return false;}}
function set_full_view(mode){if(mode){scheduler.set_sizes();scheduler._init_matrix_tooltip();var temp=scheduler._min_date;x_scale.call(this,scheduler._els["dhx_cal_header"][0]);y_scale.call(this,scheduler._els["dhx_cal_data"][0]);scheduler._min_date=temp;scheduler._els["dhx_cal_date"][0].innerHTML=scheduler.templates[this.name+"_date"](scheduler._min_date,scheduler._max_date);if(scheduler._mark_now){scheduler._mark_now();}}
hideToolTip();}
function hideToolTip(){if(scheduler._tooltip){scheduler._tooltip.style.display="none";scheduler._tooltip.date="";}}
function showToolTip(obj,pos,offset){if(obj.render!="cell")return;var mark=pos.x+"_"+pos.y;var evs=obj._matrix[pos.y][pos.x];if(!evs)return hideToolTip();evs.sort(function(a,b){return a.start_date>b.start_date?1:-1;});if(scheduler._tooltip){if(scheduler._tooltip.date==mark)return;scheduler._tooltip.innerHTML="";}else{var t=scheduler._tooltip=document.createElement("DIV");t.className="dhx_year_tooltip";document.body.appendChild(t);t.onclick=scheduler._click.dhx_cal_data;}
var html="";for(var i=0;i<evs.length;i++){var bg_color=(evs[i].color?("background-color:"+evs[i].color+";"):"");var color=(evs[i].textColor?("color:"+evs[i].textColor+";"):"");html+="<div class='dhx_tooltip_line' event_id='"+evs[i].id+"' style='"+bg_color+""+color+"'>";html+="<div class='dhx_tooltip_date'>"+(evs[i]._timed?scheduler.templates.event_date(evs[i].start_date):"")+"</div>";html+="<div class='dhx_event_icon icon_details'>&nbsp;</div>";html+=scheduler.templates[obj.name+"_tooltip"](evs[i].start_date,evs[i].end_date,evs[i])+"</div>";}
scheduler._tooltip.style.display="";scheduler._tooltip.style.top="0px";if(document.body.offsetWidth-offset.left-scheduler._tooltip.offsetWidth<0)
scheduler._tooltip.style.left=offset.left-scheduler._tooltip.offsetWidth+"px";else
scheduler._tooltip.style.left=offset.left+pos.src.offsetWidth+"px";scheduler._tooltip.date=mark;scheduler._tooltip.innerHTML=html;if(document.body.offsetHeight-offset.top-scheduler._tooltip.offsetHeight<0)
scheduler._tooltip.style.top=offset.top-scheduler._tooltip.offsetHeight+pos.src.offsetHeight+"px";else
scheduler._tooltip.style.top=offset.top+"px";}
scheduler._matrix_tooltip_handler=function(e){var obj=scheduler.matrix[scheduler._mode];if(!obj||obj.render!="cell")
return;if(obj){var pos=scheduler._locate_cell_timeline(e);var e=e||event;var src=e.target||e.srcElement;if(pos)
return showToolTip(obj,pos,getOffset(pos.src));}
hideToolTip();};scheduler._init_matrix_tooltip=function(){scheduler._detachDomEvent(scheduler._els["dhx_cal_data"][0],"mouseover",scheduler._matrix_tooltip_handler);dhtmlxEvent(scheduler._els["dhx_cal_data"][0],"mouseover",scheduler._matrix_tooltip_handler);};scheduler._set_timeline_dates=function(view){scheduler._min_date=scheduler.date[view.name+"_start"](new Date(scheduler._date));scheduler._max_date=scheduler.date["add_"+view.name+"_private"](scheduler._min_date,view.x_size*view.x_step);if(scheduler.date[view.x_unit+"_start"]){scheduler._max_date=scheduler.date[view.x_unit+"_start"](scheduler._max_date);}
scheduler._table_view=true;};scheduler._renderMatrix=function(mode,refresh){if(!refresh)
scheduler._els['dhx_cal_data'][0].scrollTop=0;scheduler._set_timeline_dates(this);if(this.second_scale){if(mode&&!this._header_resized){this._header_resized=scheduler.xy.scale_height;scheduler.xy.scale_height*=2;scheduler._els['dhx_cal_header'][0].className+=" dhx_second_cal_header";}
if(!mode&&this._header_resized){scheduler.xy.scale_height/=2;this._header_resized=false;var header=scheduler._els['dhx_cal_header'][0];header.className=header.className.replace(/ dhx_second_cal_header/gi,"");}}
set_full_view.call(this,mode);};function html_index(el){var p=el.parentNode.childNodes;for(var i=0;i<p.length;i++)
if(p[i]==el)return i;return-1;}
function locate_hcell(e){e=e||event;var trg=e.target?e.target:e.srcElement;while(trg&&trg.tagName!="DIV")
trg=trg.parentNode;if(trg&&trg.tagName=="DIV"){var cs=trg.className.split(" ")[0];if(cs=="dhx_scale_bar")
return{x:html_index(trg),y:-1,src:trg,scale:true};}}
scheduler._locate_cell_timeline=function(e){e=e||event;var trg=e.target?e.target:e.srcElement;var res={};var view=scheduler.matrix[scheduler._mode];var pos=scheduler.getActionData(e);for(var xind=0;xind<view._trace_x.length-1;xind++){if(+pos.date<view._trace_x[xind+1])
break;}
res.x=xind;res.y=view.order[pos.section];var diff=scheduler._isRender('cell')?1:0;res.src=view._scales[pos.section]?view._scales[pos.section].getElementsByTagName('td')[xind+diff]:null;var isScale=false;while(res.x===0&&trg.className!="dhx_cal_data"&&trg.parentNode){if(trg.className.split(" ")[0]=="dhx_matrix_scell"){isScale=true;break;}else{trg=trg.parentNode;}}
if(isScale){res.x=-1;res.src=trg;res.scale=true;}
return res;};var old_click=scheduler._click.dhx_cal_data;scheduler._click.dhx_marked_timespan=scheduler._click.dhx_cal_data=function(e){var ret=old_click.apply(this,arguments);var obj=scheduler.matrix[scheduler._mode];if(obj){var pos=scheduler._locate_cell_timeline(e);if(pos){if(pos.scale)
scheduler.callEvent("onYScaleClick",[pos.y,obj.y_unit[pos.y],e||event]);else
scheduler.callEvent("onCellClick",[pos.x,pos.y,obj._trace_x[pos.x],(((obj._matrix[pos.y]||{})[pos.x])||[]),e||event]);}}
return ret;};scheduler.dblclick_dhx_matrix_cell=function(e){var obj=scheduler.matrix[scheduler._mode];if(obj){var pos=scheduler._locate_cell_timeline(e);if(pos){if(pos.scale)
scheduler.callEvent("onYScaleDblClick",[pos.y,obj.y_unit[pos.y],e||event]);else
scheduler.callEvent("onCellDblClick",[pos.x,pos.y,obj._trace_x[pos.x],(((obj._matrix[pos.y]||{})[pos.x])||[]),e||event]);}}};var old_dblclick_marked_timespan=scheduler.dblclick_dhx_marked_timespan||function(){};scheduler.dblclick_dhx_marked_timespan=function(e){var obj=scheduler.matrix[scheduler._mode];if(obj)
return scheduler.dblclick_dhx_matrix_cell(e);else
return old_dblclick_marked_timespan.apply(this,arguments);};scheduler.dblclick_dhx_matrix_scell=function(e){return scheduler.dblclick_dhx_matrix_cell(e);};scheduler._isRender=function(mode){return(scheduler.matrix[scheduler._mode]&&scheduler.matrix[scheduler._mode].render==mode);};scheduler.attachEvent("onCellDblClick",function(x,y,a,b,event){if(this.config.readonly||(event.type=="dblclick"&&!this.config.dblclick_create))return;var obj=scheduler.matrix[scheduler._mode];var event_options={};event_options.start_date=obj._trace_x[x];event_options.end_date=(obj._trace_x[x+1])?obj._trace_x[x+1]:scheduler.date.add(obj._trace_x[x],obj.x_step,obj.x_unit);if(obj._start_correction)
event_options.start_date=new Date(event_options.start_date*1+obj._start_correction);if(obj._end_correction)
event_options.end_date=new Date(event_options.end_date-obj._end_correction);event_options[obj.y_property]=obj.y_unit[y].key;scheduler.addEventNow(event_options,null,event);});scheduler.attachEvent("onBeforeDrag",function(event_id,mode,native_event_object){return!scheduler._isRender("cell");});scheduler.attachEvent("onEventChanged",function(id,ev){ev._timed=this.isOneDayEvent(ev);});scheduler.attachEvent("onBeforeEventChanged",function(ev,e,flag,ev_old){if(scheduler._events[ev.id])
ev._move_delta=undefined;return true;});scheduler._is_column_visible=function(date){var mode=scheduler.matrix[scheduler._mode];var start_ind=scheduler._get_date_index(mode,date);return!scheduler._ignores[start_ind];};var old_render_marked_timespan=scheduler._render_marked_timespan;scheduler._render_marked_timespan=function(options,area,unit_id,min_date,max_date){if(!scheduler.config.display_marked_timespans)
return[];if(scheduler.matrix&&scheduler.matrix[scheduler._mode]){if(scheduler._isRender('cell'))
return;var view_opts=scheduler._lame_copy({},scheduler.matrix[scheduler._mode]);view_opts.round_position=false;var blocks=[];var units=[];var areas=[];var section=options.sections?(options.sections.units||options.sections.timeline):null;if(!unit_id){var order=view_opts.order;if(section){if(order.hasOwnProperty(section)){units.push(section);areas.push(view_opts._scales[section]);}}else{for(var key in order){if(order.hasOwnProperty(key)){units.push(key);areas.push(view_opts._scales[key]);}}}}else{areas=[area];units=[unit_id];}
var min_date=min_date?new Date(min_date):scheduler._min_date;var max_date=max_date?new Date(max_date):scheduler._max_date;if(min_date.valueOf()<scheduler._min_date.valueOf())
min_date=new Date(scheduler._min_date);if(max_date.valueOf()>scheduler._max_date.valueOf())
max_date=new Date(scheduler._max_date);for(var i=0;i<view_opts._trace_x.length;i++){if(scheduler._is_column_visible(view_opts._trace_x[i]))
break;}
if(i==view_opts._trace_x.length)
return;var dates=[];if(options.days>6){var specific_date=new Date(options.days);if(scheduler.date.date_part(new Date(min_date))<=+specific_date&&+max_date>=+specific_date)
dates.push(specific_date);}else{dates.push.apply(dates,scheduler._get_dates_by_index(options.days));}
var zones=options.zones;var css_classes=scheduler._get_css_classes_by_config(options);for(var j=0;j<units.length;j++){area=areas[j];unit_id=units[j];for(var i=0;i<dates.length;i++){var date=dates[i];for(var k=0;k<zones.length;k+=2){var zone_start=zones[k];var zone_end=zones[k+1];var start_date=new Date(+date+zone_start*60*1000);var end_date=new Date(+date+zone_end*60*1000);if(!(min_date<end_date&&max_date>start_date))
continue;var block=scheduler._get_block_by_config(options);block.className=css_classes;var start_pos=_getX({start_date:start_date},false,view_opts)-1;var end_pos=_getX({start_date:end_date},false,view_opts)-1;var width=Math.max(1,end_pos-start_pos-1);var height=view_opts._section_height[unit_id]-1;block.style.cssText="height: "+height+"px; left: "+start_pos+"px; width: "+width+"px; top: 0;";area.insertBefore(block,area.firstChild);blocks.push(block);}}}
return blocks;}else{return old_render_marked_timespan.apply(scheduler,[options,area,unit_id]);}};var old_append_mark_now=scheduler._append_mark_now;scheduler._append_mark_now=function(day_index,now){if(scheduler.matrix&&scheduler.matrix[scheduler._mode]){var n_date=scheduler._currentDate();var zone_start=scheduler._get_zone_minutes(n_date);var options={days:+scheduler.date.date_part(n_date),zones:[zone_start,zone_start+1],css:"dhx_matrix_now_time",type:"dhx_now_time"};return scheduler._render_marked_timespan(options);}else{return old_append_mark_now.apply(scheduler,[day_index,now]);}};scheduler.attachEvent("onScaleAdd",function(scale,unit_key){var timespans=scheduler._marked_timespans;if(timespans&&scheduler.matrix&&scheduler.matrix[scheduler._mode]){var mode=scheduler._mode;var min_date=scheduler._min_date;var max_date=scheduler._max_date;var global_data=timespans["global"];for(var t_date=scheduler.date.date_part(new Date(min_date));t_date<max_date;t_date=scheduler.date.add(t_date,1,"day")){var day_value=+t_date;var day_index=t_date.getDay();var r_configs=[];var day_types=global_data[day_value]||global_data[day_index];r_configs.push.apply(r_configs,scheduler._get_configs_to_render(day_types));if(timespans[mode]&&timespans[mode][unit_key]){var z_config=[];var unit_types=scheduler._get_types_to_render(timespans[mode][unit_key][day_index],timespans[mode][unit_key][day_value]);z_config.push.apply(z_config,scheduler._get_configs_to_render(unit_types));if(z_config.length)
r_configs=z_config;}
for(var i=0;i<r_configs.length;i++){var config=r_configs[i];var day=config.days;if(day<7){day=day_value;scheduler._render_marked_timespan(config,scale,unit_key,t_date,scheduler.date.add(t_date,1,"day"));day=day_index;}else{scheduler._render_marked_timespan(config,scale,unit_key,t_date,scheduler.date.add(t_date,1,"day"));}}}}});scheduler._resolve_timeline_section=function(view,pos){var yind=0;var summ=0;for(yind;yind<this._colsS.heights.length;yind++){summ+=this._colsS.heights[yind];if(summ>pos.y)
break;}
if(!view.y_unit[yind]){yind=view.y_unit.length-1;}
if(this._drag_event&&!this._drag_event._orig_section){this._drag_event._orig_section=view.y_unit[yind].key;}
pos.fields={};if(yind>=0&&view.y_unit[yind]){pos.section=pos.fields[view.y_property]=view.y_unit[yind].key;}};scheduler._update_timeline_section=function(action){var view=action.view,event=action.event,pos=action.pos;if(event){if(event[view.y_property]!=pos.section){var line_height=this._get_timeline_event_height(event,view);event._sorder=this._get_dnd_order(event._sorder,line_height,view._section_height[pos.section]);}
event[view.y_property]=pos.section;}};scheduler._get_date_index=function(config,date){var index=0;var trace_x=config._trace_x;while(index<trace_x.length-1&&+date>=+trace_x[index+1]){index++;}
return index;};scheduler._timeline_drag_date=function(timeline,pos_x){var obj=timeline,pos={x:pos_x};var summ=0,xind=0;var ratio,column_width;for(xind;xind<=this._cols.length-1;xind++){column_width=this._cols[xind];summ+=column_width;if(summ>pos.x){ratio=(pos.x-(summ-column_width))/column_width;ratio=(ratio<0)?0:ratio;break;}}
if(obj.round_position){var edge=1;if(scheduler.getState().drag_mode&&scheduler.getState().drag_mode!="move"){edge=0.5;}
if(ratio>=edge){xind++;}
ratio=0;}
if(xind===0&&this._ignores[0]){xind=1;ratio=0;while(this._ignores[xind])xind++;}else if(xind==this._cols.length&&this._ignores[xind-1]){xind=this._cols.length-1;ratio=0;while(this._ignores[xind])xind--;xind++;}
var end_date;if(xind>=obj._trace_x.length){end_date=scheduler.date.add(obj._trace_x[obj._trace_x.length-1],obj.x_step,obj.x_unit);if(obj._end_correction)
end_date=new Date(end_date-obj._end_correction);}else{var timestamp_diff=ratio*column_width*obj._step+obj._start_correction;end_date=new Date(+obj._trace_x[xind]+timestamp_diff);}
return end_date;};scheduler.attachEvent("onBeforeTodayDisplayed",function(){for(var i in scheduler.matrix){var obj=scheduler.matrix[i];obj.x_start=obj._original_x_start;}
return true;});scheduler.attachEvent("onOptionsLoad",function(){for(var i in scheduler.matrix){var obj=scheduler.matrix[i];obj.order={};scheduler.callEvent('onOptionsLoadStart',[]);for(var i=0;i<obj.y_unit.length;i++)
obj.order[obj.y_unit[i].key]=i;scheduler.callEvent('onOptionsLoadFinal',[]);if(scheduler._date&&obj.name==scheduler._mode)
scheduler.setCurrentView(scheduler._date,scheduler._mode);}});scheduler.attachEvent("onSchedulerResize",function(){if(scheduler.matrix[this._mode]){var obj=scheduler.matrix[this._mode];scheduler._renderMatrix.call(obj,true,true);return false;}
return true;});scheduler.attachEvent("onBeforeDrag",function(id,drag_mode,e){if(drag_mode=='resize'){var trg=e.target||e.srcElement;if((trg.className||"").indexOf("dhx_event_resize_end")<0){scheduler._drag_from_start=true;}else{scheduler._drag_from_start=false;}}
return true;});};scheduler._temp_matrix_scope();});

Scheduler.plugin(function(scheduler){scheduler._props={};scheduler.createUnitsView=function(name,property,list,size,step,skip_incorrect,days){if(typeof name=="object"){list=name.list;property=name.property;size=name.size||0;step=name.step||1;skip_incorrect=name.skip_incorrect;days=name.days||1;name=name.name;}
scheduler._props[name]={map_to:property,options:list,step:step,position:0,days:days};if(size>scheduler._props[name].options.length){scheduler._props[name]._original_size=size;size=0;}
scheduler._props[name].size=size;scheduler._props[name].skip_incorrect=skip_incorrect||false;scheduler.date[name+"_start"]=scheduler.date.day_start;scheduler.templates[name+"_date"]=function(date,end_date){var pr=scheduler._props[name];if(!(pr.days>1)){return scheduler.templates.day_date(date);}else{return scheduler.templates.week_date(date,end_date);}};scheduler._get_unit_index=function(unit_view,date){var original_position=unit_view.position||0;var date_position=Math.floor((scheduler._correct_shift(+date,1)-+scheduler._min_date)/(60*60*24*1000));var l=unit_view.options.length;if(date_position>=l){date_position=date_position%l;}
return original_position+date_position;};scheduler.templates[name+"_scale_text"]=function(id,label,option){if(option.css){return"<span class='"+option.css+"'>"+label+"</span>";}else{return label;}};scheduler.templates[name+"_scale_date"]=function(date){var unit_view=scheduler._props[name];var list=unit_view.options;if(!list.length)return"";var index=scheduler._get_unit_index(unit_view,date);var option=list[index];return scheduler.templates[name+"_scale_text"](option.key,option.label,option);};scheduler.templates[name+"_second_scale_date"]=function(date){return scheduler.templates.week_scale_date(date);};scheduler.date["add_"+name]=function(date,inc){return scheduler.date.add(date,inc*scheduler._props[name].days,"day");};scheduler.date["get_"+name+"_end"]=function(date){return scheduler.date.add(date,(scheduler._props[name].size||scheduler._props[name].options.length)*scheduler._props[name].days,"day");};scheduler.attachEvent("onOptionsLoad",function(){var pr=scheduler._props[name];var order=pr.order={};var list=pr.options;for(var i=0;i<list.length;i++)
order[list[i].key]=i;if(pr._original_size&&pr.size===0){pr.size=pr._original_size;delete pr.original_size;}
if(pr.size>list.length){pr._original_size=pr.size;pr.size=0;}
else
pr.size=pr._original_size||pr.size;if(scheduler._date&&scheduler._mode==name)
scheduler.setCurrentView(scheduler._date,scheduler._mode);});scheduler["mouse_"+name]=function(pos){var pr=scheduler._props[this._mode];if(pr){pos=this._week_indexes_from_pos(pos);if(!this._drag_event)this._drag_event={};if(this._drag_id&&this._drag_mode){this._drag_event._dhx_changed=true;}
if(this._drag_mode&&this._drag_mode=="new-size"){var sday=scheduler._get_event_sday(scheduler._events[scheduler._drag_id]);if(Math.floor(pos.x/pr.options.length)!=Math.floor(sday/pr.options.length))
pos.x=sday;}
var section_ind=pos.x%pr.options.length;var unit_ind=Math.min(section_ind+pr.position,pr.options.length-1);pos.section=(pr.options[unit_ind]||{}).key;pos.x=Math.floor(pos.x/pr.options.length);var ev=this.getEvent(this._drag_id);this._update_unit_section({view:pr,event:ev,pos:pos});}
pos.force_redraw=true;return pos;};scheduler.callEvent("onOptionsLoad",[]);};scheduler._update_unit_section=function(action){var view=action.view,event=action.event,pos=action.pos;if(event){event[view.map_to]=pos.section;}};scheduler.scrollUnit=function(step){var pr=scheduler._props[this._mode];if(pr){pr.position=Math.min(Math.max(0,pr.position+step),pr.options.length-pr.size);this.setCurrentView();}};(function(){var _removeIncorrectEvents=function(evs){var pr=scheduler._props[scheduler._mode];if(pr&&pr.order&&pr.skip_incorrect){var correct_events=[];for(var i=0;i<evs.length;i++){if(typeof pr.order[evs[i][pr.map_to]]!="undefined"){correct_events.push(evs[i]);}}
evs.splice(0,evs.length);evs.push.apply(evs,correct_events);}
return evs;};var old_pre_render_events_table=scheduler._pre_render_events_table;scheduler._pre_render_events_table=function(evs,hold){evs=_removeIncorrectEvents(evs);return old_pre_render_events_table.apply(this,[evs,hold]);};var old_pre_render_events_line=scheduler._pre_render_events_line;scheduler._pre_render_events_line=function(evs,hold){evs=_removeIncorrectEvents(evs);return old_pre_render_events_line.apply(this,[evs,hold]);};var fix_und=function(pr,ev){if(pr&&typeof pr.order[ev[pr.map_to]]=="undefined"){var s=scheduler;var dx=24*60*60*1000;var ind=Math.floor((ev.end_date-s._min_date)/dx);if(pr.options.length)
ev[pr.map_to]=pr.options[Math.min(ind+pr.position,pr.options.length-1)].key;return true;}};var oldive=scheduler.is_visible_events;scheduler.is_visible_events=function(e){var res=oldive.apply(this,arguments);if(res){var pr=scheduler._props[this._mode];if(pr&&pr.size){var val=pr.order[e[pr.map_to]];if(val<pr.position||val>=pr.size+pr.position)
return false;}}
return res;};var old_process_ignores=scheduler._process_ignores;scheduler._process_ignores=function(sd,n,mode,step,preserve){if(!scheduler._props[this._mode]){old_process_ignores.call(this,sd,n,mode,step,preserve);return;}
this._ignores={};this._ignores_detected=0;var ignore=scheduler["ignore_"+this._mode];if(ignore){var sectionsCount=(scheduler._props&&scheduler._props[this._mode]?(scheduler._props[this._mode].size||scheduler._props[this._mode].options.length):1);n/=sectionsCount;var ign_date=new Date(sd);for(var i=0;i<n;i++){if(ignore(ign_date)){var sectionStart=i*sectionsCount,sectionEnd=(i+1)*sectionsCount;for(var j=sectionStart;j<sectionEnd;j++){this._ignores_detected+=1;this._ignores[j]=true;if(preserve)
n++;}}
ign_date=scheduler.date.add(ign_date,step,mode);if(scheduler.date[mode+'_start'])
ign_date=scheduler.date[mode+'_start'](ign_date);}}};var t=scheduler._reset_scale;scheduler._reset_scale=function(){var pr=scheduler._props[this._mode];var ret=t.apply(this,arguments);if(pr){this._max_date=this.date.add(this._min_date,pr.days,"day");var d=this._els["dhx_cal_data"][0].childNodes;for(var i=0;i<d.length;i++)
d[i].className=d[i].className.replace("_now","");var today=new Date();if(today.valueOf()>=this._min_date&&today.valueOf()<this._max_date){var dx=24*60*60*1000;var ind=Math.floor((today-scheduler._min_date)/dx);var units_l=pr.options.length;var today_start=ind*units_l;var today_end=today_start+units_l;for(i=today_start;i<today_end;i++){if(d[i])
d[i].className=d[i].className.replace("dhx_scale_holder","dhx_scale_holder_now");}}
if(pr.size&&pr.size<pr.options.length){var h=this._els["dhx_cal_header"][0];var arrow=document.createElement("DIV");if(pr.position){arrow.className="dhx_cal_prev_button";arrow.style.cssText="left:1px;top:2px;position:absolute;";arrow.innerHTML="&nbsp;";h.firstChild.appendChild(arrow);arrow.onclick=function(){scheduler.scrollUnit(pr.step*-1);};}
if(pr.position+pr.size<pr.options.length){arrow=document.createElement("DIV");arrow.className="dhx_cal_next_button";arrow.style.cssText="left:auto; right:0px;top:2px;position:absolute;";arrow.innerHTML="&nbsp;";h.lastChild.appendChild(arrow);arrow.onclick=function(){scheduler.scrollUnit(pr.step);};}}}
return ret;};var _reset_scale=scheduler._reset_scale;scheduler._reset_scale=function(){var pr=scheduler._props[this._mode];var scale_height=scheduler.xy.scale_height;if(pr&&pr.days>1){if(!this._header_resized){this._header_resized=scheduler.xy.scale_height;scheduler.xy.scale_height=scale_height*2;}}else{if(this._header_resized){scheduler.xy.scale_height/=2;this._header_resized=false;}}
_reset_scale.apply(this,arguments);};var _get_view_end=scheduler._get_view_end;scheduler._get_view_end=function(){var pr=scheduler._props[this._mode];if(pr&&pr.days>1){var dd=this._get_timeunit_start();return scheduler.date.add(dd,pr.days,"day");}else{return _get_view_end.apply(this,arguments);}};var xh=scheduler._render_x_header;scheduler._render_x_header=function(i,left,d,h){var pr=scheduler._props[this._mode];if(!pr||pr.days<=1){return xh.apply(this,arguments);}else if(pr.days>1){var scale_height=scheduler.xy.scale_height;scheduler.xy.scale_height=Math.ceil(scale_height/2);xh.call(this,i,left,d,h,Math.ceil(scheduler.xy.scale_height));var units_l=pr.options.length;if((i+1)%units_l===0){var head=document.createElement("DIV");head.className="dhx_scale_bar dhx_second_scale_bar";var date=this.date.add(this._min_date,Math.floor(i/units_l),"day");if(this.templates[this._mode+"_second_scalex_class"]){head.className+=' '+this.templates[this._mode+"_second_scalex_class"](new Date(date));}
var s_left,s_width=this._cols[i]*units_l-1;if(units_l>1)
s_left=this._colsS[i-(units_l-1)]-this.xy.scale_width-2;else
s_left=left;this.set_xy(head,s_width,this.xy.scale_height-2,s_left,0);head.innerHTML=this.templates[this._mode+"_second_scale_date"](new Date(date),this._mode);h.appendChild(head);}
scheduler.xy.scale_height=scale_height;}};var r=scheduler._get_event_sday;scheduler._get_event_sday=function(ev){var pr=scheduler._props[this._mode];if(pr){if(pr.days<=1){fix_und(pr,ev);return this._get_section_sday(ev[pr.map_to]);}else{var dx=24*60*60*1000;var ind=Math.floor((ev.end_date.valueOf()-1-scheduler._min_date.valueOf())/dx);var units_l=pr.options.length;var section_index=pr.order[ev[pr.map_to]];return(ind*units_l+section_index)-pr.position;}}
return r.call(this,ev);};scheduler._get_section_sday=function(section){var pr=scheduler._props[this._mode];return pr.order[section]-pr.position;};var l=scheduler.locate_holder_day;scheduler.locate_holder_day=function(a,b,ev){var pr=scheduler._props[this._mode];if(pr&&ev){fix_und(pr,ev);if(pr.days<=1){return pr.order[ev[pr.map_to]]*1+(b?1:0)-pr.position;}else{var dx=24*60*60*1000;var ind=Math.floor((ev.start_date.valueOf()-scheduler._min_date.valueOf())/dx);var units_l=pr.options.length;var section_index=pr.order[ev[pr.map_to]];return(ind*units_l+section_index*1)+(b?1:0)-pr.position;}}
return l.apply(this,arguments);};var o=scheduler._time_order;scheduler._time_order=function(evs){var pr=scheduler._props[this._mode];if(pr){evs.sort(function(a,b){return pr.order[a[pr.map_to]]>pr.order[b[pr.map_to]]?1:-1;});}else
o.apply(this,arguments);};var prerender=scheduler._pre_render_events_table;scheduler._pre_render_events_table=function(evs,hold){var pr=scheduler._props[this._mode];if(pr&&pr.days>1&&!this.config.all_timed){var days={};for(var i=0;i<evs.length;i++){var ev=evs[i];if(!this.isOneDayEvent(evs[i])){var to=new Date(Math.min(+ev.end_date,+this._max_date)),from=new Date(Math.max(+ev.start_date,+this._min_date));evs.splice(i,1);while(+from<+to){var chunk=scheduler._lame_clone(ev);chunk.start_date=from;chunk.end_date=getNextDay(chunk.start_date);from=scheduler.date.add(from,1,'day');var date=+scheduler.date.date_part(new Date(from));if(!days[date])
days[date]=[];days[date].push(chunk);evs.splice(i,0,chunk);i++;}
i--;}else{var date=+scheduler.date.date_part(new Date(ev.start_date));if(!days[date])
days[date]=[];days[date].push(ev);}}
var res=[];for(var i in days){res.splice.apply(res,[res.length-1,0].concat(prerender.apply(this,[days[i],hold])));}
for(var i=0;i<res.length;i++){if(this._ignores[res[i]._sday]){res.splice(i,1);i--;}
else{res[i]._first_chunk=res[i]._last_chunk=false;}}
res.sort(function(a,b){if(a.start_date.valueOf()==b.start_date.valueOf())
return a.id>b.id?1:-1;return a.start_date>b.start_date?1:-1;});evs=res;}else{evs=prerender.apply(this,[evs,hold]);}
function getNextDay(date){var next_day=scheduler.date.add(date,1,"day");next_day=scheduler.date.date_part(next_day);return next_day;}
return evs;};scheduler.attachEvent("onEventAdded",function(id,ev){if(this._loading)return true;for(var a in scheduler._props){var pr=scheduler._props[a];if(typeof ev[pr.map_to]=="undefined")
ev[pr.map_to]=pr.options[0].key;}
return true;});scheduler.attachEvent("onEventCreated",function(id,n_ev){var pr=scheduler._props[this._mode];if(pr&&n_ev){var ev=this.getEvent(id);var pos=this._mouse_coords(n_ev);this._update_unit_section({view:pr,event:ev,pos:pos});fix_und(pr,ev);this.event_updated(ev);}
return true;});})();});

Scheduler.plugin(function(scheduler){(function(){var dhtmlXTooltip=scheduler.dhtmlXTooltip=scheduler.tooltip={};dhtmlXTooltip.config={className:'dhtmlXTooltip tooltip',timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20};dhtmlXTooltip.tooltip=document.createElement('div');dhtmlXTooltip.tooltip.className=dhtmlXTooltip.config.className;dhtmlXTooltip.show=function(event,text){if(scheduler.config.touch&&!scheduler.config.touch_tooltip)return;var dhxTooltip=dhtmlXTooltip;var tooltip_div=this.tooltip;var tooltip_div_style=tooltip_div.style;dhxTooltip.tooltip.className=dhxTooltip.config.className;var pos=this.position(event);var target=event.target||event.srcElement;if(this.isTooltip(target)){return;}
var actual_x=pos.x+(dhxTooltip.config.delta_x||0);var actual_y=pos.y-(dhxTooltip.config.delta_y||0);tooltip_div_style.visibility="hidden";if(tooltip_div_style.removeAttribute){tooltip_div_style.removeAttribute("right");tooltip_div_style.removeAttribute("bottom");}else{tooltip_div_style.removeProperty("right");tooltip_div_style.removeProperty("bottom");}
tooltip_div_style.left="0";tooltip_div_style.top="0";this.tooltip.innerHTML=text;document.body.appendChild(this.tooltip);var tooltip_width=this.tooltip.offsetWidth;var tooltip_height=this.tooltip.offsetHeight;if((document.body.offsetWidth-actual_x-tooltip_width)<0){if(tooltip_div_style.removeAttribute)
tooltip_div_style.removeAttribute("left");else
tooltip_div_style.removeProperty("left");tooltip_div_style.right=(document.body.offsetWidth-actual_x+2*(dhxTooltip.config.delta_x||0))+"px";}else{if(actual_x<0){tooltip_div_style.left=(pos.x+Math.abs(dhxTooltip.config.delta_x||0))+"px";}else{tooltip_div_style.left=actual_x+"px";}}
if((document.body.offsetHeight-actual_y-tooltip_height)<0){if(tooltip_div_style.removeAttribute)
tooltip_div_style.removeAttribute("top");else
tooltip_div_style.removeProperty("top");tooltip_div_style.bottom=(document.body.offsetHeight-actual_y-2*(dhxTooltip.config.delta_y||0))+"px";}else{if(actual_y<0){tooltip_div_style.top=(pos.y+Math.abs(dhxTooltip.config.delta_y||0))+"px";}else{tooltip_div_style.top=actual_y+"px";}}
tooltip_div_style.visibility="visible";this.tooltip.onmouseleave=function(e){e=e||window.event;var tooltip=scheduler.dhtmlXTooltip;var node=e.relatedTarget;while(node!=scheduler._obj&&node){node=node.parentNode;}
if(node!=scheduler._obj)
tooltip.delay(tooltip.hide,tooltip,[],tooltip.config.timeout_to_hide);};scheduler.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id]);};dhtmlXTooltip._clearTimeout=function(){if(this.tooltip._timeout_id){window.clearTimeout(this.tooltip._timeout_id);}};dhtmlXTooltip.hide=function(){if(this.tooltip.parentNode){var event_id=this.tooltip.event_id;this.tooltip.event_id=null;this.tooltip.onmouseleave=null;this.tooltip.parentNode.removeChild(this.tooltip);scheduler.callEvent("onAfterTooltip",[event_id]);}
this._clearTimeout();};dhtmlXTooltip.delay=function(method,object,params,delay){this._clearTimeout();this.tooltip._timeout_id=setTimeout(function(){var ret=method.apply(object,params);method=object=params=null;return ret;},delay||this.config.timeout_to_display);};dhtmlXTooltip.isTooltip=function(node){var res=false;if(node.className.split(" ")[0]=="dhtmlXTooltip"){}
while(node&&!res){res=(node.className==this.tooltip.className);node=node.parentNode;}
return res;};dhtmlXTooltip.position=function(ev){ev=ev||window.event;if(ev.pageX||ev.pageY)
return{x:ev.pageX,y:ev.pageY};var d=((window._isIE)&&(document.compatMode!="BackCompat"))?document.documentElement:document.body;return{x:ev.clientX+d.scrollLeft-d.clientLeft,y:ev.clientY+d.scrollTop-d.clientTop};};scheduler.attachEvent("onMouseMove",function(event_id,e){var ev=window.event||e;var target=ev.target||ev.srcElement;var dhxTooltip=dhtmlXTooltip;var is_tooltip=dhxTooltip.isTooltip(target);var is_tooltip_target=(dhxTooltip.isTooltipTarget&&dhxTooltip.isTooltipTarget(target));if(event_id||is_tooltip||is_tooltip_target){var text;if(event_id||dhxTooltip.tooltip.event_id){var event=scheduler.getEvent(event_id)||scheduler.getEvent(dhxTooltip.tooltip.event_id);if(!event)
return;dhxTooltip.tooltip.event_id=event.id;text=scheduler.templates.tooltip_text(event.start_date,event.end_date,event);if(!text)
return dhxTooltip.hide();}
if(is_tooltip_target){text="";}
var evt;if(_isIE){evt={'pageX':undefined,'pageY':undefined,'clientX':undefined,'clientY':undefined,'target':undefined,'srcElement':undefined};for(var i in evt){evt[i]=ev[i];}}
if(!scheduler.callEvent("onBeforeTooltip",[event_id])||!text)
return;dhxTooltip.delay(dhxTooltip.show,dhxTooltip,[(evt||ev),text]);}else{dhxTooltip.delay(dhxTooltip.hide,dhxTooltip,[],dhxTooltip.config.timeout_to_hide);}});scheduler.attachEvent("onBeforeDrag",function(){dhtmlXTooltip.hide();return true;});scheduler.attachEvent("onEventDeleted",function(){dhtmlXTooltip.hide();return true;});scheduler.templates.tooltip_date_format=scheduler.date.date_to_str("%Y-%m-%d %H:%i");scheduler.templates.tooltip_text=function(start,end,event){return"<b>Event:</b> "+event.text+"<br/><b>Start date:</b> "+scheduler.templates.tooltip_date_format(start)+"<br/><b>End date:</b> "+scheduler.templates.tooltip_date_format(end);};})();});

Scheduler.plugin(function(scheduler){scheduler.config.active_link_view="day";scheduler._active_link_click=function(e){var start=e.target||event.srcElement;var to=start.getAttribute("jump_to");var s_d=scheduler.date.str_to_date(scheduler.config.api_date);if(to){scheduler.setCurrentView(s_d(to),scheduler.config.active_link_view);if(e&&e.preventDefault)
e.preventDefault();return false;}};scheduler.attachEvent("onTemplatesReady",function(){var do_wrapper=function(key,fullname){fullname=fullname||(key+"_scale_date");if(!scheduler.templates['_active_links_old_'+fullname]){scheduler.templates['_active_links_old_'+fullname]=scheduler.templates[fullname];}
var week_x=scheduler.templates['_active_links_old_'+fullname];var d_s=scheduler.date.date_to_str(scheduler.config.api_date);scheduler.templates[fullname]=function(date){return"<a jump_to='"+d_s(date)+"' href='#'>"+week_x(date)+"</a>";};};do_wrapper("week");do_wrapper("","month_day");if(this.matrix){for(var key in this.matrix)
do_wrapper(key);}
this._detachDomEvent(this._obj,"click",scheduler._active_link_click);dhtmlxEvent(this._obj,"click",scheduler._active_link_click);});});

Scheduler.plugin(function(scheduler){(function(){scheduler.config.all_timed="short";var is_event_short=function(ev){return!((ev.end_date-ev.start_date)/(1000*60*60)>=24);};scheduler._safe_copy=function(event){var proto=null,copy=null;if(event.event_pid){proto=scheduler.getEvent(event.event_pid);}
if(proto&&proto.isPrototypeOf(event)){copy=scheduler._copy_event(event);delete copy.event_length;delete copy.event_pid;delete copy.rec_pattern;delete copy.rec_type;}else{copy=scheduler._lame_clone(event);}
return copy;};var old_prerender_events_line=scheduler._pre_render_events_line;scheduler._pre_render_events_line=function(evs,hold){if(!this.config.all_timed)
return old_prerender_events_line.call(this,evs,hold);for(var i=0;i<evs.length;i++){var ev=evs[i];if(ev._timed)
continue;if(this.config.all_timed=="short"){if(!is_event_short(ev)){evs.splice(i--,1);continue;}}
var ce=this._safe_copy(ev);ce.start_date=new Date(ce.start_date);if(!isOvernightEvent(ev)){ce.end_date=new Date(ev.end_date);}
else{ce.end_date=getNextDay(ce.start_date);if(this.config.last_hour!=24){ce.end_date=setDateTime(ce.start_date,this.config.last_hour);}}
var event_changed=false;if(ce.start_date<this._max_date&&ce.end_date>this._min_date&&ce.start_date<ce.end_date){evs[i]=ce;event_changed=true;}
var re=this._safe_copy(ev);re.end_date=new Date(re.end_date);if(re.start_date<this._min_date)
re.start_date=setDateTime(this._min_date,this.config.first_hour);else
re.start_date=setDateTime(getNextDay(ev.start_date),this.config.first_hour);if(re.start_date<this._max_date&&re.start_date<re.end_date){if(event_changed)
evs.splice(i+1,0,re);else{evs[i--]=re;continue;}}}
var redraw=(this._drag_mode=='move')?false:hold;return old_prerender_events_line.call(this,evs,redraw);function isOvernightEvent(ev){var next_day=getNextDay(ev.start_date);return(+ev.end_date>+next_day);}
function getNextDay(date){var next_day=scheduler.date.add(date,1,"day");next_day=scheduler.date.date_part(next_day);return next_day;}
function setDateTime(date,hours){var val=scheduler.date.date_part(new Date(date));val.setHours(hours);return val;}};var old_get_visible_events=scheduler.get_visible_events;scheduler.get_visible_events=function(only_timed){if(!(this.config.all_timed&&this.config.multi_day))
return old_get_visible_events.call(this,only_timed);return old_get_visible_events.call(this,false);};scheduler.attachEvent("onBeforeViewChange",function(old_mode,old_date,mode,date){scheduler._allow_dnd=(mode=="day"||mode=="week");return true;});scheduler._is_main_area_event=function(ev){return!!(ev._timed||this.config.all_timed===true||(this.config.all_timed=="short"&&is_event_short(ev)));};var oldUpdate=scheduler.updateEvent;scheduler.updateEvent=function(id){var fullRedrawNeeded=(scheduler.config.all_timed&&!(scheduler.isOneDayEvent(scheduler._events[id])||scheduler.getState().drag_id));var initial;if(fullRedrawNeeded){initial=scheduler.config.update_render;scheduler.config.update_render=true;}
oldUpdate.apply(scheduler,arguments);if(fullRedrawNeeded){scheduler.config.update_render=initial;}};})();});

scheduler.dateEndPredefined=true;scheduler._allow_new_event=true;scheduler._on_mouse_up=function(e){if(e&&e.button==2&&scheduler.config.touch)return;if(this._drag_mode&&this._drag_id){this._els["dhx_cal_data"][0].style.cursor="default";var drag_id=this._drag_id;var mode=this._drag_mode;var moved=!this._drag_pos||this._drag_pos.has_moved;var ev=this.getEvent(this._drag_id);if(moved&&(this._drag_event._dhx_changed||!this._drag_event.start_date||ev.start_date.valueOf()!=this._drag_event.start_date.valueOf()||ev.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var is_new=(this._drag_mode=="new-size");if(!this.callEvent("onBeforeEventChanged",[ev,e,is_new,this._drag_event])){if(is_new)
this.deleteEvent(ev.id,true);else{this._drag_event._dhx_changed=false;this._clear_temporary_properties(ev,this._drag_event);scheduler._lame_copy(ev,this._drag_event);this.updateEvent(ev.id);}}else{this._drag_id=this._drag_mode=null;if(is_new&&this.config.edit_on_create){this.unselect();this._new_event=new Date();if(this._table_view||this.config.details_on_create||!this.config.select){scheduler.callEvent("onDragEnd",[drag_id,mode,e]);return this.showLightbox(drag_id);}
this._drag_pos=true;this._select_id=this._edit_id=drag_id;}else{if(!this._new_event)
this.callEvent(is_new?"onEventAdded":"onEventChanged",[drag_id,this.getEvent(drag_id)]);}}}
if(this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===true))this.render_view_data();scheduler.callEvent("onDragEnd",[drag_id,mode,e]);}
this._drag_id=null;this._drag_mode=null;this._drag_pos=null;var src=jQuery((e.target||e.srcElement));if(src.hasClass('dhx_scale_holder')||src.hasClass('dhx_scale_holder_now')||src.hasClass('hover-hint')){scheduler.dateEndPredefined=false;var pos=this._mouse_coords(e);var start=this._min_date.valueOf()+(pos.y*this.config.time_step+(this._table_view?0:pos.x)*24*60)*60000;start=this._correct_shift(start);if(!e.cancelBubble){this.addEventNow(start,null,e);}
scheduler.dateEndPredefined=true;}};var render_event_bar=scheduler.render_event_bar;scheduler.render_event_bar=function(ev){render_event_bar.apply(this,[ev]);var container=this._rendered[this._rendered.length-1];this.callEvent('onEventRendered',[container,ev]);return container;};scheduler.render_event=function(ev){var menu=scheduler.xy.menu_width;var menu_offset=(this.config.use_select_menu_space)?0:menu;if(ev._sday<0)return;var parent=scheduler.locate_holder(ev._sday);if(!parent)return;var pos_y=this._calc_event_y(ev,scheduler.xy.min_event_height);var top=pos_y.top,height=pos_y.height;var ev_count=ev._count||1;var ev_sorder=ev._sorder||0;var baseWidth=parent.clientWidth;baseWidth-=baseWidth/100*3;var width=Math.floor((baseWidth-menu_offset)/ev_count);var left=ev_sorder*width+1;if(!ev._inner)width=width*(ev_count-ev_sorder);if(this.config.cascade_event_display){var limit=this.config.cascade_event_count;var margin=this.config.cascade_event_margin;left=ev_sorder%limit*margin;var right=(ev._inner)?(ev_count-ev_sorder-1)%limit*margin/2:0;width=Math.floor(parent.clientWidth-menu_offset-left-right);}
var _mode='full';if(height<scheduler.xy.min_event_height*2){_mode='line';}
ev._display_mode=_mode;var d=this._render_v_bar(ev,menu_offset+left,top,width,height,ev._text_style,scheduler.templates.event_header(ev.start_date,ev.end_date,ev),scheduler.templates.event_text(ev.start_date,ev.end_date,ev));this._rendered.push(d);parent.appendChild(d);left=left+parseInt(parent.style.left,10)+menu_offset;if(this._edit_id==ev.id){d.style.zIndex=1;width=Math.max(width-4,scheduler.xy.editor_width);d=document.createElement("DIV");d.setAttribute("event_id",ev.id);this.set_xy(d,width,height-20,left,top+14);d.className="dhx_cal_event dhx_cal_editor";var tplClass=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(tplClass){d.className+=" "+tplClass;}
var d2=document.createElement("DIV");this.set_xy(d2,width-6,height-26);d2.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;";d.appendChild(d2);this._els["dhx_cal_data"][0].appendChild(d);this._rendered.push(d);d2.innerHTML="<textarea class='dhx_cal_editor'>"+ev.text+"</textarea>";if(this._quirks7)d2.firstChild.style.height=height-12+"px";this._editor=d2.firstChild;this._editor.onkeydown=function(e){if((e||event).shiftKey)return true;var code=(e||event).keyCode;if(code==scheduler.keys.edit_save)scheduler.editStop(true);if(code==scheduler.keys.edit_cancel)scheduler.editStop(false);};this._editor.onselectstart=function(e){(e||event).cancelBubble=true;return true;};scheduler._focus(d2.firstChild,true);this._els["dhx_cal_data"][0].scrollLeft=0;}
if(this.xy.menu_width!==0&&this._select_id==ev.id){if(this.config.cascade_event_display&&this._drag_mode)
d.style.zIndex=1;var icons=this.config["icons_"+((this._edit_id==ev.id)?"edit":"select")];var icons_str="";var bg_color=(ev.color?("background-color: "+ev.color+";"):"");var color=(ev.textColor?("color: "+ev.textColor+";"):"");for(var i=0;i<icons.length;i++)
icons_str+="<div class='dhx_menu_icon "+icons[i]+"' style='"+bg_color+""+color+"' title='"+this.locale.labels[icons[i]]+"'></div>";var obj=this._render_v_bar(ev,left-menu+1,top,menu,icons.length*20+26-2,"","<div style='"+bg_color+""+color+"' class='dhx_menu_head'></div>",icons_str,true);obj.style.left=left-menu+1;this._els["dhx_cal_data"][0].appendChild(obj);this._rendered.push(obj);}
if(this.config.drag_highlight&&this._drag_id==ev.id){this.highlightEventPosition(ev);}};scheduler._render_v_bar=function(ev,x,y,w,h,style,contentA,contentB,bottom){var d=document.createElement("DIV");var id=ev.id;var cs=(bottom)?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event";var cse=scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse)cs=cs+" "+cse;var bg_color=(ev.color?("background:"+ev.color+";"):"");var color=(ev.textColor?("color:"+ev.textColor+";"):"");var html='<div event_id="'+id+'" class="'+cs+'" style="position:absolute; top:'+y+'px; left:'+x+'px; width:'+(w-4)+'px; height:'+h+'px;'+(style||"")+'"></div>';d.innerHTML=html;var container=d.cloneNode(true).firstChild;if(!bottom&&scheduler.renderEvent(container,ev,w,h,contentA,contentB)){return container;}else{container=d.firstChild;var _mode=ev._display_mode;var inner_html='<div class="dhx_event_move dhx_header" style=" width:'+(w-6)+'px;'+bg_color+'" >&nbsp;</div>';inner_html+='<div class="dhx_event_move dhx_title '+(_mode=='line'?' dhx_event_line':'')+'" style="'+bg_color+''+color+'">'+contentA+'</div>';if(_mode!='line'){inner_html+='<div class="dhx_body" style=" width:'+(w-(this._quirks?4:14))+'px; height:'+(h-(this._quirks?20:30)+1)+'px;'+bg_color+''+color+'">'+contentB+'</div>';}
var footer_class="dhx_event_resize dhx_footer";if(bottom)
footer_class="dhx_resize_denied "+footer_class;inner_html+='<div class="'+footer_class+'" style=" width:'+(w-8)+'px;'+(bottom?' margin-top:-1px;':'')+''+bg_color+''+color+'" ></div>';container.innerHTML=inner_html;}
this.callEvent('onEventRendered',[container,ev]);return container;};scheduler.dhtmlXTooltip.position=function(ev){ev=ev||window.event;var res={};if(ev.pageX||ev.pageY){res={x:ev.pageX,y:ev.pageY};}else{var d=((window._isIE)&&(document.compatMode!="BackCompat"))?document.documentElement:document.body;res={x:ev.clientX+d.scrollLeft-d.clientLeft,y:ev.clientY+d.scrollTop-d.clientTop};}
if(this.tooltip.event_id==this.tooltip.o_event_id&&this.tooltip.parentNode){return this.tooltip.oldPosition;}
this.tooltip.oldPosition=res;this.tooltip.o_event_id=this.tooltip.event_id;return res;};var _get_event_sday=scheduler._get_event_sday;scheduler._get_event_sday=function(ev){if(this._mode=='week'){return Math.floor(((ev.start_date.valueOf()-this._min_date.valueOf())-(60*1000*(ev.start_date.getTimezoneOffset()-this._min_date.getTimezoneOffset())))/(24*60*60*1000));}
return _get_event_sday.apply(this,[ev]);};

var UiTimePicker=function(options){this.__construct(options);};jQuery.extend(UiTimePicker.prototype,CommonOptions.prototype,{options:{'min':new Time('00:00'),'max':new Time('23:59'),'selected_minute':null,'slots':null},container:null,header:null,headerContainer:null,nextButton:null,prevButton:null,body:null,footer:null,hoursContainer:null,minutesContainer:null,selectedHour:null,selectedMinute:null,value:null,element:null,valueElement:null,minutesNotice:null,clearBtn:null,__construct:function(options){this.setOptions(options);this.init();var value=this.getDefaultValue();if(value){this.setValue(value);}
if(this.getParam('selected_minute')!==null){this.selectedMinute=this.getParam('selected_minute');}},init:function(){var instance=this;this.container=jQuery('<div class="timepicker-container k-popup k-group k-reset"></div>');this.container.addClass(Config.getTimeFormat()=='12hr'?'ampm-timepicker':'24hr-timepicker');this.container.hide();if(this.getParam('select_date')){this._initHeader();}
this._initBody();this._initFooter();this.container.appendTo(jQuery('body'));this.element=jQuery(this.getParam('element'));this.valueElement=jQuery(this.getParam('value_element',false));if(this.element.text()){this.setParam('btn_title',this.element.text());}
this.element.click(function(event){if(jQuery(this).hasClass('disabled')){return;}
jQuery('html').click();instance.show();event.stopPropagation();});jQuery(this.container).bind('closeTimepicker',function(){instance.close();});jQuery(this.container).click(function(event){event.stopPropagation();});jQuery(this.container).on('mouseenter','.timepicker-minute, .timepicker-hour',function(){jQuery(this).addClass('k-state-hover');});jQuery(this.container).on('mouseleave','.timepicker-minute, .timepicker-hour',function(){jQuery(this).removeClass('k-state-hover');});if(this.clearBtn){this.clearBtn.click(function(){instance.setValue(null);instance.close();});}},getDefaultValue:function(){var time=new Time();if(this.getParam('value')){return this.getParam('value');}else if(this.valueElement&&this.valueElement.val()){time.parseFromString(this.valueElement.val());}else if(this.element.val()){time.parseFromString(this.element.val());}else{return null;}
var value=new Date();value.setHours(time.getHours(),time.getMinutes(),0);return value;},setValue:function(value){this.value=value;this._updateValue();this._updateTitle();},_updateValue:function(){if(!this.value&&!this.getParam('allow_empty')){return;}
var value='';var title=this.getParam('btn_title');if(this.value){value=this.value.getMysqlTime();title=this.value.getFormattedTime();}
if(this.valueElement.length){this.valueElement.val(value);this.valueElement.change();}else{this.element.val(value);this.element.change();}
this.element.text(title);},getValue:function(){return this.value;},show:function(){this._fillHours();this.container.show();this.fixPosition();this.openHours();jQuery(this).trigger('onShow');},fixPosition:function(){var offset=this.element.offset();if(this.container.css('position')=='fixed'){this.container.css({'top':(jQuery(window).height()-this.container.height())/2,'left':(jQuery(window).width()-this.container.width())/2});}else{var position=offset.left+this.element.width()-this.container.width();if(position-this.container.width()<0){position=0;}
this.container.css(this.getParam('align','left'),position);this.container.css('top',offset.top+this.element.height());}},setHour:function(hour){this.selectedHour=hour;if(this.getParam('timeframe')>=60){this.changeTime();}else{this._fillMinutes();this.openMinutes();}},setMinute:function(minute){this.selectedMinute=minute;this.changeTime();},changeTime:function(){if(!this.value){this.value=new Date();}
var date=this.value.getDate();this.value.setHours(this.selectedHour);if(this.selectedMinute!==null){this.value.setMinutes(this.selectedMinute);}
this.value.setSeconds(0);if(this.value.getDate()!=date){this.updateDate();}
this._updateValue();jQuery(this).trigger('change',[this.value]);this.close();},_initHeader:function(){this.header=jQuery('<div class="timepicker-header container-fluid k-header"></div>');this.headerContainer=jQuery('<div class="row"></div>');this.nextButton=jQuery('<div class="col-xs-3"><span class="btn glyphicon glyphicon-chevron-left"></span></div>');this.headerTitle=jQuery('<div class="col-xs-6 text-center header-title"></div>');this.prevButton=jQuery('<div class="col-xs-3"><span class="btn glyphicon glyphicon-chevron-right"></span></div>');this.headerContainer.append(this.nextButton).append(this.headerTitle).append(this.prevButton);this.header.append(this.headerContainer);var instance=this;this.nextButton.click(function(){instance.value.setDate(instance.value.getDate()-1);instance.updateDate();});this.prevButton.click(function(){instance.value.setDate(instance.value.getDate()+1);instance.updateDate();});this.container.append(this.header);},updateDate:function(){this._updateTitle();jQuery(this).trigger('changeDate',[this.value]);},isVisible:function(){return this.container.is(':visible');},setAvailableTime:function(from,to){this.setParam('min',from);this.setParam('max',to);if(this.isVisible()){this._fillHours();this._fillMinutes();}},setAvailableTimeSlots:function(timeslots){if(timeslots){var slots={};timeslots.map(function(timestring){var time=new Time(timestring);var hours=time.getHours();var minutes=time.getMinutes();if(!slots[hours]){slots[hours]=[];}
slots[hours].push(minutes);});this.setParam('slots',slots);}else{this.setParam('slots',null);}
if(this.isVisible()){this._fillHours();this._fillMinutes();}},_initBody:function(){this.body=jQuery('<div class="timepicker-body"></div>');this.container.append(this.body);},_initFooter:function(){this.footer=jQuery('<div class="timepicker-footer"></div>');this.minutesNotice=jQuery('<div class="minutes-notice"><small>'+Locale.get('Please click the hour to see minute options')+'</small></div>');this.minutesNotice.hide().appendTo(this.footer);if(this.getParam('allow_empty')){this.clearBtn=jQuery('<a class="k-link k-nav-today" href="javascript: ;">'+Locale.get('Clear time')+'</a>');this.footer.append(this.clearBtn);}
this.container.append(this.footer);},_fillHours:function(){var min=this.getParam('min').getHours();var max=this.getParam('max').getHours();var slots=this.getParam('slots');if(this.getParam('max').getMinutes()===0){max--;}
if(!this.hoursContainer){this.hoursContainer=jQuery('<div class="hours-container"></div>');this.body.append(this.hoursContainer);}
this.hoursContainer.empty();for(var h=min;h<=max;h++){if(slots===null||slots[h]){this.hoursContainer.append(this._createHourNode(h));}}
var instance=this;jQuery('.timepicker-hour',this.hoursContainer).click(function(){instance.setHour(parseInt(jQuery(this).data('hour')));});},_fillMinutes:function(){if(!this.minutesContainer){this.minutesContainer=jQuery('<div class="minutes-container"></div>');this.body.append(this.minutesContainer);}
this.minutesContainer.hide().empty();if(this.getParam('max').getInteger()==this.getParam('min').getInteger()){return;}
if(this.selectedHour>this.getParam('max').getHours()||this.selectedHour<this.getParam('min').getHours()){return;}
var timeframe=this.getParam('timeframe');var min=0;var max=60;var slots=this.getParam('slots');if(this.selectedHour===this.getParam('min').getHours()){min=this.getParam('min').getMinutes();}
if(this.selectedHour===this.getParam('max').getHours()){max=this.getParam('max').getMinutes();}
for(var m=min;m<max;m+=timeframe){if(slots===null||(slots[this.selectedHour]&&slots[this.selectedHour].includes(m))){this.minutesContainer.append(this._createMinuteNode(m));}}
var instance=this;jQuery('.timepicker-minute',this.minutesContainer).click(function(){instance.setMinute(jQuery(this).data('minute'));});},_createMinuteNode:function(minute){var node=jQuery('<div class="timepicker-minute"></div>');node.text(this._formatedMinute(minute)).data('minute',minute);if(this.value&&parseInt(minute)===this.value.getMinutes()){node.addClass('k-state-selected');}
return node;},_createHourNode:function(hour){var node=jQuery('<div class="timepicker-hour"></div>');node.text(this._formatedHour(hour)).data('hour',hour);if(this.value&&parseInt(hour)===this.value.getHours()){node.addClass('k-state-selected');}
return node;},_formatedHour:function(hour){return new Time(hour+':00').getFormattedTime();},_formatedMinute:function(minute){return new Time(this.selectedHour+':'+minute).getFormattedTime();},_updateTitle:function(){if(!this.value){return;}
if(this.headerTitle){this.headerTitle.text(this.value.getFormattedDate());}},openHours:function(){if(this.minutesContainer){this.minutesContainer.hide();}
this.hoursContainer.show();this.minutesNotice.hide();if(this.getParam('timeframe')<60){this.minutesNotice.show();}},openMinutes:function(){if(this.minutesContainer){this.minutesContainer.show();}
this.minutesNotice.hide();this.hoursContainer.hide();},close:function(){this.container.hide();},destroy:function(){this.container.remove();}});jQuery('html').click(function(){jQuery('.timepicker-container').trigger('closeTimepicker');});

var UiDatePicker=function(options){this.__construct(options);}
jQuery.extend(UiDatePicker.prototype,CommonOptions.prototype,{element:null,valueElement:null,container:null,calendar:null,clearDate:null,__construct:function(options){this.setOptions(options);this.init();},init:function(){this.element=jQuery(this.getParam('element'));this.container=jQuery('<div class="datepicker-container k-popup k-group k-reset"></div>');this.calendar=jQuery('<div class="calendar"></div>');this.footer=jQuery('<div class="datepicker-footer k-footer"></div>');if(this.getParam('allow_empty')){this.clearDate=jQuery('<a href="javascript: ;" class="k-link k-nav-today">'+Locale.get('Clear date')+'</a>');this.footer.append(this.clearDate);}
if(this.element.text()){this.setParam('btn_title',this.element.text());}
if(this.getParam('value_element')){this.valueElement=jQuery(this.getParam('value_element'));if(!this.getParam('value')&&this.valueElement.val()){this.setParam('value',Date.parseMysqlDate(this.valueElement.val()));}}
kendo.culture().calendar.firstDay=Config.isMondayFirstDay()?1:0;this.calendar.kendoCalendar(this.getParam('calendar_params'));if(this.getParam('value')){this.calendar.kendoCalendar('value',new Date(this.getParam('value')));}
this.container.hide();this.container.append(this.calendar);this.calendar.append(this.footer);this.container.appendTo(jQuery('body'));if(this.getParam('update_title',true)){this._updateValue(this.getParam('value'));}
this.initEvents();},setValue:function(date){var calendar=this.calendar.data('kendoCalendar');if(calendar){this.calendar.kendoCalendar('value',date);}
this._updateValue(date);},getValue:function(){return this.calendar.kendoCalendar('value');},initEvents:function(){var instance=this;this.element.click(function(event){jQuery('html').click();instance.show();event.stopPropagation();});jQuery(this.container).bind('closeDatepicker',function(){instance.close();});jQuery(this.container).click(function(event){event.stopPropagation();});this.calendar.data('kendoCalendar').bind('change',function(){instance.handleChange();});if(this.clearDate){this.clearDate.click(function(){instance.setValue(null);instance.close();});}},isVisible:function(){return this.container.is(':visible');},handleChange:function(){var calendar=this.calendar.data('kendoCalendar');if(calendar){var value=calendar.value();jQuery(this).trigger('change',[value]);this._updateValue(value);}
this.close();},_updateValue:function(date){if(!date&&!this.getParam('allow_empty')){return;}
var value='';var title=this.getParam('btn_title');if(date){value=date.getMysqlDate();title=date.getFormattedDate();}
if(this.valueElement){this.valueElement.val(value);}else{this.element.val(value);}
if(this.getParam('update_title',true)){this.element.text(title);}},fixPosition:function(){var offset=this.element.offset();if(this.container.css('position')=='fixed'){this.container.css({'top':(jQuery(window).height()-this.container.height())/2,'left':(jQuery(window).width()-this.container.width())/2});}else{var position=offset.left+this.element.width()-this.container.width();if(position-this.container.width()<0){position=0;}
this.container.css(this.getParam('align','left'),position);this.container.css('top',offset.top+this.element.height());}},show:function(){this.container.show();this.fixPosition();jQuery(this).trigger('onShow');},close:function(){this.container.hide();},destroy:function(){this.container.remove();}});jQuery('html').click(function(){jQuery('.datepicker-container').trigger('closeDatepicker');});

var UiDatetimePicker=function(options){this.__construct(options);}
jQuery.extend(UiDatetimePicker.prototype,CommonOptions.prototype,{input:null,inputValue:null,datePicker:null,timePicker:null,value:null,__construct:function(options){this.setOptions(options);this.init();},init:function(){this.input=jQuery(this.getParam('input'));this.inputValue=jQuery(this.getParam('value_input'));this.calendarButton=jQuery(this.getParam('calendar_button'));this.timeButton=jQuery(this.getParam('time_button'));this.setValue(this._getDefaultValue());this.datePicker=new UiDatePicker({'element':this.calendarButton,'value':this.getValue()});this.timePicker=new UiTimePicker({'element':this.timeButton,'timeframe':this.getParam('timeframe'),'select_date':true,'value':this.getValue()});var instance=this;jQuery(this.datePicker).bind('change',function(event,newDate){instance.setDate(newDate);instance.timePicker.setValue(new Date(instance.getValue()));});jQuery(this.timePicker).bind('change',function(event,newTime){instance.setTime(newTime);});jQuery(this.timePicker).bind('changeDate',function(event,newDate){instance.setDate(newDate);instance.datePicker.setValue(newDate);});jQuery(this.datePicker).bind('onShow',function(){instance.timePicker.close();});jQuery(this.timePicker).bind('onShow',function(){instance.datePicker.close();});this._updateInput();},setDate:function(date){if(!this.value){this.value=new Date();}
this.value.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());this.notifyChange('date');},setTime:function(date){if(!this.value){this.value=new Date(this.timePicker.getValue());}
this.value.setHours(date.getHours(),date.getMinutes());this.notifyChange('time');},notifyChange:function(type){jQuery(this).trigger('change',[this.value,type]);if(type=='date'){jQuery(this).trigger('changeDate',[this.value]);}else{jQuery(this).trigger('changeTime',[this.value]);}
this._updateInput();},setValue:function(value){this.value=value;if(this.datePicker){this.datePicker.setValue(value);}
if(this.timePicker){this.timePicker.setValue(value);}
this._updateInput();},getValue:function(){return this.value;},showLoader:function(){},hideLoader:function(){},setAvailableTime:function(from,to){this.timePicker.setAvailableTime(from,to);},setAvailableTimeSlots:function(timeslots){this.timePicker.setAvailableTimeSlots(timeslots);},_getDefaultValue:function(){var value=this.getParam('value');if(this.inputValue.val()){value=Date.parseMysqlDate(this.inputValue.val());}else if(this.input.val()){value=Date.parseMysqlDate(this.input.val());}
return value;},_updateInput:function(){if(!this.getValue()){return;}
if(this.input&&this.input.length){this.input.val(this.getValue().getFormattedDateTime());}else{if(this.calendarButton&&this.calendarButton.length){this.calendarButton.text(this.getValue().getFormattedDate());}
if(this.timeButton&&this.timeButton.length){this.timeButton.text(this.getValue().getFormattedTime());}}
if(this.inputValue&&this.inputValue.length){this.inputValue.val(this.getValue().getMysqlDateTime());}},getVisiblePicker:function(){if(this.datePicker.isVisible()){return'date';}else if(this.timePicker.isVisible()){return'time';}else{return null;}},destroy:function(){this.datePicker.destroy();this.timePicker.destroy();}});

var DataSource=function(options){this.__construct(options);};jQuery.extend(DataSource.prototype,CommonOptions.prototype,CommonLog.prototype,{map:{},data:[],filteredData:[],dataMap:{},__construct:function(options){this.setOptions(options);this.map=this.getParam('map',{});},filterData:function(str,handler){},getItem:function(value,handler){if(jQuery.type(handler)==='function'){handler(this.dataMap[value]);}else{return this.dataMap[value];}},getFilteredData:function(){return this.filteredData;},stopFilter:function(){},setData:function(data){this.data=data;this.dataMap={};for(var i=0;i<data.length;i++){this.dataMap[this.formatValue(data[i])]=data[i];}},getData:function(){return this.data;},formatValue:function(data){return data.value;},formatTitle:function(data){return data.title;}});

var DataSourceArray=function(options){this.__construct(options);};jQuery.extend(DataSourceArray.prototype,DataSource.prototype,{__construct:function(options){DataSource.prototype.__construct.apply(this,[options]);if(this.getParam('data')){this.setData(this.getParam('data'));}},filterData:function(str,handler){this.filteredData=[];if(str===''){this.filteredData=this.data.slice();}else{var mode=this.getParam('search_mode','start');var searchStr=str.toLowerCase();var isNumber=/^[0-9\+]+$/.test(searchStr);for(var i=0;i<this.data.length;i++){var index=this.formatTitle(this.data[i]).toLowerCase().indexOf(searchStr);if(index>=0&&((mode==='start'&&index===0)||(mode==='substr'))){this.filteredData.push(this.data[i]);}
if(mode=='phone'&&(isNumber&&(index===1||index===0)||!isNumber&&index>=0)){this.filteredData.push(this.data[i]);}}}
if(jQuery.type(handler)==='function'){handler(this.filteredData);}}});

var DataSourceJson=function(options){this.__construct(options);};jQuery.extend(DataSourceJson.prototype,DataSource.prototype,{request:null,filterData:function(str,handler){var instance=this;var params=jQuery.extend({'title':str},this.getParam('queryParams'));this.request=jQuery.getJSON(this.getParam('url'),params,function(data){instance.setData(data);instance.filteredData=instance.getData();if(jQuery.type(handler)==='function'){handler(instance.filteredData);}});},getItem:function(value,handler){if(jQuery.type(handler)==='function'){if(jQuery.type(this.dataMap[value])!=='undefined'){handler(this.dataMap[value]);}else{var params={'value':value};jQuery.getJSON(this.getParam('url'),params,function(data){handler(data);});}}else{if(jQuery.type(this.dataMap[value])!=='undefined'){return this.dataMap[value];}}},stopFilter:function(){if(this.request){this.request.abort();this.request=null;}}});

var ClientDataSource=function(options){this.__construct(options);}
jQuery.extend(ClientDataSource.prototype,DataSourceJson.prototype,{options:{'url':'/client/list/'},formatValue:function(data){if(data.id&&data.id.length){return parseInt(data.id);}
return null;},formatTitle:function(data){var result=data.name;if(data.phone&&data.phone!='0'){var phone=data.phone;if(phone.indexOf('+')==-1){phone='+'+phone;}
result+=' - '+phone;}
return(result+'');}});

var ServiceDataSource=function(options){this.__construct(options);}
jQuery.extend(ServiceDataSource.prototype,DataSourceJson.prototype,{options:{'url':'/service/list/'},formatValue:function(data){if(data.id&&data.id.length){return parseInt(data.id);}
return null;},formatTitle:function(data){var result=data.name;return(result+'');}});

var ProviderDataSource=function(options){this.__construct(options);}
jQuery.extend(ProviderDataSource.prototype,DataSourceJson.prototype,{options:{'url':'/provider/list/'},formatValue:function(data){if(data.id&&data.id.length){return parseInt(data.id);}
return null;},formatTitle:function(data){var result=data.name;return(result+'');}});

var UiCombobox=function(options){this.__construct(options);}
UiCombobox.KEY_UP=38;UiCombobox.KEY_DOWN=40;UiCombobox.KEY_ENTER=13;UiCombobox.KEY_BACKSPACE=8;UiCombobox.KEY_DELETE=46;UiCombobox.KEY_ESC=27;jQuery.extend(UiCombobox.prototype,CommonOptions.prototype,CommonLog.prototype,{element:null,text:null,container:null,list:null,dataSource:null,selectedValue:null,prevFilter:null,readonly:false,__construct:function(options){this.setOptions(options);this.dataSource=this.getParam('data_source');this.initDom();this.initDataSource();this.initEvents();this.initDefaultValue();},initDom:function(){this.element=jQuery(this.getParam('element')).hide();this.container=jQuery('<div class="combobox-container"></div>');this.text=jQuery('<input type="text" class="form-control" />').prop('readonly',this.element.prop('readonly'));this.readonly=this.element.prop('readonly');this.button=jQuery('<div class="dropdown-toggle">'+'<div class="icon"></div>'+'</div>');this.list=jQuery('<ul class="dropdown-menu"></ul>');this.container.append(this.text);this.container.append(this.list);this.container.append(this.button);this.container.on('dragstart','*',function(){return false;});this.element.after(this.container);},initDefaultValue:function(){if(this.element.val()){this.setValue(this.element.val());}},initDataSource:function(){if(!this.dataSource){this.initDefaultDataSource();}},initDefaultDataSource:function(){var data=[];this.prevFilter=false;jQuery('option',this.element).each(function(){var obj=jQuery(this);var value=obj.attr('value');if(!value){value='';}
data.push({'value':value,'title':obj.text()});});if(!this.dataSource){this.dataSource=new DataSourceArray({'data':data});}else{this.dataSource.setData(data);}},getDataSource:function(){return this.dataSource;},initEvents:function(){var instance=this;this.button.mousedown(function(event){if(instance.readonly){return false;}
jQuery('html').mousedown();if(instance.isOpened()){instance.close();}else{instance.open('');}
event.stopPropagation();});this.button.click(function(){instance.text.focus();});jQuery(this.container).bind('closeCombobox',function(e){if(instance.isOpened()){if(instance.text.val()){var currentData=instance.dataSource.getItem(instance.getValue());if(!currentData||instance.dataSource.formatTitle(currentData)!=instance.text.val()){var data=instance.dataSource.getFilteredData();if(data.length){instance.setValue(instance.dataSource.formatValue(data[0]));}}}}
instance.close();});this.list.on('mousedown','a',function(){instance._setValue(jQuery(this).data('value'),true);instance.close();return false;});var userAgent=window.navigator.userAgent;if(userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)){this.text.bind('input',function(event){if(instance.readonly){return false;}
instance.handleKeyboard(event);});}else{this.text.keyup(function(event){if(instance.readonly){return false;}
instance.handleKeyboard(event);});}
this.text.keydown(function(event){if(event.keyCode===UiCombobox.KEY_ENTER&&instance.isOpened()){return false;}});this.text.click(function(event){event.stopPropagation();});this.text.mouseup(function(event){event.preventDefault();});this.text.focus(function(){instance.button.mousedown()
this.setSelectionRange(0,this.value.length);});},handleKeyboard:function(event){var node=null;if((event.keyCode===UiCombobox.KEY_UP||event.keyCode===UiCombobox.KEY_DOWN)&&!this.isOpened()){this.open('');}
switch(event.keyCode){case UiCombobox.KEY_UP:node=jQuery('.active',this.list).prev();if(!node.length){node=jQuery('li:last',this.list);}
break;case UiCombobox.KEY_DOWN:node=jQuery('.active',this.list).next();if(!node.length){node=jQuery('li:first',this.list);}
break;case UiCombobox.KEY_ENTER:if(this.text.val()){this._setValue(jQuery('.active a',this.list).data('value'),true);}else{this._setValue('',true);}
this.close();return;case UiCombobox.KEY_ESC:if(this.isOpened()){this.close();}
return;case UiCombobox.KEY_BACKSPACE:case UiCombobox.KEY_DELETE:if(this.text.val()==''){this._setValue('',true);}
break;}
if(node&&(event.keyCode===UiCombobox.KEY_UP||event.keyCode===UiCombobox.KEY_DOWN)){jQuery('.active',this.list).removeClass('active');node.addClass('active');this._focusActiveItem();this.text.val(node.text());jQuery(this).trigger('textChanged',[jQuery('a',node).data('value')]);}else{this.open(this.text.val());}},setValue:function(value){this._setValue(value,true);},_setValue:function(value,triggerEvent){var instance=this;this.selectedValue=value;if(value){this.dataSource.getItem(value,function(data){if(data){instance.text.val(instance.dataSource.formatTitle(data));}else{instance._setValue(false,false);}});}else{instance.text.val('');}
jQuery('.active',this.list).removeClass('active');jQuery('li a[data-value="'+value+'"]',this.list).parent().addClass('active');this.element.val(this.selectedValue);if(triggerEvent){this.element.change();}},_focusActiveItem:function(){var node=jQuery('.active',this.list);if(!node.length){return;}
var position=node.position();if(position.top<0){this.list.scrollTop(this.list.scrollTop()+position.top);}else{var listHeight=this.list.height();if(position.top>listHeight){this.list.scrollTop(this.list.scrollTop()+position.top-listHeight+node.height());}}},getValue:function(){return this.selectedValue;},isOpened:function(){return this.list.is(':visible');},open:function(filter){if(this.prevFilter===filter){this.list.show();this._focusActiveItem();return;}
var instance=this;this.prevFilter=filter;this.dataSource.stopFilter();this.dataSource.filterData(filter,function(data){instance.updateList();instance.list.show();instance._focusActiveItem();if(data.length===0){jQuery(instance).trigger('notFound',[filter]);}});},close:function(){this.list.hide();},updateList:function(){var data=this.dataSource.getFilteredData();var htmlStr='';for(var i=0;i<data.length;i++){htmlStr+=this.getItem(data[i]);}
this.list.empty();this.list.html(htmlStr);},getItem:function(data){var className='';var value=this.dataSource.formatValue(data);if(value==this.selectedValue){className='active';}
var result='<li class="'+className+'">'+'<a href="javascript:;" data-value="'+value+'">'+this.dataSource.formatTitle(data).escape()+'</a>'+'</li>';return result;},destroy:function(){this.container.remove();}});jQuery('html').bind('mousedown',function(e){if(jQuery(e.target).hasClass('dropdown-menu')){return;}
jQuery('.combobox-container').trigger('closeCombobox');});

var UiComboboxTree=function(options){this.__construct(options);}
UiComboboxTree.KEY_UP=38;UiComboboxTree.KEY_DOWN=40;UiComboboxTree.KEY_ENTER=13;UiComboboxTree.KEY_ESC=27;jQuery.extend(UiComboboxTree.prototype,CommonOptions.prototype,CommonLog.prototype,{element:null,text:null,container:null,list:null,dataSource:null,selectedValue:null,isSelectedCategory:null,selectedItemCategoryId:null,dataArr:[],prevFilter:null,readonly:false,__construct:function(options){this.setOptions(options);this.dataSource=this.getParam('data_source');this.initDom();this.initDataSource();this.initEvents();this.initDefaultValue();},initDom:function(){this.element=jQuery(this.getParam('element')).hide();this.container=jQuery('<div class="combobox-container"></div>');this.text=jQuery('<input type="text" class="form-control" />').prop('readonly',this.element.prop('readonly'));this.readonly=this.element.prop('readonly');this.button=jQuery('<div class="dropdown-toggle">'+'<div class="icon"></div>'+'</div>');this.list=jQuery('<ul class="dropdown-menu"></ul>');this.container.append(this.text);this.container.append(this.list);this.container.append(this.button);this.container.on('dragstart','*',function(){return false;});this.element.after(this.container);},initDefaultValue:function(){if(this.element.val()){this.setValue(this.element.val());}},initDataSource:function(){if(!this.dataSource){this.initDefaultDataSource();}},initDefaultDataSource:function(){var data=[];this.prevFilter=false;var lastCategoryId=null;jQuery('option',this.element).each(function(){var obj=jQuery(this);var value=obj.attr('value');var isCategory=obj.data('category');if(isCategory){lastCategoryId=parseInt(value);}
if(!value){value='';}
data.push({'value':value,'title':obj.text(),'is_category':isCategory?true:false,'category_value':isCategory?null:lastCategoryId});});this.dataArr=jQuery.merge([],data);if(!this.dataSource){this.dataSource=new DataSourceArray({'data':data});}else{this.dataSource.setData(data);}},getDataSource:function(){return this.dataSource;},initEvents:function(){var instance=this;this.button.mousedown(function(event){if(instance.readonly){return false;}
jQuery('html').mousedown();if(instance.isOpened()){instance.close();}else{instance.open('');}
event.stopPropagation();});this.button.click(function(){instance.text.focus();});jQuery(this.container).bind('closeCombobox',function(e){if(instance.isOpened()){if(instance.text.val()){var currentData=instance.dataSource.getItem(instance.getValue());if(!currentData||instance.dataSource.formatTitle(currentData)!=instance.text.val()){var data=instance.dataSource.getFilteredData();if(data.length){instance.setValue(instance.dataSource.formatValue(data[0]));}}}}
instance.close();});this.list.on('mousedown','a',function(){instance._setValue(jQuery(this).data('value'),true,parseInt(jQuery(this).data('category')),parseInt(jQuery(this).data('category-id')));instance.close();return false;});this.text.keyup(function(event){if(instance.readonly){return false;}
instance.handleKeyboard(event);});this.text.keydown(function(event){if(event.keyCode===UiComboboxTree.KEY_ENTER&&instance.isOpened()){return false;}});this.text.click(function(event){event.stopPropagation();});this.text.mouseup(function(event){event.preventDefault();});this.text.focus(function(){instance.button.mousedown()
this.setSelectionRange(0,this.value.length);});},handleKeyboard:function(event){var node=null;if((event.keyCode===UiComboboxTree.KEY_UP||event.keyCode===UiComboboxTree.KEY_DOWN)&&!this.isOpened()){this.open('');}
switch(event.keyCode){case UiComboboxTree.KEY_UP:node=jQuery('.active',this.list).prev();if(!node.length){node=jQuery('li:last',this.list);}
break;case UiComboboxTree.KEY_DOWN:node=jQuery('.active',this.list).next();if(!node.length){node=jQuery('li:first',this.list);}
break;case UiComboboxTree.KEY_ENTER:if(this.text.val()){this._setValue(jQuery('.active a',this.list).data('value'),true,jQuery('.active a',this.list).data('category'),jQuery('.active a',this.list).data('category-id'));}else{this._setValue('',true);}
this.close();return;case UiComboboxTree.KEY_ESC:if(this.isOpened()){this.close();}
return;}
if(node&&(event.keyCode===UiComboboxTree.KEY_UP||event.keyCode===UiComboboxTree.KEY_DOWN)){jQuery('.active',this.list).removeClass('active');node.addClass('active');this._focusActiveItem();this.text.val(node.text());jQuery(this).trigger('textChanged',[jQuery('a',node).data('value')]);}else{this.open(this.text.val());}},setValue:function(value,isCategory){this._setValue(value,true,isCategory);},hideItem:function(value,isCategory){jQuery('li a[data-value="'+value+'"][data-category="'+(isCategory?'1':'0')+'"]',this.list).parent().addClass('hidden').removeClass('active');},showItem:function(value,isCategory){if(value){jQuery('li a[data-value="'+value+'"][data-category="'+(isCategory?'1':'0')+'"]',this.list).parent().removeClass('active hidden');}else{jQuery('li a',this.list).parent().removeClass('hidden');}},_setValue:function(value,triggerEvent,isCategory,itemCategoryId){var instance=this;this.selectedValue=value;this.isSelectedCategory=isCategory;if(value){this.dataSource.getItem(value,function(data){if(data){instance.text.val(instance.dataSource.formatTitle(data));}else{instance._setValue(false,false);}});if(instance.isSelectedCategory){instance.selectedItemCategoryId=null;}else{instance.selectedItemCategoryId=itemCategoryId}}else{instance.text.val('');}
jQuery('.active',this.list).removeClass('active');jQuery('li a[data-value="'+value+'"][data-category="'+(isCategory?'1':'0')+'"]',this.list).parent().addClass('active');this.element.val(this.selectedValue);if(triggerEvent){this.element.change();}},_focusActiveItem:function(){var node=jQuery('.active',this.list);if(!node.length){return;}
var position=node.position();if(position.top<0){this.list.scrollTop(this.list.scrollTop()+position.top);}else{var listHeight=this.list.height();if(position.top>listHeight){this.list.scrollTop(this.list.scrollTop()+position.top-listHeight+node.height());}}},getValue:function(withCategory){if(withCategory){return{value:this.selectedValue,is_category:this.isSelectedCategory,category_id:this.selectedValue?this.selectedItemCategoryId:undefined,}}else{return this.selectedValue;}},isOpened:function(){return this.list.is(':visible');},open:function(filter){if(this.prevFilter===filter){this.list.show();this._focusActiveItem();return;}
var instance=this;this.prevFilter=filter;this.dataSource.stopFilter();this.dataSource.filterData(filter,function(data){instance.updateList();instance.list.show();instance._focusActiveItem();if(data.length===0){jQuery(instance).trigger('notFound',[filter]);}});},close:function(){this.list.hide();},updateList:function(){var data=this.dataSource.getFilteredData();var htmlStr='';for(var i=0;i<data.length;i++){htmlStr+=this.getItem(data[i]);}
this.list.empty();this.list.html(htmlStr);},getItem:function(data){var className='';var value=this.dataSource.formatValue(data);if(value==this.selectedValue){className='active';}
var result='<li class="'+className+' '+(data.is_category?'category':'item')+'">'+'<a href="javascript:;" data-value="'+value+'" data-category-id="'+(data.is_category?null:data.category_value)+'" data-category="'+(data.is_category?'1':'0')+'">'+this.dataSource.formatTitle(data).escape()+'</a>'+'</li>';return result;},destroy:function(){this.container.remove();}});jQuery('html').bind('mousedown',function(e){if(jQuery(e.target).hasClass('dropdown-menu')){return;}
jQuery('.combobox-container').trigger('closeCombobox');});

var UiPhoneInput=function(options){this.__construct(options);};jQuery.extend(UiPhoneInput.prototype,CommonOptions.prototype,{valueInput:null,countrySelect:null,countryCombobox:null,phoneInput:null,__construct:function(options){this.setOptions(options);this.initDom();this.initEvents();},initDom:function(){this.valueInput=jQuery(this.getParam('element'));if(this.getParam('coutry_element')){this.countrySelect=jQuery(this.getParam('coutry_element'));}else{this.countrySelect=jQuery('.country-code-select',this.valueInput.parent());}
if(this.getParam('phone_element')){this.phoneInput=jQuery(this.getParam('phone_element'));}else{this.phoneInput=jQuery('.phone-number-input',this.valueInput.parent());}
this.countryCombobox=new UiPhoneCountryCombobox({'element':this.countrySelect});this.setValue(this.valueInput.val());},initEvents:function(){var instance=this;this.countrySelect.bind('change',function(){instance.phoneInput.focus();instance.updateValue();});this.phoneInput.bind('change',function(){instance.updateValue();});jQuery(this.countryCombobox).bind('notFound',function(event,filter){var prevFilter=filter.substring(0,filter.length-1);var lastChar=filter.substring(filter.length-1);instance.countryCombobox.getDataSource().filterData(prevFilter,function(data){if(data.length){var item=data.shift();instance.countryCombobox.setValue(item.value);instance.countryCombobox.close();instance.phoneInput.val(lastChar+instance.phoneInput.val());instance.phoneInput.focus();instance.phoneInput[0].setSelectionRange(1,instance.phoneInput.val().length);}});});},setValue:function(value){if(!value.length){return;}
value=value.replace(/[^0-9]/g,"");var instance=this;var skip=false;var code=false;for(var i=0;i<=value.length;i++){if(skip){break;}
code=value.substring(0,value.length-i);this.countryCombobox.getDataSource().filterData('+'+code,function(data){for(var k=0;k<data.length;k++){if(instance.countryCombobox.getDataSource().formatValue(data[k])===code){skip=true;}}});}
var phone=value.replace(code,'');if(code){this.countryCombobox.setValue(code);}
this.phoneInput.val(phone);},updateValue:function(){if(!this.phoneInput.val().length){this.valueInput.val('');return;}
this.valueInput.val(this.countrySelect.val()+this.phoneInput.val());}});

var UiPhoneCountryCombobox=function(options){this.__construct(options);}
jQuery.extend(UiPhoneCountryCombobox.prototype,UiCombobox.prototype,{initDefaultDataSource:function(){UiCombobox.prototype.initDefaultDataSource.apply(this);this.dataSource.setParam('search_mode','phone');},_setValue:function(value,triggerEvent){var instance=this;this.selectedValue=value;if(value){this.dataSource.getItem(value,function(data){if(jQuery.type(data)!=='undefined'){instance.text.val('+'+data.value);}});}else{instance.text.val('');}
jQuery('.active',this.list).removeClass('active');this.element.val(this.selectedValue);if(triggerEvent){this.element.change();}},getItem:function(data){var value=this.dataSource.formatValue(data);var result='<li>'+'<a href="javascript:;" data-value="'+value+'">'+this.dataSource.formatTitle(data).escape()+'</a>'+'</li>';return result;}});

function handleFileSelect(input,callback){if(!window.File||!window.FileReader||!window.FileList||!window.Blob){alert('The File APIs are not fully supported in this browser.');return;}
if(!input){alert("Um, couldn't find the fileinput element.");}
else if(!input.files){alert("This browser doesn't seem to support the `files` property of file inputs.");}
else if(!input.files[0]){alert("Please select a file before clicking 'Load'");}
else{var file=input.files[0];var fr=new FileReader();fr.onload=function(){callback(fr.result,file.name);};fr.readAsText(file);}}

var ClientSoapCrypt=function(options){this.__construct(options);};jQuery.extend(ClientSoapCrypt.prototype,{getSoapContainer:function(){return this.body;},initSoapKeyHandler:function(){var _this=this;if(window.soap_decrypt){jQuery('.sb-upload-key').hide();}
jQuery('.sb-upload-key input',this.getSoapContainer()).on('change',function(){var $label=jQuery(this).closest('.sb-upload-key').find('.file-select-name');handleFileSelect(jQuery(this)[0],function(content,filename){if($label.length){$label.text(filename);}
var keyData;try{keyData=JSON.parse(content);}catch(e){alert(Locale.get('plugin_soap_crypt_bad_key_format'));return;}
if(keyData.public!=window.soap_public_key){alert(Locale.get('plugin_soap_crypt_wrong_key'));return;}
window.soap_private_key=keyData.private;window.soap_decrypt=new NodeRSA(window.soap_private_key,'pkcs8-private-pem',{encryptionScheme:'pkcs1'});jQuery('.sb-upload-key').hide();if(window.sessionStorage){window.sessionStorage.setItem('client-soap-public',window.soap_public_key);window.sessionStorage.setItem('client-soap-private',window.soap_private_key);}
_this.decryptSoapData();});});},decryptSoapData:function(){if(!window.soap_decrypt)return;this._showLoader();var decryptionTasks=[];if(!this.getSoapEncryptedDataContainer().hasClass('sb-decrypted')){decryptionTasks.push({parent:null,encrypted:this.getSoapEncryptedDataContainer().val()});}
jQuery('.sb-history-line',this.getSoapContainer()).each(function(){var isDecrypted=jQuery(this).hasClass('sb-decrypted');var isCollapsed=jQuery(this).closest('.panel').find('[data-toggle="collapse"]').attr('aria-expanded')!='true';if(isDecrypted||isCollapsed)return;decryptionTasks.push({parent:this,encrypted:jQuery('.sb-encrypted',this).val()});jQuery(this).addClass('sb-is-decrypting');});setTimeout((function(){var _this=this;decryptionTasks.forEach(function(task,i){try{var decrypted=window.soap_decrypt.decrypt(task.encrypted);task.data=JSON.parse(decrypted.toString());}catch(e){}});this._hideLoader();decryptionTasks.forEach(function(task){if(task.parent){jQuery(task.parent).removeClass('sb-is-decrypting');}
if(task.data){if(task.parent){jQuery(task.parent).removeClass('data-encrypted').addClass('sb-decrypted');_this._showSoapValue(jQuery('.sb-subjective',task.parent),task.data.subjective);_this._showSoapValue(jQuery('.sb-objective',task.parent),task.data.objective);_this._showSoapValue(jQuery('.sb-assessment',task.parent),task.data.assessment);_this._showSoapValue(jQuery('.sb-plan',task.parent),task.data.plan);_this._showSoapValue(jQuery('.sb-medical-history',task.parent),task.data.medical_history);var downloadParent=jQuery('.sb-file',task.parent);var upload_box=jQuery('<div />').addClass('file-upload__field');if(task.data.file_hash){jQuery.get('/v2/ext/cloud-storage/share-hash',{hash:task.data.file_hash},function(response){upload_box.appendTo(downloadParent);jQuery('<span />').addClass('file-upload__field-item file-upload__field-item--file-name').append(task.data.file+' ').appendTo(upload_box);jQuery('<a />').addClass('action action__download file-upload__action file-upload__action--download').attr('href','http://drive.google.com/file/d/'+response.share_hash).attr('target','_blank').append('<i class="fal icon fa-download" />').appendTo(upload_box);},'json');}}else{_this._showSoapValue(jQuery('#subjective',_this.getSoapContainer()),task.data.subjective);_this._showSoapValue(jQuery('#objective',_this.getSoapContainer()),task.data.objective);_this._showSoapValue(jQuery('#assessment',_this.getSoapContainer()),task.data.assessment);_this._showSoapValue(jQuery('#plan',_this.getSoapContainer()),task.data.plan);_this._showSoapValue(jQuery('#medical_history',_this.getSoapContainer()),task.data.medical_history);_this._showSoapValue(jQuery('#file',_this.getSoapContainer()),task.data.file);_this._showSoapValue(jQuery('[name=file_hash]',_this.getSoapContainer()),task.data.file_hash);_this._showSoapValue(jQuery('#file',_this.getSoapContainer()).parent().find('.sb-filename-display'),task.data.file);_this.getSoapEncryptedDataContainer().addClass('sb-decrypted');var downloadParent=jQuery('#file',_this.getSoapContainer()).parent().find('.actions');var fileWrapper=jQuery('#file',_this.getSoapContainer()).closest('.file-upload__wrapper');if(task.data.file_hash){jQuery.get('/v2/ext/cloud-storage/share-hash',{hash:task.data.file_hash},function(response){jQuery('<a />').attr('href','http://drive.google.com/file/d/'+response.share_hash).addClass('action action__download file-upload__action file-upload__action--download sb-sharelink').attr('target','_blank').append('<i class="fal icon fa-download"></i> <span class="txt">{"Download"|t}</span>').prependTo(downloadParent);fileWrapper.addClass('selected');},'json')}}}else{if(task.parent){jQuery(task.parent).addClass('data-encrypted-with-different-key');}else{jQuery('#subjective',_this.getSoapContainer()).addClass('data-encrypted-with-different-key');jQuery('#objective',_this.getSoapContainer()).addClass('data-encrypted-with-different-key');jQuery('#assessment',_this.getSoapContainer()).addClass('data-encrypted-with-different-key');jQuery('#plan',_this.getSoapContainer()).addClass('data-encrypted-with-different-key');jQuery('#medical_history',_this.getSoapContainer()).addClass('data-encrypted-with-different-key');}}});}).bind(this),200);},initSoapCryptElements:function(){var _this=this;if(this.getSoapEncryptedDataContainer().length){var encrypted=this.getSoapEncryptedDataContainer().val();if(encrypted){jQuery('#subjective',_this.getSoapContainer()).addClass('data-encrypted');jQuery('#objective',_this.getSoapContainer()).addClass('data-encrypted');jQuery('#assessment',_this.getSoapContainer()).addClass('data-encrypted');jQuery('#plan',_this.getSoapContainer()).addClass('data-encrypted');jQuery('#medical_history',_this.getSoapContainer()).addClass('data-encrypted');if(window.soap_decrypt){jQuery('.sb-upload-key').hide();this.decryptSoapData();}else{jQuery('.sb-upload-key').show();}
this.initSoapKeyHandler();jQuery('[data-toggle="collapse"]',_this.getSoapContainer()).on('click',function(){setTimeout(function(){_this.decryptSoapData();},500);});}else{jQuery('.sb-upload-key').hide();}}},_showSoapValue:function($el,val){$el.removeClass('data-encrypted');if($el.is(':input')){$el.val(val);}else{$el.text(val);}}});

(function(){var aa=this||self;function k(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}function m(a,b){function c(){}c.prototype=b.prototype;a.$=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.fa=function(d,e,g){for(var f=Array(arguments.length-2),h=2;h<arguments.length;h++)f[h-2]=arguments[h];return b.prototype[e].apply(d,f)}};function n(a,b){null!=a&&this.g.apply(this,arguments)}n.prototype.i="";n.prototype.set=function(a){this.i=""+a};n.prototype.g=function(a,b,c){this.i+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.i+=arguments[d];return this};n.prototype.toString=function(){return this.i};function ba(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var p=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function q(a,b){a.sort(b||ca)}function ca(a,b){return a>b?1:a<b?-1:0};function da(a,b){this.i=a;this.g={};for(a=0;a<b.length;a++){var c=b[a];this.g[c.g]=c}}function ea(a){a=ba(a.g);q(a,function(b,c){return b.g-c.g});return a};function fa(a,b){this.g=a;this.m=!!b.o;this.i=b.h;this.v=b.type;this.u=!1;switch(this.i){case ha:case ia:case ja:case ka:case la:case ma:case na:this.u=!0}this.l=b.defaultValue}var na=1,ma=2,ha=3,ia=4,ja=6,ka=16,la=18;function r(){this.g={};this.l=this.j().g;this.i=this.m=null}r.prototype.has=function(a){return null!=this.g[a.g]};r.prototype.get=function(a,b){return t(this,a.g,b)};r.prototype.set=function(a,b){u(this,a.g,b)};r.prototype.add=function(a,b){v(this,a.g,b)};function oa(a,b){for(var c=ea(a.j()),d=0;d<c.length;d++){var e=c[d],g=e.g;if(null!=b.g[g]){a.i&&delete a.i[e.g];var f=11==e.i||10==e.i;if(e.m){e=w(b,g);for(var h=0;h<e.length;h++)v(a,g,f?e[h].clone():e[h])}else e=x(b,g),f?(f=x(a,g))?oa(f,e):u(a,g,e.clone()):u(a,g,e)}}}r.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.g={},a.i&&(a.i={}),oa(a,this));return a};function x(a,b){var c=a.g[b];if(null==c)return null;if(a.m){if(!(b in a.i)){var d=a.m,e=a.l[b];if(null!=c)if(e.m){for(var g=[],f=0;f<c.length;f++)g[f]=d.i(e,c[f]);c=g}else c=d.i(e,c);return a.i[b]=c}return a.i[b]}return c}function t(a,b,c){var d=x(a,b);return a.l[b].m?d[c||0]:d}function y(a,b){if(null!=a.g[b])a=t(a,b,void 0);else a:{a=a.l[b];if(void 0===a.l)if(b=a.v,b===Boolean)a.l=!1;else if(b===Number)a.l=0;else if(b===String)a.l=a.u?"0":"";else{a=new b;break a}a=a.l}return a}
function w(a,b){return x(a,b)||[]}function A(a,b){return a.l[b].m?null!=a.g[b]?a.g[b].length:0:null!=a.g[b]?1:0}function u(a,b,c){a.g[b]=c;a.i&&(a.i[b]=c)}function v(a,b,c){a.g[b]||(a.g[b]=[]);a.g[b].push(c);a.i&&delete a.i[b]}function B(a,b){var c=[],d;for(d in b)0!=d&&c.push(new fa(d,b[d]));return new da(a,c)};function C(){r.call(this)}m(C,r);var pa=null;function D(){r.call(this)}m(D,r);var qa=null;function E(){r.call(this)}m(E,r);var ra=null;C.prototype.j=function(){var a=pa;a||(pa=a=B(C,{0:{name:"NumberFormat",s:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,h:9,type:String},2:{name:"format",required:!0,h:9,type:String},3:{name:"leading_digits_pattern",o:!0,h:9,type:String},4:{name:"national_prefix_formatting_rule",h:9,type:String},6:{name:"national_prefix_optional_when_formatting",h:8,defaultValue:!1,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",h:9,type:String}}));return a};C.j=C.prototype.j;D.prototype.j=function(){var a=qa;a||(qa=a=B(D,{0:{name:"PhoneNumberDesc",s:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",h:9,type:String},9:{name:"possible_length",o:!0,h:5,type:Number},10:{name:"possible_length_local_only",o:!0,h:5,type:Number},6:{name:"example_number",h:9,type:String}}));return a};D.j=D.prototype.j;E.prototype.j=function(){var a=ra;a||(ra=a=B(E,{0:{name:"PhoneMetadata",s:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",h:11,type:D},2:{name:"fixed_line",h:11,type:D},3:{name:"mobile",h:11,type:D},4:{name:"toll_free",h:11,type:D},5:{name:"premium_rate",h:11,type:D},6:{name:"shared_cost",h:11,type:D},7:{name:"personal_number",h:11,type:D},8:{name:"voip",h:11,type:D},21:{name:"pager",h:11,type:D},25:{name:"uan",h:11,type:D},27:{name:"emergency",h:11,type:D},28:{name:"voicemail",h:11,type:D},29:{name:"short_code",h:11,type:D},30:{name:"standard_rate",h:11,type:D},31:{name:"carrier_specific",h:11,type:D},33:{name:"sms_services",h:11,type:D},24:{name:"no_international_dialling",h:11,type:D},9:{name:"id",required:!0,h:9,type:String},10:{name:"country_code",h:5,type:Number},11:{name:"international_prefix",h:9,type:String},17:{name:"preferred_international_prefix",h:9,type:String},12:{name:"national_prefix",h:9,type:String},13:{name:"preferred_extn_prefix",h:9,type:String},15:{name:"national_prefix_for_parsing",h:9,type:String},16:{name:"national_prefix_transform_rule",h:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",h:8,defaultValue:!1,type:Boolean},19:{name:"number_format",o:!0,h:11,type:C},20:{name:"intl_number_format",o:!0,h:11,type:C},22:{name:"main_country_for_code",h:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",h:9,type:String},26:{name:"leading_zero_possible",h:8,defaultValue:!1,type:Boolean}}));return a};E.j=E.prototype.j;var F={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},sa={AC:[,[,,"(?:[01589]\\d|[46])\\d{4}",,,,,,,[5,6]],[,,"6[2-467]\\d{3}",,,,"62889",,,[5]],[,,"4\\d{4}",,,,"40123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AC",247,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:0[1-9]|[1589]\\d)\\d{4}",,,,"542011",,,[6]],,,[,,,,,,,,,[-1]]],AD:[,[,,"(?:1|6\\d)\\d{7}|[135-9]\\d{5}",,,,,,,[6,8,9]],[,,"[78]\\d{5}",,,,"712345",,,[6]],[,,"690\\d{6}|[356]\\d{5}",,,,"312345",,,[6,9]],[,,"180[02]\\d{4}",,,,"18001234",,,[8]],[,,"[19]\\d{5}",,,,"912345",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],[,"(\\d{4})(\\d{4})","$1 $2",["1"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],,[,,,,,,,,,[-1]],,,[,,"1800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AE:[,[,,"(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"[2-4679][2-8]\\d{6}",,,,"22345678",,,[8],[7]],[,,"5[024-68]\\d{7}",,,,"501234567",,,[9]],[,,"400\\d{6}|800\\d{2,9}",,,,"800123456"],[,,"900[02]\\d{5}",,,,"900234567",,,[9]],[,,"700[05]\\d{5}",,,,"700012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AE",971,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],[,"(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"600[25]\\d{5}",,,,"600212345",,,[9]],,,[,,,,,,,,,[-1]]],AF:[,[,,"[2-7]\\d{8}",,,,,,,[9],[7]],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}",,,,"234567890",,,,[7]],[,,"7\\d{8}",,,,"701234567",,,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AF",93,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[1-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AG:[,[,,"(?:268|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}",,,,"2684601234",,,,[7]],[,,"268(?:464|7(?:1[3-9]|[28]\\d|3[0246]|64|7[0-689]))\\d{4}",,,,"2684641234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"26848[01]\\d{4}",,,,"2684801234",,,,[7]],"AG",1,"011","1",,,"1|([457]\\d{6})$","268$1",,,,,[,,"26840[69]\\d{4}",,,,"2684061234",,,,[7]],,"268",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AI:[,[,,"(?:264|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"264(?:292|4(?:6[12]|9[78]))\\d{4}",,,,"2644612345",,,,[7]],[,,"264(?:235|4(?:69|76)|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}",,,,"2642351234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AI",1,"011","1",,,"1|([2457]\\d{6})$","264$1",,,,,[,,"264724\\d{4}",,,,"2647241234",,,,[7]],,"264",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AL:[,[,,"(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",,,,,,,[6,7,8,9],[5]],[,,"4505[0-2]\\d{3}|(?:[2358][16-9]\\d[2-9]|4410)\\d{4}|(?:[2358][2-5][2-9]|4(?:[2-57-9][2-9]|6\\d))\\d{5}",,,,"22345678",,,[8],[5,6,7]],[,,"6(?:[78][2-9]|9\\d)\\d{6}",,,,"672123456",,,[9]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"900[1-9]\\d\\d",,,,"900123",,,[6]],[,,"808[1-9]\\d\\d",,,,"808123",,,[6]],[,,"700[2-9]\\d{4}",,,,"70021234",,,[8]],[,,,,,,,,,[-1]],"AL",355,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AM:[,[,,"(?:[1-489]\\d|55|60|77)\\d{6}",,,,,,,[8],[5,6]],[,,"(?:(?:1[0-25]|47)\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2)\\d{5}",,,,"10123456",,,,[5,6]],[,,"(?:33|4[1349]|55|77|88|9[13-9])\\d{6}",,,,"77123456"],[,,"800\\d{5}",,,,"80012345"],[,,"90[016]\\d{5}",,,,"90012345"],[,,"80[1-4]\\d{5}",,,,"80112345"],[,,,,,,,,,[-1]],[,,"60(?:2[78]|3[5-9]|4[02-9]|5[0-46-9]|[6-8]\\d|90)\\d{4}",,,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],[,"(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AO:[,[,,"[29]\\d{8}",,,,,,,[9]],[,,"2\\d(?:[0134][25-9]|[25-9]\\d)\\d{5}",,,,"222123456"],[,,"9[1-49]\\d{7}",,,,"923123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AR:[,[,,"(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",,,,,,,[10,11],[6,7,8]],[,,"3888[013-9]\\d{5}|(?:29(?:54|66)|3(?:777|865))[2-8]\\d{5}|3(?:7(?:1[15]|81)|8(?:21|4[16]|69|9[12]))[46]\\d{5}|(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|(?:2(?:284|302|657|920)|3(?:4(?:8[27]|92)|541|755|878))[2-7]\\d{5}|(?:2(?:(?:26|62)2|32[03]|477|9(?:42|83))|3(?:329|4(?:[47]6|62|89)|564))[2-6]\\d{5}|(?:(?:11[1-8]|670)\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-7]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-7]|[235][4-6]|84)|5(?:1[2-8]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:[03][45]|[17][2-6]|[58][3-6])))\\d{6}|2(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}",,,,"1123456789",,,[10],[6,7,8]],[,,"93888[013-9]\\d{5}|9(?:29(?:54|66)|3(?:777|865))[2-8]\\d{5}|93(?:7(?:1[15]|81)|8(?:21|4[16]|69|9[12]))[46]\\d{5}|9(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|9(?:2(?:284|302|657|920)|3(?:4(?:8[27]|92)|541|755|878))[2-7]\\d{5}|9(?:2(?:(?:26|62)2|32[03]|477|9(?:42|83))|3(?:329|4(?:[47]6|62|89)|564))[2-6]\\d{5}|(?:675\\d|9(?:11[1-8]\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-7]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-7]|[235][4-6]|84)|5(?:1[2-8]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:[03][45]|[17][2-6]|[58][3-6]))))\\d{6}|92(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|9(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|9(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}",,,,"91123456789",,,,[6,7,8]],[,,"800\\d{7,8}",,,,"8001234567"],[,,"60[04579]\\d{7}",,,,"6001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1",,,[[,"(\\d{3})","$1",["0|1(?:0[0-35-7]|1[02-5]|2[015]|3[47]|4[478])|911"]],[,"(\\d{2})(\\d{4})","$1-$2",["[1-9]"]],[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],[,"(\\d{4})(\\d{4})","$1-$2",["[1-8]"]],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1],[,"(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1"],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1"]],[[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1],[,"(\\d)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"]],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3-$4",["91"]],[,"(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9"]]],[,,,,,,,,,[-1]],,,[,,"810\\d{7}",,,,,,,[10]],[,,"810\\d{7}",,,,"8101234567",,,[10]],,,[,,,,,,,,,[-1]]],AS:[,[,,"(?:[58]\\d\\d|684|900)\\d{7}",,,,,,,[10],[7]],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}",,,,"6846221234",,,,[7]],[,,"684(?:2(?:48|5[2468]|72)|7(?:3[13]|70|82))\\d{4}",,,,"6847331234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AS",1,"011","1",,,"1|([267]\\d{6})$","684$1",,,,,[,,,,,,,,,[-1]],,"684",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AT:[,[,,"1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",,,,,,,[4,5,6,7,8,9,10,11,12,13],[3]],[,,"1(?:11\\d|[2-9]\\d{3,11})|(?:316|463|(?:51|66|73)2)\\d{3,10}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-578]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|7[1368]|8[2457])|5(?:2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[135-8]|5[468])|7(?:2[1-8]|35|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{4,10}",,,,"1234567890",,,,[3]],[,,"6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",,,,"664123456",,,[7,8,9,10,11,12,13]],[,,"800\\d{6,10}",,,,"800123456",,,[9,10,11,12,13]],[,,"9(?:0[01]|3[019])\\d{6,10}",,,,"900123456",,,[9,10,11,12,13]],[,,"8(?:10|2[018])\\d{6,10}|828\\d{5}",,,,"810123456",,,[8,9,10,11,12,13]],[,,,,,,,,,[-1]],[,,"5(?:0[1-9]|17|[79]\\d)\\d{2,10}|7[28]0\\d{6,10}",,,,"780123456",,,[5,6,7,8,9,10,11,12,13]],"AT",43,"00","0",,,"0",,,,[[,"(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],[,"(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],[,"(\\d{6})","$1",["1"]],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],[[,"(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],[,"(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AU:[,[,,"1(?:[0-79]\\d{7,8}|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",,,,,,,[5,6,7,8,9,10]],[,,"(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",,,,"212345678",,,[9],[8]],[,,"4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",,,,"147101234",,,[9]],"AU",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0|(183[12])",,"0011",,[[,"(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["13"]],[,"(\\d{3})(\\d{3})","$1 $2",["19"]],[,"(\\d{3})(\\d{4})","$1 $2",["180","1802"]],[,"(\\d{4})(\\d{3,4})","$1 $2",["19"]],[,"(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)","$CC ($1)"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],[[,"(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)","$CC ($1)"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],[,,"163\\d{2,6}",,,,"1631234",,,[5,6,7,8,9]],1,,[,,"1[38]00\\d{6}|1(?:345[0-4]|802)\\d{3}|13\\d{4}",,,,,,,[6,7,8,10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AW:[,[,,"(?:[25-79]\\d\\d|800)\\d{4}",,,,,,,[7]],[,,"5(?:2\\d|8[1-9])\\d{4}",,,,"5212345"],[,,"(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}",,,,"5601234"],[,,"800\\d{4}",,,,"8001234"],[,,"900\\d{4}",,,,"9001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:28\\d|501)\\d{4}",,,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AX:[,[,,"2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"18[1-8]\\d{3,6}",,,,"181234567",,,[6,7,8,9]],[,,"(?:4[0-8]|50)\\d{4,8}",,,,"412345678",,,[6,7,8,9,10]],[,,"800\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AX",358,"00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","0",,,"0",,"00",,,,[,,,,,,,,,[-1]],,"18",[,,,,,,,,,[-1]],[,,"20\\d{4,8}|60[12]\\d{5,6}|7(?:099\\d{4,5}|5[03-9]\\d{3,7})|20[2-59]\\d\\d|(?:606|7(?:0[78]|1|3\\d))\\d{7}|(?:10|29|3[09]|70[1-5]\\d)\\d{4,8}",,,,"10112345"],,,[,,,,,,,,,[-1]]],AZ:[,[,,"365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",,,,,,,[9],[7]],[,,"(?:222[0-79]\\d|365(?:[0-46-9]\\d|5[0-35-9]))\\d{4}|(?:(?:1[28]|46)\\d|2(?:[045]2|1[24]|2[34]|33|6[23]))\\d{6}",,,,"123123456",,,,[7]],[,,"(?:36554|99[2-9]\\d\\d)\\d{4}|(?:[16]0|4[04]|5[015]|7[07])\\d{7}",,,,"401234567"],[,,"88\\d{7}",,,,"881234567"],[,,"900200\\d{3}",,,,"900200123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[1-9]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365|46","1[28]|2|365(?:[0-46-9]|5[0-35-9])|46"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365|46","1[28]|2|365(?:[0-46-9]|5[0-35-9])|46"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BA:[,[,,"6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",,,,,,,[8,9],[6]],[,,"(?:3(?:[05-79][2-9]|1[4579]|[23][24-9]|4[2-4689]|8[2457-9])|49[2-579]|5(?:0[2-49]|[13][2-9]|[268][2-4679]|4[4689]|5[2-79]|7[2-69]|9[2-4689]))\\d{5}",,,,"30212345",,,[8],[6]],[,,"6040\\d{5}|6(?:03|[1-356]|44|7\\d)\\d{6}",,,,"61123456"],[,,"8[08]\\d{6}",,,,"80123456",,,[8]],[,,"9[0246]\\d{6}",,,,"90123456",,,[8]],[,,"8[12]\\d{6}",,,,"82123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BA",387,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"703[235]0\\d{3}|70(?:2[0-5]|3[0146]|[56]0)\\d{4}",,,,"70341234",,,[8]],,,[,,,,,,,,,[-1]]],BB:[,[,,"(?:246|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2\\d|3[2-9])|5(?:20|[34]\\d|54|7[1-3])|6(?:2\\d|38)|7[35]7|9(?:1[89]|63))\\d{4}",,,,"2464123456",,,,[7]],[,,"246(?:2(?:[3568]\\d|4[0-57-9])|45\\d|69[5-7]|8(?:[2-5]\\d|83))\\d{4}",,,,"2462501234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"(?:246976|900[2-9]\\d\\d)\\d{4}",,,,"9002123456",,,,[7]],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"24631\\d{5}",,,,"2463101234",,,,[7]],"BB",1,"011","1",,,"1|([2-9]\\d{6})$","246$1",,,,,[,,,,,,,,,[-1]],,"246",[,,,,,,,,,[-1]],[,,"246(?:292|367|4(?:1[7-9]|3[01]|44|67)|7(?:36|53))\\d{4}",,,,"2464301234",,,,[7]],,,[,,,,,,,,,[-1]]],BD:[,[,,"1\\d{9}|2\\d{7,8}|88\\d{4,6}|(?:8[0-79]|9\\d)\\d{4,8}|(?:[346]\\d|[57])\\d{5,8}",,,,,,,[6,7,8,9,10]],[,,"(?:4(?:31\\d\\d|423)|5222)\\d{3}(?:\\d{2})?|8332[6-9]\\d\\d|(?:3(?:03[56]|224)|4(?:22[25]|653))\\d{3,4}|(?:3(?:42[47]|529|823)|4(?:027|525|65(?:28|8))|562|6257|7(?:1(?:5[3-5]|6[12]|7[156]|89)|22[589]56|32|42675|52(?:[25689](?:56|8)|[347]8)|71(?:6[1267]|75|89)|92374)|82(?:2[59]|32)56|9(?:03[23]56|23(?:256|373)|31|5(?:1|2[4589]56)))\\d{3}|(?:3(?:02[348]|22[35]|324|422)|4(?:22[67]|32[236-9]|6(?:2[46]|5[57])|953)|5526|6(?:024|6655)|81)\\d{4,5}|(?:2(?:7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|1[1-6]|2[0157-9]|3[1-69]|41|6[1-35]|7[1-5]|8[1-8]|9[0-6])|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0136-9]|7[0-7]|8[014-9]))|3(?:0(?:2[025-79]|3[2-4])|181|22[12]|32[2356]|824)|4(?:02[09]|22[348]|32[045]|523|6(?:27|54))|666(?:22|53)|7(?:22[57-9]|42[56]|82[35])8|8(?:0[124-9]|2(?:181|2[02-4679]8)|4[12]|[5-7]2)|9(?:[04]2|2(?:2|328)|81))\\d{4}|(?:2[45]\\d\\d|3(?:1(?:2[5-7]|[5-7])|425|822)|4(?:033|1\\d|[257]1|332|4(?:2[246]|5[25])|6(?:2[35]|56|62)|8(?:23|54)|92[2-5])|5(?:02[03489]|22[457]|32[35-79]|42[46]|6(?:[18]|53)|724|826)|6(?:023|2(?:2[2-5]|5[3-5]|8)|32[3478]|42[34]|52[47]|6(?:[18]|6(?:2[34]|5[24]))|[78]2[2-5]|92[2-6])|7(?:02|21\\d|[3-589]1|6[12]|72[24])|8(?:217|3[12]|[5-7]1)|9[24]1)\\d{5}|(?:(?:3[2-8]|5[2-57-9]|6[03-589])1|4[4689][18])\\d{5}|[59]1\\d{5}",,,,"27111234"],[,,"(?:1[13-9]\\d|644)\\d{7}|(?:3[78]|44|66)[02-9]\\d{7}",,,,"1812345678",,,[10]],[,,"80[03]\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"96(?:0[469]|1[0-47]|3[389]|6[69]|7[78])\\d{6}",,,,"9604123456",,,[10]],"BD",880,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],[,"(\\d{4})(\\d{3,6})","$1-$2",["[13-9]"],"0$1"],[,"(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BE:[,[,,"4\\d{8}|[1-9]\\d{7}",,,,,,,[8,9]],[,,"80[2-8]\\d{5}|(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}",,,,"12345678",,,[8]],[,,"4[5-9]\\d{7}",,,,"470123456",,,[9]],[,,"800[1-9]\\d{4}",,,,"80012345",,,[8]],[,,"(?:70(?:2[0-57]|3[0457]|44|69|7[0579])|90(?:0[0-35-8]|1[36]|2[0-3568]|3[0135689]|4[2-68]|5[1-68]|6[0-378]|7[23568]|9[34679]))\\d{4}",,,,"90012345",,,[8]],[,,"7879\\d{4}",,,,"78791234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"78(?:0[57]|1[0458]|2[25]|3[15-8]|48|[56]0|7[078])\\d{4}",,,,"78102345",,,[8]],,,[,,,,,,,,,[-1]]],BF:[,[,,"[025-7]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:49|5[23]|6[56]|9[016-9])|4(?:4[569]|5[4-6]|6[56]|7[0179])|5(?:[34]\\d|50|6[5-7]))\\d{4}",,,,"20491234"],[,,"(?:0[127]|5[1-8]|[67]\\d)\\d{6}",,,,"70123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BG:[,[,,"[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",,,,,,,[6,7,8,9],[4,5]],[,,"2\\d{5,7}|(?:43[1-6]|70[1-9])\\d{4,5}|(?:[36]\\d|4[124-7]|[57][1-9]|8[1-6]|9[1-7])\\d{5,6}",,,,"2123456",,,[6,7,8],[4,5]],[,,"43[07-9]\\d{5}|(?:48|8[7-9]\\d|9(?:8\\d|9[69]))\\d{6}",,,,"48123456",,,[8,9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,"700\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BG",359,"00","0",,,"0",,,,[[,"(\\d{6})","$1",["1"]],[,"(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],[[,"(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BH:[,[,,"[136-9]\\d{7}",,,,,,,[8]],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9]|88)|9[69][69])|7(?:1(?:11|78)|7\\d\\d))\\d{4}",,,,"17001234"],[,,"(?:3(?:[1-79]\\d|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:3[03-9]|[69]\\d|7[0-6])))\\d{4}",,,,"36001234"],[,,"80\\d{6}",,,,"80123456"],[,,"(?:87|9[014578])\\d{6}",,,,"90123456"],[,,"84\\d{6}",,,,"84123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BI:[,[,,"(?:[267]\\d|31)\\d{6}",,,,,,,[8]],[,,"22\\d{6}",,,,"22201234"],[,,"(?:29|31|6[1289]|7[125-9])\\d{6}",,,,"79561234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BJ:[,[,,"[25689]\\d{7}",,,,,,,[8]],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}",,,,"20211234"],[,,"(?:5[1-35-8]|6\\d|9[013-9])\\d{6}",,,,"90011234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"857[58]\\d{4}",,,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[25689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"81\\d{6}",,,,"81123456"],,,[,,,,,,,,,[-1]]],BL:[,[,,"(?:590|69\\d|976)\\d{6}",,,,,,,[9]],[,,"590(?:2[7-9]|5[12]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"976[01]\\d{5}",,,,"976012345"],"BL",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BM:[,[,,"(?:441|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"441(?:[46]\\d\\d|5(?:4\\d|60|89))\\d{4}",,,,"4414123456",,,,[7]],[,,"441(?:[2378]\\d|5[0-39])\\d{5}",,,,"4413701234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BM",1,"011","1",,,"1|([2-8]\\d{6})$","441$1",,,,,[,,,,,,,,,[-1]],,"441",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BN:[,[,,"[2-578]\\d{6}",,,,,,,[7]],[,,"22[0-7]\\d{4}|(?:2[013-9]|[34]\\d|5[0-25-9])\\d{5}",,,,"2345678"],[,,"(?:22[89]|[78]\\d\\d)\\d{4}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[34]\\d{5}",,,,"5345678"],"BN",673,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BO:[,[,,"(?:[2-467]\\d\\d|8001)\\d{5}",,,,,,,[8,9],[7]],[,,"(?:2(?:2\\d\\d|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d\\d|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:[27]\\d|3[2-4]|4[248]|5[24]|6[2-6]))|4(?:4\\d\\d|6(?:11|[24689]\\d|72)))\\d{4}",,,,"22123456",,,[8],[7]],[,,"[67]\\d{7}",,,,"71234567",,,[8]],[,,"8001[07]\\d{4}",,,,"800171234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BO",591,"00(?:1\\d)?","0",,,"0(1\\d)?",,,,[[,"(\\d)(\\d{7})","$1 $2",["[23]|4[46]"],,"0$CC $1"],[,"(\\d{8})","$1",["[67]"],,"0$CC $1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"],,"0$CC $1"]],,[,,,,,,,,,[-1]],,,[,,"8001[07]\\d{4}",,,,,,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BQ:[,[,,"(?:[34]1|7\\d)\\d{5}",,,,,,,[7]],[,,"(?:318[023]|41(?:6[023]|70)|7(?:1[578]|2[05]|50)\\d)\\d{3}",,,,"7151234"],[,,"(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}",,,,"3181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BQ",599,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"[347]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BR:[,[,,"(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",,,,,,,[8,9,10,11]],[,,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",,,,"1123456789",,,[10],[8]],[,,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])(?:7|9\\d)\\d{7}",,,,"11961234567",,,[10,11],[8,9]],[,,"800\\d{6,7}",,,,"800123456",,,[9,10]],[,,"300\\d{6}|[59]00\\d{6,7}",,,,"300123456",,,[9,10]],[,,"300\\d{7}|[34]00\\d{5}|4(?:02|37)0\\d{4}",,,,"40041234",,,[8,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BR",55,"00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","0",,,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",,,[[,"(\\d{3,6})","$1",["1(?:1[25-8]|2[357-9]|3[02-68]|4[12568]|5|6[0-8]|8[015]|9[0-47-9])|321|610"]],[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],[,"(\\d{4})(\\d{4})","$1-$2",["[2-57]","[2357]|4(?:[0-24-9]|3(?:[0-689]|7[1-9]))"]],[,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],[,"(\\d{5})(\\d{4})","$1-$2",["9"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)","0 $CC ($1)"]],[[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],[,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)","0 $CC ($1)"]],[,,,,,,,,,[-1]],,,[,,"4020\\d{4}|[34]00\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BS:[,[,,"(?:242|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[347]|8[0-4]|9[2-467])|461|502|6(?:0[1-4]|12|2[013]|[45]0|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}",,,,"2423456789",,,,[7]],[,,"242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}",,,,"2423591234",,,,[7]],[,,"242300\\d{4}|8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456",,,,[7]],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BS",1,"011","1",,,"1|([3-8]\\d{6})$","242$1",,,,,[,,,,,,,,,[-1]],,"242",[,,,,,,,,,[-1]],[,,"242225\\d{4}",,,,"2422250123"],,,[,,,,,,,,,[-1]]],BT:[,[,,"[17]\\d{7}|[2-8]\\d{6}",,,,,,,[7,8],[6]],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}",,,,"2345678",,,[7],[6]],[,,"(?:1[67]|77)\\d{6}",,,,"17123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BT",975,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[2-7]"]],[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BW:[,[,,"(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",,,,,,,[7,8,10]],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69]\\d|7[013])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[03489]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}",,,,"2401234",,,[7]],[,,"77200\\d{3}|(?:321|7(?:[1-6]\\d|7[013-9]|8[01]))\\d{5}",,,,"71123456",,,[8]],[,,"(?:0800|800\\d)\\d{6}",,,,"0800012345",,,[10]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"79(?:1(?:[01]\\d|20)|2[0-2]\\d)\\d{3}",,,,"79101234",,,[8]],"BW",267,"00",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["90"]],[,"(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BY:[,[,,"(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",,,,,,,[6,7,8,9,10,11],[5]],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d\\d)|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}",,,,"152450911",,,[9],[5,6,7]],[,,"(?:2(?:5[5-79]|9[1-9])|(?:33|44)\\d)\\d{6}",,,,"294911911",,,[9]],[,,"800\\d{3,7}|8(?:0[13]|20\\d)\\d{7}",,,,"8011234567"],[,,"(?:810|902)\\d{7}",,,,"9021234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"249\\d{6}",,,,"249123456",,,[9]],"BY",375,"810","8",,,"0|80?",,"8~10",,[[,"(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],[,"(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,"800\\d{3,7}|(?:8(?:0[13]|10|20\\d)|902)\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BZ:[,[,,"(?:0800\\d|[2-8])\\d{6}",,,,,,,[7,11]],[,,"(?:236|732)\\d{4}|[2-578][02]\\d{5}",,,,"2221234",,,[7]],[,,"6[0-35-7]\\d{5}",,,,"6221234",,,[7]],[,,"0800\\d{7}",,,,"08001234123",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],[,"(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CA:[,[,,"(?:[2-8]\\d|90)\\d{8}",,,,,,,[10],[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50|74)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"5062345678",,,,[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50|74)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"5062345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}",,,,"5002345678"],[,,"600[2-9]\\d{6}",,,,"6002012345"],"CA",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CC:[,[,,"1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",,,,"891621234",,,[9],[8]],[,,"4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",,,,"147101234",,,[9]],"CC",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0|([59]\\d{7})$","8$1","0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CD:[,[,,"[189]\\d{8}|[1-68]\\d{6}",,,,,,,[7,9]],[,,"12\\d{7}|[1-6]\\d{6}",,,,"1234567"],[,,"88\\d{5}|(?:8[0-2459]|9[017-9])\\d{7}",,,,"991234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CF:[,[,,"(?:[27]\\d{3}|8776)\\d{4}",,,,,,,[8]],[,,"2[12]\\d{6}",,,,"21612345"],[,,"7[0257]\\d{6}",,,,"70012345"],[,,,,,,,,,[-1]],[,,"8776\\d{4}",,,,"87761234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CG:[,[,,"222\\d{6}|(?:0\\d|80)\\d{7}",,,,,,,[9]],[,,"222[1-589]\\d{5}",,,,"222123456"],[,,"026(?:1[0-5]|6[6-9])\\d{4}|0(?:[14-6]\\d\\d|2(?:40|5[5-8]|6[07-9]))\\d{5}",,,,"061234567"],[,,,,,,,,,[-1]],[,,"80(?:0\\d\\d|11[0-4])\\d{4}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CG",242,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CH:[,[,,"8\\d{11}|[2-9]\\d{8}",,,,,,,[9,12]],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}",,,,"212345678",,,[9]],[,,"7[35-9]\\d{7}",,,,"781234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[016]\\d{6}",,,,"900123456",,,[9]],[,,"84[0248]\\d{6}",,,,"840123456",,,[9]],[,,"878\\d{6}",,,,"878123456",,,[9]],[,,,,,,,,,[-1]],"CH",41,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],,[,,"74[0248]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,"5[18]\\d{7}",,,,"581234567",,,[9]],,,[,,"860\\d{9}",,,,"860123456789",,,[12]]],CI:[,[,,"[02]\\d{9}|[02-9]\\d{7}",,,,,,,[8,10]],[,,"(?:2(?:0[023]|[15]\\d{3}|7(?:2(?:0[23]|1[2357]|[23][45]|4[3-5])|3(?:06|1[69]|[2-6]7)))|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}|2(?:1[02357]|[23][045]|4[03-5])\\d{5}",,,,"21234567"],[,,"(?:(?:0(?:[15]\\d\\d|7(?:[04-8][7-9]|9[78]))|[457]\\d|6[014-9]|8[4-9]|9[4-8])\\d\\d|2[0-3]80)\\d{4}|0[1-9]\\d{6}",,,,"01234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[03-9]|2(?:[02-4]|1[023578])","[03-9]|2(?:[02-4]|1(?:[02357]|80))"]],[,"(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CK:[,[,,"[2-578]\\d{4}",,,,,,,[5]],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}",,,,"21234"],[,,"[578]\\d{4}",,,,"71234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CL:[,[,,"12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",,,,,,,[9,10,11]],[,,"2(?:1982[0-6]|3314[05-9])\\d{3}|(?:2(?:1(?:160|962)|3(?:2\\d\\d|3(?:[034]\\d|1[0-35-9]|2[1-9]|5[0-2])|600))|80[1-9]\\d\\d|9(?:3(?:[0-57-9]\\d\\d|6(?:0[02-9]|[1-9]\\d))|6(?:[0-8]\\d\\d|9(?:[02-79]\\d|1[05-9]))|7[1-9]\\d\\d|9(?:[03-9]\\d\\d|1(?:[0235-9]\\d|4[0-24-9])|2(?:[0-79]\\d|8[0-46-9]))))\\d{4}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2458])\\d{7}",,,,"221234567",,,[9]],[,,"2(?:1982[0-6]|3314[05-9])\\d{3}|(?:2(?:1(?:160|962)|3(?:2\\d\\d|3(?:[034]\\d|1[0-35-9]|2[1-9]|5[0-2])|600))|80[1-9]\\d\\d|9(?:3(?:[0-57-9]\\d\\d|6(?:0[02-9]|[1-9]\\d))|6(?:[0-8]\\d\\d|9(?:[02-79]\\d|1[05-9]))|7[1-9]\\d\\d|9(?:[03-9]\\d\\d|1(?:[0235-9]\\d|4[0-24-9])|2(?:[0-79]\\d|8[0-46-9]))))\\d{4}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2458])\\d{7}",,,,"221234567",,,[9]],[,,"(?:123|8)00\\d{6}",,,,"800123456",,,[9,11]],[,,,,,,,,,[-1]],[,,"600\\d{7,8}",,,,"6001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,"44\\d{7}",,,,"441234567",,,[9]],"CL",56,"(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0",,,,,,,1,[[,"(\\d{4})","$1",["1(?:[03-589]|21)|[29]0|78"]],[,"(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-3]"],"($1)"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],[[,"(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-3]"],"($1)"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],[,,,,,,,,,[-1]],,,[,,"600\\d{7,8}",,,,,,,[10,11]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CM:[,[,,"[26]\\d{8}|88\\d{6,7}",,,,,,,[8,9]],[,,"2(?:22|33)\\d{6}",,,,"222123456",,,[9]],[,,"(?:24[23]|6[5-9]\\d)\\d{6}",,,,"671234567",,,[9]],[,,"88\\d{6,7}",,,,"88012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CM",237,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CN:[,[,,"1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"(?:10(?:[02-79]\\d\\d|[18](?:0[1-9]|[1-9]\\d))|21(?:[18](?:0[1-9]|[1-9]\\d)|[2-79]\\d\\d))\\d{5}|(?:43[35]|754)\\d{7,8}|8(?:078\\d{7}|51\\d{7,8})|(?:10|(?:2|85)1|43[35]|754)(?:100\\d\\d|95\\d{3,4})|(?:2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[57]|6[09])|8(?:71|98))(?:[02-8]\\d{7}|1(?:0(?:0\\d\\d(?:\\d{3})?|[1-9]\\d{5})|[1-9]\\d{6})|9(?:[0-46-9]\\d{6}|5\\d{3}(?:\\d(?:\\d{2})?)?))|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[46-9]|5[2-9]|6[47-9]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:1[236-8]|2[5-7]|3\\d|5[2-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[02-8]\\d{6}|1(?:0(?:0\\d\\d(?:\\d{2})?|[1-9]\\d{4})|[1-9]\\d{5})|9(?:[0-46-9]\\d{5}|5\\d{3,5}))",,,,"1012345678",,,[7,8,9,10,11],[5,6]],[,,"1740[0-5]\\d{6}|1(?:[38]\\d|4[57]|5[0-35-9]|6[25-7]|7[0-35-8]|9[0135-9])\\d{8}",,,,"13123456789",,,[11]],[,,"(?:(?:10|21)8|8)00\\d{7}",,,,"8001234567",,,[10,12]],[,,"16[08]\\d{5}",,,,"16812345",,,[8]],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}",,,,"4001234567",,,[7,8,9,10,11],[5,6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CN",86,"00|1(?:[12]\\d|79)\\d\\d00","0",,,"0|(1(?:[12]\\d|79)\\d\\d)",,"00",,[[,"(\\d{5,6})","$1",["96"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{4})","$1 $2",["[1-9]","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[02-8]|1(?:0[1-9]|[1-9])|9[0-47-9])"]],[,"(\\d{4})(\\d{4})","$1 $2",["16[08]"]],[,"(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{4})(\\d{4})","$1 $2",["[1-9]","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])","26|3(?:[0268]|9[079])|4(?:[049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(?:0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6(?:[0-24578]|6[14-79]|9[03-9])|7(?:0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8(?:[046]|1[01459]|2[0-489]|50|8[0-2459]|9[09])|9(?:0[0457]|1[08]|[268]|4[024-9])|(?:34|85[23])[0-8]|(?:1|58)[1-9]|(?:63|95)[06-9]|(?:33|85[23]9)[0-46-9]|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[0-8]|9[0-47-9])","26|3(?:[0268]|3[0-46-9]|4[0-8]|9[079])|4(?:[049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(?:0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6(?:[0-24578]|3[06-9]|6[14-79]|9[03-9])|7(?:0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8(?:[046]|1[01459]|2[0-489]|5(?:0|[23](?:[02-8]|1[1-9]|9[0-46-9]))|8[0-2459]|9[09])|9(?:0[0457]|1[08]|[268]|4[024-9]|5[06-9])|(?:1|58|85[23]10)[1-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[02-8]|1(?:0[1-9]|[1-9])|9[0-47-9])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{7,8})","$1 $2",["9"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",,1]],[[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{7,8})","$1 $2",["9"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"(?:(?:10|21)8|[48])00\\d{7}|950\\d{7,8}",,,,,,,[10,11,12]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CO:[,[,,"(?:1\\d|3)\\d{9}|[124-8]\\d{7}",,,,,,,[8,10,11],[7]],[,,"[124-8][2-9]\\d{6}",,,,"12345678",,,[8],[7]],[,,"3333(?:0(?:0\\d|1[0-5])|[4-9]\\d\\d)\\d{3}|3(?:24[2-6]|3(?:00|3[0-24-9]))\\d{6}|3(?:0[0-5]|1\\d|2[0-3]|5[01]|70)\\d{7}",,,,"3211234567",,,[10]],[,,"1800\\d{7}",,,,"18001234567",,,[11]],[,,"19(?:0[01]|4[78])\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:[14]4|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["[14][2-9]|[25-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1"]],[[,"(\\d)(\\d{7})","$1 $2",["[14][2-9]|[25-8]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(\\d)(\\d{3})(\\d{7})","$1 $2 $3",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CR:[,[,,"(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",,,,,,,[8,10]],[,,"210[7-9]\\d{4}|2(?:[024-7]\\d|1[1-9])\\d{5}",,,,"22123456",,,[8]],[,,"(?:3005\\d|6500[01])\\d{3}|(?:5[07]|6[0-4]|7[0-3]|8[3-9])\\d{6}",,,,"83123456",,,[8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"90[059]\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:210[0-6]|4\\d{3}|5100)\\d{4}",,,,"40001234",,,[8]],"CR",506,"00",,,,"(19(?:0[0-2468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CU:[,[,,"[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",,,,,,,[6,7,8,10],[4,5]],[,,"(?:3[23]|48)\\d{4,6}|(?:31|4[36]|8(?:0[25]|78)\\d)\\d{6}|(?:2[1-4]|4[1257]|7\\d)\\d{5,6}",,,,"71234567",,,,[4,5]],[,,"5\\d{7}",,,,"51234567",,,[8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,"807\\d{7}",,,,"8071234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CU",53,"119","0",,,"0",,,,[[,"(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1"],[,"(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CV:[,[,,"(?:[2-59]\\d\\d|800)\\d{4}",,,,,,,[7]],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}",,,,"2211234"],[,,"(?:[34][36]|5[1-389]|9\\d)\\d{5}",,,,"9911234"],[,,"800\\d{4}",,,,"8001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CW:[,[,,"(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",,,,,,,[7,8]],[,,"9(?:4(?:3[0-5]|4[14]|6\\d)|50\\d|7(?:2[014]|3[02-9]|4[4-9]|6[357]|77|8[7-9])|8(?:3[39]|[46]\\d|7[01]|8[57-9]))\\d{4}",,,,"94351234"],[,,"953[01]\\d{4}|9(?:5[12467]|6[5-9])\\d{5}",,,,"95181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"60[0-2]\\d{4}",,,,"6001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[3467]"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],,[,,"955\\d{5}",,,,"95581234",,,[8]],1,"[69]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CX:[,[,,"1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",,,,"891641234",,,[9],[8]],[,,"4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",,,,"147101234",,,[9]],"CX",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0|([59]\\d{7})$","8$1","0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CY:[,[,,"(?:[279]\\d|[58]0)\\d{6}",,,,,,,[8]],[,,"2[2-6]\\d{6}",,,,"22345678"],[,,"9[4-79]\\d{6}",,,,"96123456"],[,,"800\\d{5}",,,,"80001234"],[,,"90[09]\\d{5}",,,,"90012345"],[,,"80[1-9]\\d{5}",,,,"80112345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:50|77)\\d{6}",,,,"77123456"],,,[,,,,,,,,,[-1]]],CZ:[,[,,"(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",,,,,,,[9,10,11,12]],[,,"(?:2\\d|3[1257-9]|4[16-9]|5[13-9])\\d{7}",,,,"212345678",,,[9]],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}",,,,"601123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:0[05689]|76)\\d{6}",,,,"900123456",,,[9]],[,,"8[134]\\d{7}",,,,"811234567",,,[9]],[,,"70[01]\\d{6}",,,,"700123456",,,[9]],[,,"9[17]0\\d{6}",,,,"910123456",,,[9]],"CZ",420,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"9(?:5\\d|7[2-4])\\d{6}",,,,"972123456",,,[9]],,,[,,"9(?:3\\d{9}|6\\d{7,10})",,,,"93123456789"]],DE:[,[,,"[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:[12]\\d|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[05]\\d|31|[46][1-8])\\d{1,9}",,,,,,,[4,5,6,7,8,9,10,11,12,13,14,15],[2,3]],[,,"32\\d{9,11}|49[3-6]\\d{10}|49[0-7]\\d{3,9}|(?:[34]0|[68]9)\\d{3,13}|(?:2(?:0[1-689]|[1-3569]\\d|4[0-8]|7[1-7]|8[0-7])|3(?:[3569]\\d|4[0-79]|7[1-7]|8[1-8])|4(?:1[02-9]|[2-48]\\d|5[0-6]|6[0-8]|7[0-79])|5(?:0[2-8]|[124-6]\\d|[38][0-8]|[79][0-7])|6(?:0[02-9]|[1-358]\\d|[47][0-8]|6[1-9])|7(?:0[2-8]|1[1-9]|[27][0-7]|3\\d|[4-6][0-8]|8[0-5]|9[013-7])|8(?:0[2-9]|1[0-79]|2\\d|3[0-46-9]|4[0-6]|5[013-9]|6[1-8]|7[0-8]|8[0-24-6])|9(?:0[6-9]|[1-4]\\d|[589][0-7]|6[0-8]|7[0-467]))\\d{3,12}",,,,"30123456",,,[5,6,7,8,9,10,11,12,13,14,15],[2,3,4]],[,,"15[0-25-9]\\d{8}|1(?:6[023]|7\\d)\\d{7,8}",,,,"15123456789",,,[10,11]],[,,"800\\d{7,12}",,,,"8001234567890",,,[10,11,12,13,14,15]],[,,"(?:137[7-9]|900(?:[135]|9\\d))\\d{6}",,,,"9001234567",,,[10,11]],[,,"180\\d{5,11}|13(?:7[1-6]\\d\\d|8)\\d{4}",,,,"18012345",,,[7,8,9,10,11,12,13,14]],[,,"700\\d{8}",,,,"70012345678",,,[11]],[,,,,,,,,,[-1]],"DE",49,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],[,"(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],[,"(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],[,"(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],[,"(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],[,"(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],[,"(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],[,"(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],[,"(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],[,"(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],[,"(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})",,,,"16412345",,,[4,5,6,7,8,9,10,11,12,13,14]],,,[,,,,,,,,,[-1]],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})",,,,"18500123456",,,[8,9,10,11,12,13,14]],,,[,,"1(?:6(?:013|255|399)|7(?:(?:[015]1|[69]3)3|[2-4]55|[78]99))\\d{7,8}|15(?:(?:[03-68]00|113)\\d|2\\d55|7\\d99|9\\d33)\\d{7}",,,,"177991234567",,,[12,13]]],DJ:[,[,,"(?:2\\d|77)\\d{6}",,,,,,,[8]],[,,"2(?:1[2-5]|7[45])\\d{5}",,,,"21360003"],[,,"77\\d{6}",,,,"77831001"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DK:[,[,,"[2-9]\\d{7}",,,,,,,[8]],[,,"(?:[2-7]\\d|8[126-9]|9[1-46-9])\\d{6}",,,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-46-9])\\d{6}",,,,"32123456"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DM:[,[,,"(?:[58]\\d\\d|767|900)\\d{7}",,,,,,,[10],[7]],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4])\\d{4}",,,,"7674201234",,,,[7]],[,,"767(?:2(?:[2-4689]5|7[5-7])|31[5-7]|61[1-8]|70[1-6])\\d{4}",,,,"7672251234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DM",1,"011","1",,,"1|([2-7]\\d{6})$","767$1",,,,,[,,,,,,,,,[-1]],,"767",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DO:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"8(?:[04]9[2-9]\\d\\d|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d\\d|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9])))\\d{4}",,,,"8092345678",,,,[7]],[,,"8[024]9[2-9]\\d{6}",,,,"8092345678",,,,[7]],[,,"8(?:00(?:14|[2-9]\\d)|(?:33|44|55|66|77|88)[2-9]\\d)\\d{5}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DO",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"8001|8[024]9",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DZ:[,[,,"(?:[1-4]|[5-79]\\d|80)\\d{7}",,,,,,,[8,9]],[,,"9619\\d{5}|(?:1\\d|2[013-79]|3[0-8]|4[0135689])\\d{6}",,,,"12345678"],[,,"(?:5(?:4[0-29]|5\\d|6[01])|6(?:[569]\\d|7[0-6])|7[7-9]\\d)\\d{6}",,,,"551234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"80[3-689]1\\d{5}",,,,"808123456",,,[9]],[,,"80[12]1\\d{5}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,"98[23]\\d{6}",,,,"983123456",,,[9]],"DZ",213,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EC:[,[,,"1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",,,,,,,[8,9,10,11],[7]],[,,"[2-7][2-7]\\d{6}",,,,"22123456",,,[8],[7]],[,,"964[0-2]\\d{5}|9(?:39|[57][89]|6[0-36-9]|[89]\\d)\\d{6}",,,,"991234567",,,[9]],[,,"1800\\d{7}|1[78]00\\d{6}",,,,"18001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[2-7]890\\d{4}",,,,"28901234",,,[8]],"EC",593,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-7]"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-7]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EE:[,[,,"8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",,,,,,,[7,8,10]],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}",,,,"3212345",,,[7]],[,,"5(?:[0-35-9]\\d{6}|4(?:[0-57-9]\\d{5}|6(?:[0-24-9]\\d{4}|3(?:[0-35-9]\\d{3}|4000))))|8(?:1(?:0(?:000|[3-9]\\d\\d)|(?:1(?:0[236]|1\\d)|(?:23|[3-79]\\d)\\d)\\d)|2(?:0(?:000|(?:19|[24-7]\\d)\\d)|(?:(?:[124-6]\\d|3[5-9]|8[2-4])\\d|7(?:[679]\\d|8[13-9]))\\d)|[349]\\d{4})\\d\\d|5(?:(?:[02]\\d|5[0-478])\\d|1(?:[0-8]\\d|95)|6(?:4[0-4]|5[1-589]))\\d{3}",,,,"51234567",,,[7,8]],[,,"800(?:(?:0\\d\\d|1)\\d|[2-9])\\d{3}",,,,"80012345"],[,,"(?:40\\d\\d|900)\\d{4}",,,,"9001234",,,[7,8]],[,,,,,,,,,[-1]],[,,"70[0-2]\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"EE",372,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],[,"(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,"800[2-9]\\d{3}",,,,,,,[7]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EG:[,[,,"[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"13[23]\\d{6}|(?:15|57)\\d{6,7}|(?:2[2-4]|3|4[05-8]|5[05]|6[24-689]|8[2468]|9[235-7])\\d{7}",,,,"234567890",,,[8,9],[6,7]],[,,"1[0-25]\\d{8}",,,,"1001234567",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],[,"(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EH:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"528[89]\\d{5}",,,,"528812345"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0\\d|6[1267]|7[0-57]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"592(?:4[0-2]|93)\\d{4}",,,,"592401234"],"EH",212,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"528[89]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ER:[,[,,"[178]\\d{6}",,,,,,,[7],[6]],[,,"(?:1(?:1[12568]|[24]0|55|6[146])|8\\d\\d)\\d{4}",,,,"8370362",,,,[6]],[,,"(?:17[1-3]|7\\d\\d)\\d{4}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ES:[,[,,"[5-9]\\d{8}",,,,,,,[9]],[,,"96906(?:0[0-8]|1[1-9]|[2-9]\\d)\\d\\d|9(?:69(?:0[0-57-9]|[1-9]\\d)|73(?:[0-8]\\d|9[1-9]))\\d{4}|(?:8(?:[1356]\\d|[28][0-8]|[47][1-9])|9(?:[135]\\d|[268][0-8]|4[1-9]|7[124-9]))\\d{6}",,,,"810123456"],[,,"(?:590[16]00\\d|9(?:6906(?:09|10)|7390\\d\\d))\\d\\d|(?:6\\d|7[1-48])\\d{7}",,,,"612345678"],[,,"[89]00\\d{6}",,,,"800123456"],[,,"80[367]\\d{6}",,,,"803123456"],[,,"90[12]\\d{6}",,,,"901123456"],[,,"70\\d{7}",,,,"701234567"],[,,,,,,,,,[-1]],"ES",34,"00",,,,,,,,[[,"(\\d{4})","$1",["905"]],[,"(\\d{6})","$1",["[79]9"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"51\\d{7}",,,,"511234567"],,,[,,,,,,,,,[-1]]],ET:[,[,,"(?:11|[2-59]\\d)\\d{7}",,,,,,,[9],[7]],[,,"11667[01]\\d{3}|(?:11(?:1(?:1[124]|2[2-7]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:1[78]|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|(?:22|55)[0-6]|33[0134689]|44[04]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:119|22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:(?:11|22)[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}",,,,"111112345",,,,[7]],[,,"9\\d{8}",,,,"911234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ET",251,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FI:[,[,,"[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"(?:1[3-79][1-8]|[235689][1-8]\\d)\\d{2,6}",,,,"131234567",,,[5,6,7,8,9]],[,,"(?:4[0-8]|50)\\d{4,8}",,,,"412345678",,,[6,7,8,9,10]],[,,"800\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FI",358,"00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","0",,,"0",,"00",,[[,"(\\d{5})","$1",["75[12]"],"0$1"],[,"(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],[,"(\\d{6})","$1",["11"]],[,"(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],[,"(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],[,"(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],[[,"(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],[,"(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],[,"(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],[,,,,,,,,,[-1]],1,"1[03-79]|[2-9]",[,,"20(?:2[023]|9[89])\\d{1,6}|(?:60[12]\\d|7099)\\d{4,5}|(?:606|7(?:0[78]|1|3\\d))\\d{7}|(?:[1-3]00|7(?:0[1-5]\\d\\d|5[03-9]))\\d{3,7}"],[,,"20\\d{4,8}|60[12]\\d{5,6}|7(?:099\\d{4,5}|5[03-9]\\d{3,7})|20[2-59]\\d\\d|(?:606|7(?:0[78]|1|3\\d))\\d{7}|(?:10|29|3[09]|70[1-5]\\d)\\d{4,8}",,,,"10112345"],,,[,,,,,,,,,[-1]]],FJ:[,[,,"45\\d{5}|(?:0800\\d|[235-9])\\d{6}",,,,,,,[7,11]],[,,"603\\d{4}|(?:3[0-5]|6[25-7]|8[58])\\d{5}",,,,"3212345",,,[7]],[,,"(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",,,,"7012345",,,[7]],[,,"0800\\d{7}",,,,"08001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FK:[,[,,"[2-7]\\d{4}",,,,,,,[5]],[,,"[2-47]\\d{4}",,,,"31234"],[,,"[56]\\d{4}",,,,"51234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FK",500,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FM:[,[,,"(?:[39]\\d\\d|820)\\d{4}",,,,,,,[7]],[,,"31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-6]\\d)\\d)\\d{3}",,,,"3201234"],[,,"31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-7]\\d)\\d)\\d{3}",,,,"3501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[389]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FO:[,[,,"[2-9]\\d{5}",,,,,,,[6]],[,,"(?:20|[34]\\d|8[19])\\d{4}",,,,"201234"],[,,"(?:[27][1-9]|5\\d|91)\\d{4}",,,,"211234"],[,,"80[257-9]\\d{3}",,,,"802123"],[,,"90(?:[13-5][15-7]|2[125-7]|9\\d)\\d\\d",,,,"901123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6[0-36]|88)\\d{4}",,,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",["[2-9]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FR:[,[,,"[1-9]\\d{8}",,,,,,,[9]],[,,"(?:[1-35]\\d|4[1-9])\\d{7}",,,,"123456789"],[,,"(?:6(?:[0-24-8]\\d|3[0-8]|9[589])|7(?:00|[3-9]\\d))\\d{6}",,,,"612345678"],[,,"80[0-5]\\d{6}",,,,"801234567"],[,,"836(?:0[0-36-9]|[1-9]\\d)\\d{4}|8(?:1[2-9]|2[2-47-9]|3[0-57-9]|[569]\\d|8[0-35-9])\\d{6}",,,,"891123456"],[,,"8(?:1[01]|2[0156]|84)\\d{6}",,,,"884012345"],[,,,,,,,,,[-1]],[,,"9\\d{8}",,,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"(\\d{4})","$1",["10"]],[,"(\\d{3})(\\d{3})","$1 $2",["1"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"80[6-9]\\d{6}",,,,"806123456"],,,[,,,,,,,,,[-1]]],GA:[,[,,"(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",,,,,,,[7,8]],[,,"[01]1\\d{6}",,,,"01441234",,,[8]],[,,"(?:0[2-7]|6[256]|7[47])\\d{6}|[2-7]\\d{6}",,,,"06031234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GA",241,"00",,,,"0(11\\d{6}|6[256]\\d{6}|7[47]\\d{6})","$1",,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GB:[,[,,"[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",,,,,,,[7,9,10],[4,5,6,8]],[,,"(?:1(?:1(?:3(?:[0-58]\\d\\d|73[03])|4(?:[0-5]\\d\\d|69[7-9])|(?:5[0-26-9]|6[0-4]|[78][0-49])\\d\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[02]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",,,,"1212345678",,,[9,10],[4,5,6,7,8]],[,,"7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",,,,"7400123456",,,[10]],[,,"80[08]\\d{7}|800\\d{6}|8001111",,,,"8001234567"],[,,"(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",,,,"9012345678",,,[7,10]],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GB",44,"00","0"," x",,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],[,"(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],[,"(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],,[,,"76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",,,,"7640123456",,,[10]],1,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GD:[,[,,"(?:473|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}",,,,"4732691234",,,,[7]],[,,"473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}",,,,"4734031234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GD",1,"011","1",,,"1|([2-9]\\d{6})$","473$1",,,,,[,,,,,,,,,[-1]],,"473",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GE:[,[,,"(?:[3-57]\\d\\d|800)\\d{6}",,,,,,,[9],[6,7]],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}",,,,"322123456",,,,[6,7]],[,,"5(?:0(?:0(?:0\\d|50)\\d|555[5-9])|(?:111\\d|8(?:58[89]|888))\\d|(?:2222|3333)[0-4]|52(?:00\\d|22[0-4])|75(?:00\\d|7(?:7[7-9]|8[01])))\\d{3}|(?:5(?:[14]4|5[0157-9]|68|7[0147-9]|9[1-35-9])|790)\\d{6}",,,,"555123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"70[67]\\d{6}",,,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"70[67]\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GF:[,[,,"(?:[56]94|976)\\d{6}",,,,,,,[9]],[,,"594(?:[023]\\d|1[01]|4[03-9]|5[6-9]|6[0-3]|80|9[014])\\d{4}",,,,"594101234"],[,,"694(?:[0-249]\\d|3[0-48])\\d{4}",,,,"694201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"976\\d{6}",,,,"976012345"],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GG:[,[,,"(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",,,,,,,[7,9,10],[6]],[,,"1481[25-9]\\d{5}",,,,"1481256789",,,[10],[6]],[,,"7(?:(?:781|839)\\d|911[17])\\d{5}",,,,"7781123456",,,[10]],[,,"80[08]\\d{7}|800\\d{6}|8001111",,,,"8001234567"],[,,"(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",,,,"9012345678",,,[7,10]],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GG",44,"00","0",,,"0|([25-9]\\d{5})$","1481$1",,,,,[,,"76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",,,,"7640123456",,,[10]],,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GH:[,[,,"(?:[235]\\d{3}|800)\\d{5}",,,,,,,[8,9],[7]],[,,"3082[0-5]\\d{4}|3(?:0(?:[237]\\d|8[01])|[167](?:2[0-6]|7\\d|80)|2(?:2[0-5]|7\\d|80)|3(?:2[0-3]|7\\d|80)|4(?:2[013-9]|3[01]|7\\d|80)|5(?:2[0-7]|7\\d|80)|8(?:2[0-2]|7\\d|80)|9(?:[28]0|7\\d))\\d{5}",,,,"302345678",,,[9],[7]],[,,"(?:2[0346-8]\\d|5(?:[0457]\\d|6[01]|9[1-6]))\\d{6}",,,,"231234567",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GH",233,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[237]|8[0-2]"]],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],[[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,"800\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GI:[,[,,"(?:[25]\\d\\d|606)\\d{5}",,,,,,,[8]],[,,"21(?:6[24-7]\\d|90[0-2])\\d{3}|2(?:00|2[25])\\d{5}",,,,"20012345"],[,,"(?:5[146-8]\\d|606)\\d{5}",,,,"57123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GL:[,[,,"(?:19|[2-689]\\d)\\d{4}",,,,,,,[6]],[,,"(?:19|3[1-7]|6[14689]|8[14-79]|9\\d)\\d{4}",,,,"321000"],[,,"[245]\\d{5}",,,,"221234"],[,,"80\\d{4}",,,,"801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[89]\\d{4}",,,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GM:[,[,,"[2-9]\\d{6}",,,,,,,[7]],[,,"(?:4(?:[23]\\d\\d|4(?:1[024679]|[6-9]\\d))|5(?:5(?:3\\d|4[0-7])|6[67]\\d|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}",,,,"5661234"],[,,"(?:[23679]\\d|5[0-389])\\d{5}",,,,"3012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GN:[,[,,"722\\d{6}|(?:3|6\\d)\\d{7}",,,,,,,[8,9]],[,,"3(?:0(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])|1\\d\\d)\\d{4}",,,,"30241234",,,[8]],[,,"6[0-356]\\d{7}",,,,"601123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"722\\d{6}",,,,"722123456",,,[9]],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GP:[,[,,"(?:590|69\\d|976)\\d{6}",,,,,,,[9]],[,,"590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}",,,,"590201234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"976[01]\\d{5}",,,,"976012345"],"GP",590,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GQ:[,[,,"222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",,,,,,,[9]],[,,"33[0-24-9]\\d[46]\\d{4}|3(?:33|5\\d)\\d[7-9]\\d{4}",,,,"333091234"],[,,"(?:222|55\\d)\\d{6}",,,,"222123456"],[,,"80\\d[1-9]\\d{5}",,,,"800123456"],[,,"90\\d[1-9]\\d{5}",,,,"900123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GR:[,[,,"5005000\\d{3}|8\\d{9,10}|(?:[269]\\d|70)\\d{8}",,,,,,,[10,11]],[,,"2(?:1\\d\\d|2(?:2[1-46-9]|[36][1-8]|4[1-7]|5[1-4]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|[269][1-6]|3[1245]|4[1-7]|5[13-9]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}",,,,"2123456789",,,[10]],[,,"68[57-9]\\d{7}|(?:69|94)\\d{8}",,,,"6912345678",,,[10]],[,,"800\\d{7,8}",,,,"8001234567"],[,,"90[19]\\d{7}",,,,"9091234567",,,[10]],[,,"8(?:0[16]|12|[27]5|50)\\d{7}",,,,"8011234567",,,[10]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,,,,,,,,[-1]],"GR",30,"00",,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],[,"(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"5005000\\d{3}",,,,"5005000123",,,[10]],,,[,,,,,,,,,[-1]]],GT:[,[,,"(?:1\\d{3}|[2-7])\\d{7}",,,,,,,[8,11]],[,,"[267][2-9]\\d{6}",,,,"22456789",,,[8]],[,,"[3-5]\\d{7}",,,,"51234567",,,[8]],[,,"18[01]\\d{8}",,,,"18001112222",,,[11]],[,,"19\\d{9}",,,,"19001112222",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GU:[,[,,"(?:[58]\\d\\d|671|900)\\d{7}",,,,,,,[10],[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GU",1,"011","1",,,"1|([3-9]\\d{6})$","671$1",,1,,,[,,,,,,,,,[-1]],,"671",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GW:[,[,,"[49]\\d{8}|4\\d{6}",,,,,,,[7,9]],[,,"443\\d{6}",,,,"443201234",,,[9]],[,,"9(?:5\\d|6[569]|77)\\d{6}",,,,"955012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"40\\d{5}",,,,"4012345",,,[7]],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["40"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GY:[,[,,"(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",,,,,,,[7]],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}",,,,"2201234"],[,,"6\\d{6}",,,,"6091234"],[,,"(?:289|862)\\d{4}",,,,"2891234"],[,,"9008\\d{3}",,,,"9008123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HK:[,[,,"8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",,,,,,,[5,6,7,8,9,11]],[,,"(?:2(?:[13-9]\\d|2[013-9])\\d|3(?:(?:[1569][0-24-9]|4[0-246-9]|7[0-24-69])\\d|8(?:4[0-6]|5[0-5]|9\\d))|58(?:0[1-8]|1[2-9]))\\d{4}",,,,"21234567",,,[8]],[,,"(?:46(?:0[0-7]|1[0-6]|4[0-57-9]|5[0-8]|6[0-4])|5730|6(?:26[013-7]|66[0-3])|70(?:7[1-5]|8[0-4])|848[015-9]|929[03-9])\\d{4}|(?:46[23]|5(?:[1-59][0-46-9]|6[0-4689]|7[0-2469])|6(?:0[1-9]|[13-59]\\d|[268][0-57-9]|7[0-79])|849|9(?:0[1-9]|1[02-9]|[2358][0-8]|[467]\\d))\\d{5}",,,,"51234567",,,[8]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})",,,,"90012345678",,,[5,6,7,8,11]],[,,,,,,,,,[-1]],[,,"8(?:1[0-4679]\\d|2(?:[0-36]\\d|7[0-4])|3(?:[034]\\d|2[09]|70))\\d{4}",,,,"81123456",,,[8]],[,,,,,,,,,[-1]],"HK",852,"00(?:30|5[09]|[126-9]?)",,,,,,"00",,[[,"(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],,[,,"7(?:1(?:0[0-38]|1[0-3679]|3[013]|69|9[0136])|2(?:[02389]\\d|1[18]|7[27-9])|3(?:[0-38]\\d|7[0-369]|9[2357-9])|47\\d|5(?:[178]\\d|5[0-5])|6(?:0[0-7]|2[236-9]|[35]\\d)|7(?:[27]\\d|8[7-9])|8(?:[23689]\\d|7[1-9])|9(?:[025]\\d|6[0-246-8]|7[0-36-9]|8[238]))\\d{4}",,,,"71123456",,,[8]],,,[,,,,,,,,,[-1]],[,,"30(?:0[1-9]|[15-7]\\d|2[047]|89)\\d{4}",,,,"30161234",,,[8]],,,[,,,,,,,,,[-1]]],HN:[,[,,"8\\d{10}|[237-9]\\d{7}",,,,,,,[8,11]],[,,"2(?:2(?:0[0-39]|1[1-36]|[23]\\d|4[04-6]|5[57]|6[245]|7[0135689]|8[01346-9]|9[0-2])|4(?:0[78]|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:0[7-9]|16|4[03-5]|5\\d|6[014-6]|74|80)|6(?:[056]\\d|17|2[07]|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034]|91)|8(?:79|8[0-357-9]|9[1-57-9]))\\d{4}",,,,"22123456",,,[8]],[,,"[37-9]\\d{7}",,,,"91234567",,,[8]],[,,"8002\\d{7}",,,,"80021234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2",["[237-9]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["8"]]],[[,"(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]],[,,,,,,,,,[-1]],,,[,,"8002\\d{7}",,,,,,,[11]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HR:[,[,,"(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",,,,,,,[6,7,8,9]],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"9(?:751\\d{5}|8\\d{6,7})|9(?:0[1-9]|[1259]\\d|7[0679])\\d{6}",,,,"921234567",,,[8,9]],[,,"80[01]\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"6[01459]\\d{6}|6[01]\\d{4,5}",,,,"611234",,,[6,7,8]],[,,,,,,,,,[-1]],[,,"7[45]\\d{6}",,,,"74123456",,,[8]],[,,,,,,,,,[-1]],"HR",385,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"62\\d{6,7}|72\\d{6}",,,,"62123456",,,[8,9]],,,[,,,,,,,,,[-1]]],HT:[,[,,"[2-489]\\d{7}",,,,,,,[8]],[,,"2(?:2\\d|5[1-5]|81|9[149])\\d{5}",,,,"22453300"],[,,"[34]\\d{7}",,,,"34101234"],[,,"8\\d{7}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"9(?:[67][0-4]|8[0-3589]|9\\d)\\d{5}",,,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HU:[,[,,"[235-7]\\d{8}|[1-9]\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:1\\d|[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|8[2-57-9]|9[2-69])\\d{6}",,,,"12345678",,,[8],[6,7]],[,,"(?:[257]0|3[01])\\d{7}",,,,"201234567",,,[9]],[,,"(?:[48]0\\d|6802)\\d{5}",,,,"80123456"],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"21\\d{7}",,,,"211234567",,,[9]],"HU",36,"00","06",,,"06",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],,[,,,,,,,,,[-1]],,,[,,"(?:[48]0\\d|6802)\\d{5}"],[,,"38\\d{7}",,,,"381234567",,,[9]],,,[,,,,,,,,,[-1]]],ID:[,[,,"(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",,,,,,,[7,8,9,10,11,12,13],[5,6]],[,,"2[124]\\d{7,8}|619\\d{8}|2(?:1(?:14|500)|2\\d{3})\\d{3}|61\\d{5,8}|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}",,,,"218350123",,,[7,8,9,10,11],[5,6]],[,,"8[1-35-9]\\d{7,10}",,,,"812345678",,,[9,10,11,12]],[,,"00[17]803\\d{7}|(?:177\\d|800)\\d{5,7}|001803\\d{6}",,,,"8001234567",,,[8,9,10,11,12,13]],[,,"809\\d{7}",,,,"8091234567",,,[10]],[,,"804\\d{7}",,,,"8041234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ID",62,"00[89]","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],[,"(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],[,"(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],[,"(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],[,"(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],[,"(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["001"]],[,"(\\d{2})(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]]],[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],[,"(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],[,"(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],[,"(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],[,"(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],[,"(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],[,,,,,,,,,[-1]],,,[,,"001803\\d{6,7}|(?:007803\\d|8071)\\d{6}",,,,,,,[10,12,13]],[,,"(?:1500|8071\\d{3})\\d{3}",,,,"8071123456",,,[7,10]],,,[,,,,,,,,,[-1]]],IE:[,[,,"(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",,,,,,,[7,8,9,10],[5,6]],[,,"(?:1\\d|21)\\d{6,7}|(?:2[24-9]|4(?:0[24]|5\\d|7)|5(?:0[45]|1\\d|8)|6(?:1\\d|[237-9])|9(?:1\\d|[35-9]))\\d{5}|(?:23|4(?:[1-469]|8\\d)|5[23679]|6[4-6]|7[14]|9[04])\\d{7}",,,,"2212345",,,,[5,6]],[,,"8(?:22|[35-9]\\d)\\d{6}",,,,"850123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}",,,,"1520123456",,,[10]],[,,"18[59]0\\d{6}",,,,"1850123456",,,[10]],[,,"700\\d{6}",,,,"700123456",,,[9]],[,,"76\\d{7}",,,,"761234567",,,[9]],"IE",353,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],[,"(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],[,"(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"18[59]0\\d{6}",,,,,,,[10]],[,,"818\\d{6}",,,,"818123456",,,[9]],,,[,,"88210[1-9]\\d{4}|8(?:[35-79]5\\d\\d|8(?:[013-9]\\d\\d|2(?:[01][1-9]|[2-9]\\d)))\\d{5}",,,,"8551234567",,,[10]]],IL:[,[,,"1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",,,,,,,[7,8,9,10,11,12]],[,,"153\\d{8,9}|29[1-9]\\d{5}|(?:2[0-8]|[3489]\\d)\\d{6}",,,,"21234567",,,[8,11,12],[7]],[,,"5(?:(?:[02368]\\d|[19][2-9]|4[1-9])\\d|5(?:01|1[79]|2[2-9]|3[0-3]|4[34]|5[015689]|6[6-8]|7[0-267]|8[7-9]|9[1-9]))\\d{5}",,,,"502345678",,,[9]],[,,"1(?:255|80[019]\\d{3})\\d{3}",,,,"1800123456",,,[7,10]],[,,"1212\\d{4}|1(?:200|9(?:0[01]|19))\\d{6}",,,,"1919123456",,,[8,10]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,"7(?:380|8(?:33|55|77|81))\\d{5}|7(?:18|2[23]|3[237]|47|6[58]|7\\d|82|9[235-9])\\d{6}",,,,"771234567",,,[9]],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"(\\d{4})(\\d{3})","$1-$2",["125"]],[,"(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],[,"(\\d{4})(\\d{6})","$1-$2",["159"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],[,"(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],,[,,,,,,,,,[-1]],,,[,,"1700\\d{6}",,,,,,,[10]],[,,"1599\\d{6}",,,,"1599123456",,,[10]],,,[,,"151\\d{8,9}",,,,"15112340000",,,[11,12]]],IM:[,[,,"1624\\d{6}|(?:[3578]\\d|90)\\d{8}",,,,,,,[10],[6]],[,,"1624(?:230|[5-8]\\d\\d)\\d{3}",,,,"1624756789",,,,[6]],[,,"76245[06]\\d{4}|7(?:4576|[59]24\\d|624[0-4689])\\d{5}",,,,"7924123456"],[,,"808162\\d{4}",,,,"8081624567"],[,,"8(?:440[49]06|72299\\d)\\d{3}|(?:8(?:45|70)|90[0167])624\\d{4}",,,,"9016247890"],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678"],[,,"56\\d{8}",,,,"5612345678"],"IM",44,"00","0",,,"0|([25-8]\\d{5})$","1624$1",,,,,[,,,,,,,,,[-1]],,"74576|(?:16|7[56])24",[,,,,,,,,,[-1]],[,,"3440[49]06\\d{3}|(?:3(?:08162|3\\d{4}|45624|7(?:0624|2299))|55\\d{4})\\d{4}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],IN:[,[,,"(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",,,,,,,[8,9,10,11,12,13],[6,7]],[,,"2717(?:[2-7]\\d|95)\\d{4}|(?:271[0-689]|782[0-6])[2-7]\\d{5}|(?:170[24]|2(?:(?:[02][2-79]|90)\\d|80[13468])|(?:3(?:23|80)|683|79[1-7])\\d|4(?:20[24]|72[2-8])|552[1-7])\\d{6}|(?:11|33|4[04]|80)[2-7]\\d{7}|(?:342|674|788)(?:[0189][2-7]|[2-7]\\d)\\d{5}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[13]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[014-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[3-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1245]|4[5-8]|5[125689]|6[235-7]|7[157-9]|8[2-46-8])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])|7(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|8[013-7]|9[089])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d[2-7]\\d{5}",,,,"7410410123",,,[10],[6,7,8]],[,,"(?:61279|7(?:887[02-9]|9(?:313|79[07-9]))|8(?:079[04-9]|(?:84|91)7[02-8]))\\d{5}|(?:6(?:12|[2-47]1|5[17]|6[13]|80)[0189]|7(?:1(?:2[0189]|9[0-5])|2(?:[14][017-9]|8[0-59])|3(?:2[5-8]|[34][017-9]|9[016-9])|4(?:1[015-9]|[29][89]|39|8[389])|5(?:[15][017-9]|2[04-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589])|70[0289]|88[089]|97[02-8])|8(?:0(?:6[67]|7[02-8])|70[017-9]|84[01489]|91[0-289]))\\d{6}|(?:7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[0189]\\d|7[02-8])\\d{5}|(?:6(?:[09]\\d|1[04679]|2[03689]|3[05-9]|4[0489]|50|6[069]|7[07]|8[7-9])|7(?:0\\d|2[0235-79]|3[05-8]|40|5[0346-8]|6[6-9]|7[1-9]|8[0-79]|9[089])|8(?:0[01589]|1[0-57-9]|2[235-9]|3[03-57-9]|[45]\\d|6[02457-9]|7[1-69]|8[0-25-9]|9[02-9])|9\\d\\d)\\d{7}|(?:6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|8[124-6])\\d|7(?:[235689]\\d|4[0189]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-5])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]|881))[0189]\\d{5}",,,,"8123456789",,,[10]],[,,"000800\\d{7}|1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))",,,,"1800123456"],[,,"186[12]\\d{9}",,,,"1861123456789",,,[13]],[,,"1860\\d{7}",,,,"18603451234",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IN",91,"00","0",,,"0",,,,[[,"(\\d{7})","$1",["575"]],[,"(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],,,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],,,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],,,1],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],,,1]],[[,"(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],,,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],,,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],,,1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],,,1]],[,,,,,,,,,[-1]],,,[,,"1(?:600\\d{6}|800\\d{4,9})|(?:000800|18(?:03\\d\\d|6(?:0|[12]\\d\\d)))\\d{7}"],[,,"140\\d{7}",,,,"1409305260",,,[10]],,,[,,,,,,,,,[-1]]],IO:[,[,,"3\\d{6}",,,,,,,[7]],[,,"37\\d{5}",,,,"3709100"],[,,"38\\d{5}",,,,"3801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IQ:[,[,,"(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",,,,,,,[8,9,10],[6,7]],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"7[3-9]\\d{8}",,,,"7912345678",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IQ",964,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IR:[,[,,"[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",,,,,,,[4,5,6,7,10],[8]],[,,"(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:[03-57]\\d{7}|[16]\\d{3}(?:\\d{4})?|[289]\\d{3}(?:\\d(?:\\d{3})?)?)|94(?:000[09]|2(?:121|[2689]0\\d)|30[0-2]\\d|4(?:111|40\\d))\\d{4}",,,,"2123456789",,,[6,7,10],[4,5,8]],[,,"99(?:5[15]0|888|9(?:0[013]|21|77|88))\\d{5}|9(?:0(?:[1-35]\\d|4[4-6])|(?:[13]\\d|2[0-3])\\d|9(?:[0-2]\\d|3[01]|4[0145]|81|9[19]))\\d{6}",,,,"9123456789",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"993[2-9]\\d{6}",,,,"9932123456",,,[10]],"IR",98,"00","0",,,"0",,,,[[,"(\\d{4,5})","$1",["96"],"0$1"],[,"(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"9(?:4440\\d{5}|6(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19]))",,,,,,,[4,5,10]],[,,"96(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19])",,,,"9601",,,[4,5]],,,[,,,,,,,,,[-1]]],IS:[,[,,"(?:38\\d|[4-9])\\d{6}",,,,,,,[7,9]],[,,"(?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[0-579]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|872)\\d{4}",,,,"4101234",,,[7]],[,,"(?:38[589]\\d\\d|6(?:1[1-8]|2[0-6]|3[027-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-9]\\d)|8(?:2[0-59]|[3-69]\\d|8[28]))\\d{4}",,,,"6111234"],[,,"80[08]\\d{4}",,,,"8001234",,,[7]],[,,"90(?:0\\d|1[5-79]|2[015-79]|3[135-79]|4[125-7]|5[25-79]|7[1-37]|8[0-35-7])\\d{3}",,,,"9001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"49[0-24-79]\\d{4}",,,,"4921234",,,[7]],"IS",354,"00|1(?:0(?:01|[12]0)|100)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"809\\d{4}",,,,"8091234",,,[7]],,,[,,"(?:689|8(?:7[18]|80)|95[48])\\d{4}",,,,"6891234",,,[7]]],IT:[,[,,"0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",,,,,,,[6,7,8,9,10,11,12]],[,,"0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",,,,"0212345678",,,[6,7,8,9,10,11]],[,,"3[1-9]\\d{8}|3[2-9]\\d{7}",,,,"3123456789",,,[9,10]],[,,"80(?:0\\d{3}|3)\\d{3}",,,,"800123456",,,[6,9]],[,,"(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{3}|[17])\\d{3}",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"IT",39,"00",,,,,,,,[[,"(\\d{4,5})","$1",["1(?:0|9[246])","1(?:0|9(?:2[2-9]|[46]))"]],[,"(\\d{6})","$1",["1(?:1|92)"]],[,"(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],[,"(\\d{4})(\\d{4})","$1 $2",["894"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],[,"(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],[[,"(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],[,"(\\d{4})(\\d{4})","$1 $2",["894"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],[,"(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],[,,,,,,,,,[-1]],1,,[,,"848\\d{6}",,,,,,,[9]],[,,,,,,,,,[-1]],,,[,,"3[2-8]\\d{9,10}",,,,"33101234501",,,[11,12]]],JE:[,[,,"1534\\d{6}|(?:[3578]\\d|90)\\d{8}",,,,,,,[10],[6]],[,,"1534[0-24-8]\\d{5}",,,,"1534456789",,,,[6]],[,,"7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}",,,,"7797712345"],[,,"80(?:07(?:35|81)|8901)\\d{4}",,,,"8007354567"],[,,"(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}",,,,"9018105678"],[,,,,,,,,,[-1]],[,,"701511\\d{4}",,,,"7015115678"],[,,"56\\d{8}",,,,"5612345678"],"JE",44,"00","0",,,"0|([0-24-8]\\d{5})$","1534$1",,,,,[,,"76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",,,,"7640123456"],,,[,,,,,,,,,[-1]],[,,"(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],JM:[,[,,"(?:[58]\\d\\d|658|900)\\d{7}",,,,,,,[10],[7]],[,,"8766060\\d{3}|(?:658(?:2(?:[0-8]\\d|9[0-46-9])|[3-9]\\d\\d)|876(?:5(?:02|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[0237-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468])))\\d{4}",,,,"8765230123",,,,[7]],[,,"(?:658295|876(?:2(?:[14-9]\\d|2[013-9]|3[7-9])|[348]\\d\\d|5(?:0[13-9]|1[579]|[2-57-9]\\d|6[0-24-9])|6(?:4[89]|6[67])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579])))\\d{4}",,,,"8762101234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"JM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"658|876",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JO:[,[,,"(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",,,,,,,[8,9]],[,,"87(?:000|90[01])\\d{3}|(?:2(?:6(?:2[0-35-9]|3[0-578]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[5-7][023])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2(?:[05]0|22)|3(?:00|33)|4(?:0[0-25]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[178]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[0239]))|87(?:20|7[078]|99))\\d{4}",,,,"62001234",,,[8]],[,,"7(?:[78][0-25-9]|9\\d)\\d{6}",,,,"790123456",,,[9]],[,,"80\\d{6}",,,,"80012345",,,[8]],[,,"9\\d{7}",,,,"90012345",,,[8]],[,,"85\\d{6}",,,,"85012345",,,[8]],[,,"70\\d{7}",,,,"700123456",,,[9]],[,,,,,,,,,[-1]],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,"74(?:66|77)\\d{5}",,,,"746612345",,,[9]],,,[,,,,,,,,,[-1]],[,,"8(?:10|8\\d)\\d{5}",,,,"88101234",,,[8]],,,[,,,,,,,,,[-1]]],JP:[,[,,"00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",,,,,,,[8,9,10,11,12,13,14,15,16,17]],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|(?:2[2-9]|[36][1-9])\\d|4(?:[2-578]\\d|6[02-8]|9[2-59])|5(?:[2-589]\\d|6[1-9]|7[2-8])|7(?:[25-9]\\d|3[4-9]|4[02-9])|8(?:[2679]\\d|3[2-9]|4[5-9]|5[1-9]|8[03-9])|9(?:[2-58]\\d|[679][1-9]))\\d{6}",,,,"312345678",,,[9]],[,,"[7-9]0[1-9]\\d{7}",,,,"9012345678",,,[10]],[,,"00(?:(?:37|66)\\d{6,13}|(?:777(?:[01]|(?:5|8\\d)\\d)|882[1245]\\d\\d)\\d\\d)|(?:120|800\\d)\\d{6}",,,,"120123456"],[,,"990\\d{6}",,,,"990123456",,,[9]],[,,,,,,,,,[-1]],[,,"60\\d{7}",,,,"601234567",,,[9]],[,,"50[1-9]\\d{7}",,,,"5012345678",,,[10]],"JP",81,"010","0",,,"0",,,,[[,"(\\d{4})(\\d{4})","$1-$2",["007","0077","00777","00777[01]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["007"]],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["008"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["0"]]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],[,,"20\\d{8}",,,,"2012345678",,,[10]],,,[,,"00(?:777(?:[01]|(?:5|8\\d)\\d)|882[1245]\\d\\d)\\d\\d|00(?:37|66)\\d{6,13}"],[,,"570\\d{6}",,,,"570123456",,,[9]],,,[,,,,,,,,,[-1]]],KE:[,[,,"(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",,,,,,,[7,8,9,10]],[,,"(?:4[245]|5[1-79]|6[01457-9])\\d{5,7}|(?:4[136]|5[08]|62)\\d{7}|(?:[24]0|66)\\d{6,7}",,,,"202012345",,,[7,8,9]],[,,"(?:1(?:0[0-6]|1[0-5]|2[014])|7\\d\\d)\\d{6}",,,,"712123456",,,[9]],[,,"800[24-8]\\d{5,6}",,,,"800223456",,,[9,10]],[,,"900[02-9]\\d{5}",,,,"900223456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KE",254,"000","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KG:[,[,,"8\\d{9}|(?:[235-8]\\d|99)\\d{7}",,,,,,,[9,10],[5,6]],[,,"312(?:5[0-79]\\d|9(?:[0-689]\\d|7[0-24-9]))\\d{3}|(?:3(?:1(?:2[0-46-8]|3[1-9]|47|[56]\\d)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}",,,,"312123456",,,[9],[5,6]],[,,"312(?:58\\d|973)\\d{3}|(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|7(?:[07]\\d|55)|880|99[05-9])\\d{6}",,,,"700123456",,,[9]],[,,"800\\d{6,7}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KG",996,"00","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],[,"(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KH:[,[,,"1\\d{9}|[1-9]\\d{7,8}",,,,,,,[8,9,10],[6,7]],[,,"23(?:4(?:[2-4]|[56]\\d)|[568]\\d\\d)\\d{4}|23[236-9]\\d{5}|(?:2[4-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:(?:[237-9]|4[56]|5\\d)\\d{5}|6\\d{5,6})",,,,"23756789",,,[8,9],[6,7]],[,,"(?:(?:1[28]|3[18]|9[67])\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d))\\d{6}|(?:1\\d|9[0-57-9])\\d{6}|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48\\d{5}",,,,"91234567",,,[8,9]],[,,"1800(?:1\\d|2[019])\\d{4}",,,,"1800123456",,,[10]],[,,"1900(?:1\\d|2[09])\\d{4}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KI:[,[,,"(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",,,,,,,[5,8]],[,,"(?:[24]\\d|3[1-9]|50|65(?:02[12]|12[56]|22[89]|[3-5]00)|7(?:27\\d\\d|3100|5(?:02[12]|12[56]|22[89]|[34](?:00|81)|500))|8[0-5])\\d{3}",,,,"31234"],[,,"(?:63\\d{3}|73(?:0[0-5]\\d|140))\\d{3}|[67]200[01]\\d{3}",,,,"72001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"30(?:0[01]\\d\\d|12(?:11|20))\\d\\d",,,,"30010000",,,[8]],"KI",686,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KM:[,[,,"[3478]\\d{6}",,,,,,,[7],[4]],[,,"7[4-7]\\d{5}",,,,"7712345",,,,[4]],[,,"[34]\\d{6}",,,,"3212345"],[,,,,,,,,,[-1]],[,,"8\\d{6}",,,,"8001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KN:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70)|56[5-7])\\d{4}",,,,"8692361234",,,,[7]],[,,"869(?:48[89]|55[6-8]|66\\d|76[02-7])\\d{4}",,,,"8697652917",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KN",1,"011","1",,,"1|([2-7]\\d{6})$","869$1",,,,,[,,,,,,,,,[-1]],,"869",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KP:[,[,,"85\\d{6}|(?:19\\d|[2-7])\\d{7}",,,,,,,[8,10],[6,7]],[,,"(?:(?:195|2)\\d|3[19]|4[159]|5[37]|6[17]|7[39]|85)\\d{6}",,,,"21234567",,,,[6,7]],[,,"19[1-3]\\d{7}",,,,"1921234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"238[02-9]\\d{4}|2(?:[0-24-9]\\d|3[0-79])\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KR:[,[,,"00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",,,,,,,[5,6,8,9,10,11,12,13,14],[3,4,7]],[,,"(?:2|3[1-3]|[46][1-4]|5[1-5])[1-9]\\d{6,7}|(?:3[1-3]|[46][1-4]|5[1-5])1\\d{2,3}",,,,"22123456",,,[5,6,8,9,10],[3,4,7]],[,,"1(?:05(?:[0-8]\\d|9[0-6])|22[13]\\d)\\d{4,5}|1(?:0[1-46-9]|[16-9]\\d|2[013-9])\\d{6,7}",,,,"1020000000",,,[9,10]],[,,"00(?:308\\d{6,7}|798\\d{7,9})|(?:00368|80)\\d{7}",,,,"801234567",,,[9,11,12,13,14]],[,,"60[2-9]\\d{6}",,,,"602345678",,,[9]],[,,,,,,,,,[-1]],[,,"50\\d{8,9}",,,,"5012345678",,,[10,11]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"KR",82,"00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","0",,,"0(8(?:[1-46-8]|5\\d\\d))?",,,,[[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1"],[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1"]],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3})(\\d{3})","$1 $2 $3",["003","0030"]],[,"(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3,4})(\\d{4})","$1 $2 $3",["0"]],[,"(\\d{5})(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]]],[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1"]],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1","0$CC-$1"]],[,,"15\\d{7,8}",,,,"1523456789",,,[9,10]],,,[,,"00(?:3(?:08\\d{6,7}|68\\d{7})|798\\d{7,9})",,,,,,,[11,12,13,14]],[,,"1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))\\d{4}",,,,"15441234",,,[8]],,,[,,,,,,,,,[-1]]],KW:[,[,,"(?:18|[2569]\\d\\d)\\d{5}",,,,,,,[7,8]],[,,"2(?:[23]\\d\\d|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7]))\\d{4}",,,,"22345678",,,[8]],[,,"(?:5(?:2(?:22|5[25])|88[58])|6(?:222|333|444|70[013-9]|888|93[039])|9(?:11[01]|3(?:00|33)|500))\\d{4}|(?:5(?:[05]\\d|1[0-7]|6[56])|6(?:0[034679]|5[015-9]|6\\d|7[67]|9[069])|9(?:0[09]|22|[4679]\\d|55|8[057-9]))\\d{5}",,,,"50012345",,,[8]],[,,"18\\d{5}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],[,"(\\d{3})(\\d{5})","$1 $2",["[25]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KY:[,[,,"(?:345|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"345(?:2(?:22|3[23]|44|66)|333|444|6(?:23|38|40)|7(?:30|4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}",,,,"3452221234",,,,[7]],[,,"345(?:32[1-9]|42[0-4]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|9(?:1[679]|2[2-9]|3[06-9]|90))\\d{4}",,,,"3453231234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"(?:345976|900[2-9]\\d\\d)\\d{4}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KY",1,"011","1",,,"1|([2-9]\\d{6})$","345$1",,,,,[,,"345849\\d{4}",,,,"3458491234"],,"345",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KZ:[,[,,"33622\\d{5}|(?:7\\d|80)\\d{8}",,,,,,,[10],[5,6,7]],[,,"(?:33622|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[2-4]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[2-4]\\d|5[139])|4(?:2\\d|3[1-35-9]|59)|5(?:[23]\\d|4[0-246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59))))\\d{5}",,,,"7123456789",,,,[5,6,7]],[,,"7(?:0[0-25-8]|47|6[0-4]|7[15-8]|85)\\d{7}",,,,"7710009998"],[,,"800\\d{7}",,,,"8001234567"],[,,"809\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,"751\\d{7}",,,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,,,,,,,,[-1]],,"33|7",[,,"751\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LA:[,[,,"[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",,,,,,,[8,9,10],[6]],[,,"(?:2[13]|[35-7][14]|41|8[1468])\\d{6}",,,,"21212862",,,[8],[6]],[,,"(?:20(?:[239]\\d|5[24-9]|7[6-8])|302\\d)\\d{6}",,,,"2023123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LA",856,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"30[013-9]\\d{6}",,,,"301234567",,,[9]],,,[,,,,,,,,,[-1]]],LB:[,[,,"[27-9]\\d{7}|[13-9]\\d{6}",,,,,,,[7,8]],[,,"7(?:62|8[0-7]|9[04-9])\\d{4}|(?:[14-69]\\d|2(?:[14-69]\\d|[78][1-9])|7[2-57]|8[02-9])\\d{5}",,,,"1123456"],[,,"793(?:[01]\\d|2[0-4])\\d{3}|(?:(?:3|81)\\d|7(?:[01]\\d|6[013-9]|8[89]|9[12]))\\d{5}",,,,"71123456"],[,,,,,,,,,[-1]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,"80\\d{6}",,,,"80123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LC:[,[,,"(?:[58]\\d\\d|758|900)\\d{7}",,,,,,,[10],[7]],[,,"758(?:234|4(?:30|5\\d|6[2-9]|8[0-2])|57[0-2]|(?:63|75)8)\\d{4}",,,,"7584305678",,,,[7]],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[0-3])|812)\\d{4}",,,,"7582845678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"LC",1,"011","1",,,"1|([2-8]\\d{6})$","758$1",,,,,[,,,,,,,,,[-1]],,"758",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LI:[,[,,"90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",,,,,,,[7,9]],[,,"(?:2(?:01|1[27]|2[02]|3\\d|6[02-578]|96)|3(?:[24]0|33|7[0135-7]|8[048]|9[0269]))\\d{4}",,,,"2345678",,,[7]],[,,"(?:6(?:4(?:79|[89]\\d)|5[0-4]\\d|6(?:0\\d|10|2[0-26-9]|3[7-9]))\\d|7(?:[37-9]\\d|42|56))\\d{4}",,,,"660234567"],[,,"80(?:02[28]|9\\d\\d)\\d\\d",,,,"8002222",,,[7]],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d\\d",,,,"9002222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LI",423,"00","0",,,"0|(1001)",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"870(?:28|87)\\d\\d",,,,"8702812",,,[7]],,,[,,"697(?:42|56|[78]\\d)\\d{4}",,,,"697861234",,,[9]]],LK:[,[,,"[1-9]\\d{8}",,,,,,,[9],[7]],[,,"(?:12[2-9]|602|8[12]\\d|9(?:1\\d|22|9[245]))\\d{6}|(?:11|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}",,,,"112345678",,,,[7]],[,,"7(?:[0-25-8]\\d|4[01])\\d{6}",,,,"712345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LK",94,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"1973\\d{5}",,,,"197312345"],,,[,,,,,,,,,[-1]]],LR:[,[,,"(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",,,,,,,[7,8,9]],[,,"(?:2\\d{3}|33333)\\d{4}",,,,"21234567",,,[8,9]],[,,"(?:(?:330|555|(?:77|88)\\d)\\d|4[67])\\d{5}|[56]\\d{6}",,,,"770123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"332(?:02|[34]\\d)\\d{4}",,,,"332021234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LR",231,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LS:[,[,,"(?:[256]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"2\\d{7}",,,,"22123456"],[,,"[56]\\d{7}",,,,"50123456"],[,,"800[256]\\d{4}",,,,"80021234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2568]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LT:[,[,,"(?:[3469]\\d|52|[78]0)\\d{6}",,,,,,,[8]],[,,"(?:3[1478]|4[124-6]|52)\\d{6}",,,,"31234567"],[,,"6\\d{7}",,,,"61234567"],[,,"80[02]\\d{5}",,,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,"70[05]\\d{5}",,,,"70012345"],[,,"[89]01\\d{5}",,,,"80123456"],"LT",370,"00","8",,,"[08]",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",,1],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",,1],[,"(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",,1],[,"(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70[67]\\d{5}",,,,"70712345"],,,[,,,,,,,,,[-1]]],LU:[,[,,"35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",,,,,,,[4,5,6,7,8,9,10,11]],[,,"(?:35[013-9]|80[2-9]|90[89])\\d{1,8}|(?:2[2-9]|3[0-46-9]|[457]\\d|8[13-9]|9[2-579])\\d{2,9}",,,,"27123456"],[,,"6(?:[269][18]|5[158]|7[189]|81)\\d{6}",,,,"628123456",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90[015]\\d{5}",,,,"90012345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,,,,,,,,[-1]],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})",,,,"20201234",,,[4,5,6,7,8,9,10]],"LU",352,"00",,,,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LV:[,[,,"(?:[268]\\d|90)\\d{6}",,,,,,,[8]],[,,"6\\d{7}",,,,"63123456"],[,,"2\\d{7}",,,,"21234567"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,"81\\d{6}",,,,"81123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LV",371,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LY:[,[,,"[2-9]\\d{8}",,,,,,,[9],[7]],[,,"(?:2(?:0[56]|[1-6]\\d|7[124579]|8[124])|3(?:1\\d|2[2356])|4(?:[17]\\d|2[1-357]|5[2-4]|8[124])|5(?:[1347]\\d|2[1-469]|5[13-5]|8[1-4])|6(?:[1-479]\\d|5[2-57]|8[1-5])|7(?:[13]\\d|2[13-79])|8(?:[124]\\d|5[124]|84))\\d{6}",,,,"212345678",,,,[7]],[,,"9[1-6]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LY",218,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MA:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[015-7]\\d|2[02-9]|3[0-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}",,,,"520123456"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0\\d|6[1267]|7[0-57]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"592(?:4[0-2]|93)\\d{4}",,,,"592401234"],"MA",212,"00","0",,,"0",,,,[[,"(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]","5(?:29|38)[89]0"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],[,"(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],[,"(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],[,"(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MC:[,[,,"(?:[3489]|6\\d)\\d{7}",,,,,,,[8,9]],[,,"(?:870|9[2-47-9]\\d)\\d{5}",,,,"99123456",,,[8]],[,,"4(?:[46]\\d|5[1-9])\\d{5}|(?:3|6\\d)\\d{7}",,,,"612345678"],[,,"(?:800|90\\d)\\d{5}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MC",377,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["87"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],[,,,,,,,,,[-1]],,,[,,"8[07]0\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MD:[,[,,"(?:[235-7]\\d|[89]0)\\d{6}",,,,,,,[8]],[,,"(?:(?:2[1-9]|3[1-79])\\d|5(?:33|5[257]))\\d{5}",,,,"22212345"],[,,"562\\d{5}|(?:6\\d|7[16-9])\\d{6}",,,,"62112345"],[,,"800\\d{5}",,,,"80012345"],[,,"90[056]\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,,,,,,,,[-1]],[,,"3[08]\\d{6}",,,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"803\\d{5}",,,,"80312345"],,,[,,,,,,,,,[-1]]],ME:[,[,,"(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",,,,,,,[8,9],[6]],[,,"(?:20[2-8]|3(?:[0-2][2-7]|3[24-7])|4(?:0[2-467]|1[2467])|5(?:0[2467]|1[24-7]|2[2-467]))\\d{5}",,,,"30234567",,,[8],[6]],[,,"6(?:[07-9]\\d|3[024]|6[0-25])\\d{5}",,,,"67622901",,,[8]],[,,"80(?:[0-2578]|9\\d)\\d{5}",,,,"80080002"],[,,"9(?:4[1568]|5[178])\\d{5}",,,,"94515151",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"78[1-49]\\d{5}",,,,"78108780",,,[8]],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"77[1-9]\\d{5}",,,,"77273012",,,[8]],,,[,,,,,,,,,[-1]]],MF:[,[,,"(?:590|69\\d|976)\\d{6}",,,,,,,[9]],[,,"590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"976[01]\\d{5}",,,,"976012345"],"MF",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MG:[,[,,"[23]\\d{8}",,,,,,,[9],[7]],[,,"2072[29]\\d{4}|20(?:2\\d|4[47]|5[3467]|6[279]|7[35]|8[268]|9[245])\\d{5}",,,,"202123456",,,,[7]],[,,"3[2-49]\\d{7}",,,,"321234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"22\\d{7}",,,,"221234567"],"MG",261,"00","0",,,"0|([24-9]\\d{6})$","20$1",,,[[,"(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MH:[,[,,"329\\d{4}|(?:[256]\\d|45)\\d{5}",,,,,,,[7]],[,,"(?:247|528|625)\\d{4}",,,,"2471234"],[,,"(?:(?:23|54)5|329|45[56])\\d{4}",,,,"2351234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"635\\d{4}",,,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MK:[,[,,"[2-578]\\d{7}",,,,,,,[8],[6,7]],[,,"(?:2(?:[23]\\d|5[0-24578]|6[01]|82)|3(?:1[3-68]|[23][2-68]|4[23568])|4(?:[23][2-68]|4[3-68]|5[2568]|6[25-8]|7[24-68]|8[4-68]))\\d{5}",,,,"22012345",,,,[6,7]],[,,"7(?:3555|4(?:60\\d|747)|94(?:[01]\\d|2[0-4]))\\d{3}|7(?:[0-25-8]\\d|3[2-4]|42|9[23])\\d{5}",,,,"72345678"],[,,"800\\d{5}",,,,"80012345"],[,,"5[02-9]\\d{6}",,,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"80123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MK",389,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ML:[,[,,"[24-9]\\d{7}",,,,,,,[8]],[,,"2(?:07[0-8]|12[67])\\d{4}|(?:2(?:02|1[4-689])|4(?:0[0-4]|4[1-39]))\\d{5}",,,,"20212345"],[,,"2(?:0(?:01|79)|17\\d)\\d{4}|(?:5[01]|[679]\\d|8[239])\\d{6}",,,,"65012345"],[,,"80\\d{6}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ML",223,"00",,,,,,,,[[,"(\\d{4})","$1",["67[057-9]|74[045]","67(?:0[09]|[59]9|77|8[89])|74(?:0[02]|44|55)"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],[,,,,,,,,,[-1]],,,[,,"80\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MM:[,[,,"1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",,,,,,,[6,7,8,9,10],[5]],[,,"(?:1(?:(?:2\\d|3[56]|[89][0-6])\\d|4(?:2[2-469]|39|46|6[25]|7[0-3]|83)|6)|2(?:2(?:00|8[34])|4(?:0\\d|2[246]|39|46|62|7[0-3]|83)|51\\d\\d)|4(?:2(?:2\\d\\d|48[0-3])|3(?:20\\d|4(?:70|83)|56)|420\\d|5470)|6(?:0(?:[23]|88\\d)|(?:124|[56]2\\d)\\d|247[23]|3(?:20\\d|470)|4(?:2[04]\\d|47[23])|7(?:(?:3\\d|8[01459])\\d|4(?:39|60|7[013]))))\\d{4}|5(?:2(?:2\\d{5,6}|47[023]\\d{4})|(?:347[23]|4(?:2(?:1|86)|470)|522\\d|6(?:20\\d|483)|7(?:20\\d|48[0-2])|8(?:20\\d|47[02])|9(?:20\\d|47[01]))\\d{4})|7(?:(?:0470|4(?:25\\d|470)|5(?:202|470|96\\d))\\d{4}|1(?:20\\d{4,5}|4(?:70|83)\\d{4}))|8(?:1(?:2\\d{5,6}|4(?:10|7[01]\\d)\\d{3})|2(?:2\\d{5,6}|(?:320|490\\d)\\d{3})|(?:3(?:2\\d\\d|470)|4[24-7]|5(?:2\\d|4[1-9]|51)\\d|6[23])\\d{4})|(?:1[2-6]\\d|4(?:2[24-8]|3[2-7]|[46][2-6]|5[3-5])|5(?:[27][2-8]|3[2-68]|4[24-8]|5[23]|6[2-4]|8[24-7]|9[2-7])|6(?:[19]20|42[03-6]|(?:52|7[45])\\d)|7(?:[04][24-8]|[15][2-7]|22|3[2-4])|8(?:1[2-689]|2[2-8]|[35]2\\d))\\d{4}|25\\d{5,6}|(?:2[2-9]|6(?:1[2356]|[24][2-6]|3[24-6]|5[2-4]|6[2-8]|7[235-7]|8[245]|9[24])|8(?:3[24]|5[245]))\\d{4}",,,,"1234567",,,[6,7,8,9],[5]],[,,"(?:17[01]|9(?:2(?:[0-4]|[56]\\d\\d)|(?:3(?:[0-36]|4\\d)|(?:6\\d|8[89]|9[4-8])\\d|7(?:3|40|[5-9]\\d))\\d|4(?:(?:[0245]\\d|[1379])\\d|88)|5[0-6])\\d)\\d{4}|9[69]1\\d{6}|9(?:[68]\\d|9[089])\\d{5}",,,,"92123456",,,[7,8,9,10]],[,,"80080(?:[01][1-9]|2\\d)\\d{3}",,,,"8008001234",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1333\\d{4}|[12]468\\d{4}",,,,"13331234",,,[8]],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],[,"(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],[,"(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MN:[,[,,"[12]\\d{7,9}|[57-9]\\d{7}",,,,,,,[8,9,10],[4,5,6]],[,,"[12]2[1-3]\\d{5,6}|7(?:0[0-5]\\d|128)\\d{4}|(?:[12](?:1|27)|5[368])\\d{6}|[12](?:3[2-8]|4[2-68]|5[1-4689])\\d{6,7}",,,,"53123456",,,,[4,5,6]],[,,"(?:83[01]|920)\\d{5}|(?:5[05]|8[05689]|9[013-9])\\d{6}",,,,"88123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"712[0-79]\\d{4}|7(?:1[013-9]|[5-8]\\d)\\d{5}",,,,"75123456",,,[8]],"MN",976,"001","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],[,"(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],[,"(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MO:[,[,,"(?:28|[68]\\d)\\d{6}",,,,,,,[8]],[,,"(?:28[2-9]|8(?:11|[2-57-9]\\d))\\d{5}",,,,"28212345"],[,,"6800[0-79]\\d{3}|6(?:[235]\\d\\d|6(?:0[0-5]|[1-9]\\d)|8(?:0[1-9]|[14-8]\\d|2[5-9]|[39][0-4]))\\d{4}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MO",853,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[268]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MP:[,[,,"[58]\\d{9}|(?:67|90)0\\d{7}",,,,,,,[10],[7]],[,,"670(?:2(?:3[3-7]|56|8[4-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"670(?:2(?:3[3-7]|56|8[4-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MP",1,"011","1",,,"1|([2-9]\\d{6})$","670$1",,1,,,[,,,,,,,,,[-1]],,"670",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MQ:[,[,,"69\\d{7}|(?:59|97)6\\d{6}",,,,,,,[9]],[,,"596(?:0[0-8]|10|2[7-9]|3[04-9]|[4-7]\\d|8[09]|9[4-9])\\d{4}",,,,"596301234"],[,,"69(?:6(?:[0-46-9]\\d|5[0-6])|727)\\d{4}",,,,"696201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"976(?:6\\d|7[0-367])\\d{4}",,,,"976612345"],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MR:[,[,,"(?:[2-4]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"(?:25[08]|35\\d|45[1-7])\\d{5}",,,,"35123456"],[,,"[2-4][0-46-9]\\d{6}",,,,"22123456"],[,,"800\\d{5}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MR",222,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MS:[,[,,"(?:[58]\\d\\d|664|900)\\d{7}",,,,,,,[10],[7]],[,,"6644(?:1[0-3]|91)\\d{4}",,,,"6644912345",,,,[7]],[,,"664(?:3(?:49|9[1-6])|49[2-6])\\d{4}",,,,"6644923456",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MS",1,"011","1",,,"1|([34]\\d{6})$","664$1",,,,,[,,,,,,,,,[-1]],,"664",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MT:[,[,,"3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"2(?:0(?:[19]\\d|3[1-4]|6[059])|[1-357]\\d\\d)\\d{4}",,,,"21001234"],[,,"(?:7(?:210|[79]\\d\\d)|9(?:[29]\\d\\d|69[67]|8(?:1[1-3]|89|97)))\\d{4}",,,,"96961234"],[,,"800[3467]\\d{4}",,,,"80071234"],[,,"5(?:0(?:0(?:37|43)|(?:6\\d|70|9[0168])\\d)|[12]\\d0[1-5])\\d{3}",,,,"50037123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3550\\d{4}",,,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]],,[,,"7117\\d{4}",,,,"71171234"],,,[,,,,,,,,,[-1]],[,,"501\\d{5}",,,,"50112345"],,,[,,,,,,,,,[-1]]],MU:[,[,,"(?:[2-468]|5\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:2(?:[0346-8]\\d|1[0-7])|4(?:[013568]\\d|2[4-7])|54(?:[3-5]\\d|71)|6\\d\\d|8(?:14|3[129]))\\d{4}",,,,"54480123"],[,,"5(?:4(?:2[1-389]|7[1-9])|87[15-8])\\d{4}|5(?:2[5-9]|4[3-589]|[57]\\d|8[0-689]|9[0-8])\\d{5}",,,,"52512345",,,[8]],[,,"80[0-2]\\d{4}",,,,"8001234",,,[7]],[,,"30\\d{5}",,,,"3012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3(?:20|9\\d)\\d{4}",,,,"3201234",,,[7]],"MU",230,"0(?:0|[24-7]0|3[03])",,,,,,"020",,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],[,"(\\d{4})(\\d{4})","$1 $2",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MV:[,[,,"(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",,,,,,,[7,10]],[,,"(?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024-68]|8[024689]))\\d{4}",,,,"6701234",,,[7]],[,,"46[46]\\d{4}|(?:7\\d|9[13-9])\\d{5}",,,,"7712345",,,[7]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"4[05]0\\d{4}",,,,"4001234",,,[7]],,,[,,,,,,,,,[-1]]],MW:[,[,,"1\\d{6}(?:\\d{2})?|(?:[23]1|77|88|99)\\d{7}",,,,,,,[7,9]],[,,"(?:1[2-9]|21\\d\\d)\\d{5}",,,,"1234567"],[,,"111\\d{6}|(?:31|77|88|99)\\d{7}",,,,"991234567",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MX:[,[,,"(?:1(?:[01467]\\d|[2359][1-9]|8[1-79])|[2-9]\\d)\\d{8}",,,,,,,[10,11],[7,8]],[,,"(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",,,,"2001234567",,,[10],[7,8]],[,,"(?:1(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))|2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",,,,"12221234567",,,,[7,8]],[,,"8(?:00|88)\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,"300\\d{7}",,,,"3001234567",,,[10]],[,,"500\\d{7}",,,,"5001234567",,,[10]],[,,,,,,,,,[-1]],"MX",52,"0[09]","01",,,"0(?:[12]|4[45])|1",,"00",,[[,"(\\d{5})","$1",["53"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],,,1],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],,,1],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],,,1]],[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],,,1],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],,,1],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],,,1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MY:[,[,,"1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"(?:3(?:2[0-36-9]|3[0-368]|4[0-278]|5[0-24-8]|6[0-467]|7[1246-9]|8\\d|9[0-57])\\d|4(?:2[0-689]|[3-79]\\d|8[1-35689])|5(?:2[0-589]|[3468]\\d|5[0-489]|7[1-9]|9[23])|6(?:2[2-9]|3[1357-9]|[46]\\d|5[0-6]|7[0-35-9]|85|9[015-8])|7(?:[2579]\\d|3[03-68]|4[0-8]|6[5-9]|8[0-35-9])|8(?:[24][2-8]|3[2-5]|5[2-7]|6[2-589]|7[2-578]|[89][2-9])|9(?:0[57]|13|[25-7]\\d|[3489][0-8]))\\d{5}",,,,"323856789",,,[8,9],[6,7]],[,,"1(?:4400|8(?:47|8[27])[0-4])\\d{4}|1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])|1(?:[1-5]\\d\\d|6(?:0[5-9]|[1-9]\\d)|7(?:[0134]\\d|2[1-9]|5[0-6]))|(?:(?:[269]|59)\\d|[37][1-9]|4[235-9])\\d|8(?:1[23]|[236]\\d|4[06]|5[7-9]|7[016-9]|8[01]|9[0-8]))\\d{5}",,,,"123456789",,,[9,10]],[,,"1[378]00\\d{6}",,,,"1300123456",,,[10]],[,,"1600\\d{6}",,,,"1600123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"15(?:4(?:6[0-4]\\d|8(?:0[125]|[17]\\d|21|3[01]|4[01589]|5[014]|6[02]))|6(?:32[0-6]|78\\d))\\d{4}",,,,"1546012345",,,[10]],"MY",60,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9])|8"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MZ:[,[,,"(?:2|8\\d)\\d{7}",,,,,,,[8,9]],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}",,,,"21123456",,,[8]],[,,"8[2-79]\\d{7}",,,,"821234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MZ",258,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NA:[,[,,"[68]\\d{7,8}",,,,,,,[8,9]],[,,"64426\\d{3}|6(?:1(?:2[2-7]|3[01378]|4[0-4])|254|32[0237]|4(?:27|41|5[25])|52[236-8]|626|7(?:2[2-4]|30))\\d{4,5}|6(?:1(?:(?:0\\d|2[0189]|3[24-69]|4[5-9])\\d|17|69|7[014])|2(?:17|5[0-36-8]|69|70)|3(?:17|2[14-689]|34|6[289]|7[01]|81)|4(?:17|2[0-2]|4[06]|5[0137]|69|7[01])|5(?:17|2[0459]|69|7[01])|6(?:17|25|38|42|69|7[01])|7(?:17|2[569]|3[13]|6[89]|7[01]))\\d{4}",,,,"61221234"],[,,"(?:60|8[1245])\\d{7}",,,,"811234567",,,[9]],[,,"80\\d{7}",,,,"800123456",,,[9]],[,,"8701\\d{5}",,,,"870123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8(?:3\\d\\d|86)\\d{5}",,,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NC:[,[,,"[2-57-9]\\d{5}",,,,,,,[6]],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}",,,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}",,,,"751234"],[,,,,,,,,,[-1]],[,,"36\\d{4}",,,,"366711"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NC",687,"00",,,,,,,,[[,"(\\d{3})","$1",["5[6-8]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NE:[,[,,"[027-9]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:20|3[1-8]|4[13-5]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}",,,,"20201234"],[,,"(?:23|7[04]|[89]\\d)\\d{6}",,,,"93123456"],[,,"08\\d{6}",,,,"08123456"],[,,"09\\d{6}",,,,"09123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[04]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NF:[,[,,"[13]\\d{5}",,,,,,,[6],[5]],[,,"(?:1(?:06|17|28|39)|3[0-2]\\d)\\d{3}",,,,"106609",,,,[5]],[,,"(?:14|3[58])\\d{4}",,,,"381234",,,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NF",672,"00",,,,"([0-258]\\d{4})$","3$1",,,[[,"(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],[,"(\\d)(\\d{5})","$1 $2",["[13]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NG:[,[,,"(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",,,,,,,[7,8,10,11,12,13,14],[5,6]],[,,"(?:(?:[1-356]\\d|4[02-8]|8[2-9])\\d|9(?:0[3-9]|[1-9]\\d))\\d{5}|7(?:0(?:[013-689]\\d|2[0-24-9])\\d{3,4}|[1-79]\\d{6})|(?:[12]\\d|4[147]|5[14579]|6[1578]|7[1-3578])\\d{5}",,,,"18040123",,,[7,8],[5,6]],[,,"(?:702[0-24-9]|8(?:01|19)[01])\\d{6}|(?:70[13-689]|8(?:0[2-9]|1[0-8])|9(?:0[1-9]|1[235]))\\d{7}",,,,"8021234567",,,[10]],[,,"800\\d{7,11}",,,,"80017591759",,,[10,11,12,13,14]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NG",234,"009","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],[,"(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"700\\d{7,11}",,,,"7001234567",,,[10,11,12,13,14]],,,[,,,,,,,,,[-1]]],NI:[,[,,"(?:1800|[25-8]\\d{3})\\d{4}",,,,,,,[8]],[,,"2\\d{7}",,,,"21234567"],[,,"(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|(?:7[5-8]|8\\d)\\d)\\d{5}",,,,"81234567"],[,,"1800\\d{4}",,,,"18001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NL:[,[,,"(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",,,,,,,[5,6,7,8,9,10]],[,,"(?:1(?:[035]\\d|1[13-578]|6[124-8]|7[24]|8[0-467])|2(?:[0346]\\d|2[2-46-9]|5[125]|9[479])|3(?:[03568]\\d|1[3-8]|2[01]|4[1-8])|4(?:[0356]\\d|1[1-368]|7[58]|8[15-8]|9[23579])|5(?:[0358]\\d|[19][1-9]|2[1-57-9]|4[13-8]|6[126]|7[0-3578])|7\\d\\d)\\d{6}",,,,"101234567",,,[9]],[,,"6[1-58]\\d{7}",,,,"612345678",,,[9]],[,,"800\\d{4,7}",,,,"8001234",,,[7,8,9,10]],[,,"90[069]\\d{4,7}",,,,"9061234",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:85|91)\\d{7}",,,,"851234567",,,[9]],"NL",31,"00","0",,,"0",,,,[[,"(\\d{4})","$1",["1[238]|[34]"]],[,"(\\d{2})(\\d{3,4})","$1 $2",["14"]],[,"(\\d{6})","$1",["1"]],[,"(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],[,"(\\d)(\\d{8})","$1 $2",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],[[,"(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],[,"(\\d)(\\d{8})","$1 $2",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],[,,"66\\d{7}",,,,"662345678",,,[9]],,,[,,"140(?:1[035]|2[0346]|3[03568]|4[0356]|5[0358]|8[458])|140(?:1[16-8]|2[259]|3[124]|4[17-9]|5[124679]|7)\\d",,,,,,,[5,6]],[,,"140(?:1[035]|2[0346]|3[03568]|4[0356]|5[0358]|8[458])|(?:140(?:1[16-8]|2[259]|3[124]|4[17-9]|5[124679]|7)|8[478]\\d{6})\\d",,,,"14020",,,[5,6,9]],,,[,,,,,,,,,[-1]]],NO:[,[,,"(?:0|[2-9]\\d{3})\\d{4}",,,,,,,[5,8]],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}",,,,"21234567",,,[8]],[,,"(?:4[015-8]|59|9\\d)\\d{6}",,,,"40612345",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"NO",47,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|59"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],,[,,,,,,,,,[-1]],1,"[02-689]|7[0-8]",[,,,,,,,,,[-1]],[,,"(?:0[2-9]|81(?:0(?:0[7-9]|1\\d)|5\\d\\d))\\d{3}",,,,"02000"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],NP:[,[,,"(?:1\\d|9)\\d{9}|[1-9]\\d{7}",,,,,,,[8,10,11],[6,7]],[,,"(?:1[0-6]\\d|99[02-6])\\d{5}|(?:2[13-79]|3[135-8]|4[146-9]|5[135-7]|6[13-9]|7[15-9]|8[1-46-9]|9[1-7])[2-6]\\d{5}",,,,"14567890",,,[8],[6,7]],[,,"9(?:6[0-3]|7[245]|8[0-24-68])\\d{7}",,,,"9841234567",,,[10]],[,,"1(?:66001|800\\d\\d)\\d{5}",,,,"16600101234",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NP",977,"00","0",,,"0",,,,[[,"(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-579]|6[2-6])"],"0$1"],[,"(\\d{3})(\\d{7})","$1-$2",["9"]],[,"(\\d{4})(\\d{2})(\\d{5})","$1-$2-$3",["1"]]],[[,"(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-579]|6[2-6])"],"0$1"],[,"(\\d{3})(\\d{7})","$1-$2",["9"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NR:[,[,,"(?:444|(?:55|8\\d)\\d|666)\\d{4}",,,,,,,[7]],[,,"444\\d{4}",,,,"4441234"],[,,"(?:55[3-9]|666|8\\d\\d)\\d{4}",,,,"5551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NU:[,[,,"(?:[47]|888\\d)\\d{3}",,,,,,,[4,7]],[,,"[47]\\d{3}",,,,"7012",,,[4]],[,,"888[4-9]\\d{3}",,,,"8884012",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NU",683,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NZ:[,[,,"[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",,,,,,,[5,6,7,8,9,10]],[,,"24099\\d{3}|(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}",,,,"32345678",,,[8],[7]],[,,"2[0-27-9]\\d{7,8}|21\\d{6}",,,,"211234567",,,[8,9,10]],[,,"508\\d{6,7}|80\\d{6,8}",,,,"800123456",,,[8,9,10]],[,,"(?:11\\d{5}|50(?:0[08]|30|66|77|88))\\d{3}|90\\d{6,8}",,,,"900123456",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,"70\\d{7}",,,,"701234567",,,[9]],[,,,,,,,,,[-1]],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],,[,,"[28]6\\d{6,7}",,,,"26123456",,,[8,9]],,,[,,,,,,,,,[-1]],[,,"8(?:1[6-9]|22|3\\d|4[045]|5[459]|7[0-3579]|90)\\d{2,7}",,,,"83012378"],,,[,,,,,,,,,[-1]]],OM:[,[,,"(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",,,,,,,[7,8,9]],[,,"2[2-6]\\d{6}",,,,"23123456",,,[8]],[,,"(?:1505|90[1-9]\\d)\\d{4}|(?:7[1289]|9[1-9])\\d{6}",,,,"92123456",,,[8]],[,,"8007\\d{4,5}|(?:500|800[05])\\d{4}",,,,"80071234"],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"OM",968,"00",,,,,,,,[[,"(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],[,"(\\d{2})(\\d{6})","$1 $2",["2"]],[,"(\\d{4})(\\d{4})","$1 $2",["[179]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PA:[,[,,"8\\d{9}|[68]\\d{7}|[1-57-9]\\d{6}",,,,,,,[7,8,10]],[,,"(?:1(?:0\\d|1[479]|2[37]|3[0137]|4[17]|5[05]|6[58]|7[0167]|8[258]|9[139])|2(?:[0235-79]\\d|1[0-7]|4[013-9]|8[026-9])|3(?:[089]\\d|1[014-7]|2[0-5]|33|4[0-79]|55|6[068]|7[03-8])|4(?:00|3[0-579]|4\\d|7[0-57-9])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-26-8]|3[03]|4[04]|5[05-9]|6[056]|7[0-24-9]|8[6-9]|90)|8(?:09|2[89]|3\\d|4[0-24-689]|5[014]|8[02])|9(?:0[5-9]|1[0135-8]|2[036-9]|3[35-79]|40|5[0457-9]|6[05-9]|7[04-9]|8[35-8]|9\\d))\\d{4}",,,,"2001234",,,[7]],[,,"(?:1[16]1|21[89]|6(?:[02-9]\\d|1[0-7])\\d|8(?:1[01]|7[23]))\\d{4}",,,,"61234567",,,[7,8]],[,,"800\\d{4}(?:\\d(?:\\d{2})?)?",,,,"8001234"],[,,"(?:8(?:22|55|60|7[78]|86)|9(?:00|81))\\d{4}",,,,"8601234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],[,"(\\d{4})(\\d{4})","$1-$2",["[68]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PE:[,[,,"(?:[14-8]|9\\d)\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:(?:4[34]|5[14])[0-8]\\d|7(?:173|3[0-8]\\d)|8(?:10[05689]|6(?:0[06-9]|1[6-9]|29)|7(?:0[569]|[56]0)))\\d{4}|(?:1[0-8]|4[12]|5[236]|6[1-7]|7[246]|8[2-4])\\d{6}",,,,"11234567",,,[8],[6,7]],[,,"9\\d{8}",,,,"912345678",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"805\\d{5}",,,,"80512345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,"80[24]\\d{5}",,,,"80212345",,,[8]],[,,,,,,,,,[-1]],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PF:[,[,,"[48]\\d{7}|4\\d{5}",,,,,,,[6,8]],[,,"4(?:0[4-689]|9[4-68])\\d{5}",,,,"40412345",,,[8]],[,,"8[7-9]\\d{6}",,,,"87123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"499\\d{5}",,,,"49901234",,,[8]],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[48]"]]],,[,,,,,,,,,[-1]],,,[,,"44\\d{4}",,,,,,,[6]],[,,"44\\d{4}",,,,"440123",,,[6]],,,[,,,,,,,,,[-1]]],PG:[,[,,"(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",,,,,,,[7,8]],[,,"(?:64[1-9]|7730|85[02-46-9])\\d{4}|(?:3[0-2]|4[257]|5[34]|77[0-24]|9[78])\\d{5}",,,,"3123456"],[,,"77(?:3[1-9]|[5-9]\\d)\\d{4}|(?:7[0-689]|8[18])\\d{6}",,,,"70123456",,,[8]],[,,"180\\d{4}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"2(?:0[0-47]|7[568])\\d{4}",,,,"2751234",,,[7]],"PG",675,"00|140[1-3]",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],[,"(\\d{4})(\\d{4})","$1 $2",["[78]"]]],,[,,"27[01]\\d{4}",,,,"2700123",,,[7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PH:[,[,,"1800\\d{7,9}|(?:2|[89]\\d{4})\\d{5}|[2-8]\\d{8}|[28]\\d{7}",,,,,,,[6,8,9,10,11,12,13],[4,5,7]],[,,"(?:(?:2[3-8]|3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578])\\d{3}|88(?:22\\d\\d|42))\\d{4}|2\\d{5}(?:\\d{2})?|8[2-8]\\d{7}",,,,"21234567",,,[6,8,9,10],[4,5,7]],[,,"(?:81[37]|9(?:0[5-9]|1[0-24-9]|2[0-35-9]|[35]\\d|4[235-9]|6[0-35-8]|7[1-9]|8[189]|9[4-9]))\\d{7}",,,,"9051234567",,,[10]],[,,"1800\\d{7,9}",,,,"180012345678",,,[11,12,13]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PH",63,"00","0",,,"0",,,,[[,"(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PK:[,[,,"122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",,,,,,,[8,9,10,11,12],[5,6,7]],[,,"(?:(?:21|42)[2-9]|58[126])\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6,7}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}",,,,"2123456789",,,[9,10],[5,6,7,8]],[,,"3(?:[014]\\d|2[0-5]|3[0-7]|55|64)\\d{7}",,,,"3012345678",,,[10]],[,,"800\\d{5}(?:\\d{3})?",,,,"80012345",,,[8,11]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,"122\\d{6}",,,,"122044444",,,[9]],[,,,,,,,,,[-1]],"PK",92,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["1"]],[,"(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],[,"(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:0[468]|[1-8])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}",,,,"21111825888",,,[11,12]],,,[,,,,,,,,,[-1]]],PL:[,[,,"6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",,,,,,,[6,7,8,9,10]],[,,"47\\d{7}|(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])(?:[02-9]\\d{6}|1(?:[0-8]\\d{5}|9\\d{3}(?:\\d{2})?))",,,,"123456789",,,[7,9]],[,,"(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",,,,"512345678",,,[9]],[,,"800\\d{6,7}",,,,"800123456",,,[9,10]],[,,"70[01346-8]\\d{6}",,,,"701234567",,,[9]],[,,"801\\d{6}",,,,"801234567",,,[9]],[,,,,,,,,,[-1]],[,,"39\\d{7}",,,,"391234567",,,[9]],"PL",48,"00",,,,,,,,[[,"(\\d{5})","$1",["19"]],[,"(\\d{3})(\\d{3})","$1 $2",["11|64"]],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]],,[,,"64\\d{4,7}",,,,"641234567",,,[6,7,8,9]],,,[,,,,,,,,,[-1]],[,,"804\\d{6}",,,,"804123456",,,[9]],,,[,,,,,,,,,[-1]]],PM:[,[,,"[45]\\d{5}",,,,,,,[6]],[,,"(?:4[1-3]|50)\\d{4}",,,,"430123"],[,,"(?:4[02-4]|5[05])\\d{4}",,,,"551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PM",508,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PR:[,[,,"(?:[589]\\d\\d|787)\\d{7}",,,,,,,[10],[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"PR",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"787|939",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PS:[,[,,"[2489]2\\d{6}|(?:1\\d|5)\\d{8}",,,,,,,[8,9,10],[7]],[,,"(?:22[2-47-9]|42[45]|82[014-68]|92[3569])\\d{5}",,,,"22234567",,,[8],[7]],[,,"5[69]\\d{7}",,,,"599123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,,,,,,,,[-1]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PS",970,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PT:[,[,,"(?:[26-9]\\d|30)\\d{7}",,,,,,,[9]],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}",,,,"212345678"],[,,"6[356]9230\\d{3}|(?:6[036]93|9(?:[1-36]\\d\\d|480))\\d{5}",,,,"912345678"],[,,"80[02]\\d{6}",,,,"800123456"],[,,"(?:6(?:0[178]|4[68])\\d|76(?:0[1-57]|1[2-47]|2[237]))\\d{5}",,,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}",,,,"808123456"],[,,"884[0-4689]\\d{5}",,,,"884123456"],[,,"30\\d{7}",,,,"301234567"],"PT",351,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70(?:7\\d|8[17])\\d{5}",,,,"707123456"],,,[,,"600\\d{6}",,,,"600110000"]],PW:[,[,,"(?:[24-8]\\d\\d|345|900)\\d{4}",,,,,,,[7]],[,,"(?:2(?:55|77)|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76)|900)\\d{4}",,,,"2771234"],[,,"(?:46[0-5]|6[2-4689]0)\\d{4}|(?:45|77|88)\\d{5}",,,,"6201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PY:[,[,,"59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",,,,,,,[6,7,8,9,10,11],[5]],[,,"(?:[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36])\\d{5,7}|(?:2(?:2[4-68]|[4-68]\\d|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51|[67]\\d)|4(?:3[12]|5[13]|9[1-47])|5(?:[1-4]\\d|5[02-4])|6(?:3[1-3]|44|7[1-8])|7(?:4[0-4]|5\\d|6[1-578]|75|8[0-8])|858)\\d{5,6}",,,,"212345678",,,[7,8,9],[5,6]],[,,"9(?:51|6[129]|[78][1-6]|9[1-5])\\d{6}",,,,"961456789",,,[9]],[,,"9800\\d{5,7}",,,,"98000123456",,,[9,10,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8700[0-4]\\d{4}",,,,"870012345",,,[9]],"PY",595,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],[,"(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[2-9]0\\d{4,7}",,,,"201234567",,,[6,7,8,9]],,,[,,,,,,,,,[-1]]],QA:[,[,,"[2-7]\\d{7}|(?:2\\d\\d|800)\\d{4}",,,,,,,[7,8]],[,,"(?:23|4[04])\\d{6}",,,,"44123456",,,[8]],[,,"(?:28|[35-7]\\d)\\d{6}",,,,"33123456",,,[8]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"QA",974,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]],,[,,"2(?:[12]\\d|61)\\d{4}",,,,"2123456",,,[7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RE:[,[,,"9769\\d{5}|(?:26|[68]\\d)\\d{7}",,,,,,,[9]],[,,"26(?:2\\d\\d|30[0-5])\\d{4}",,,,"262161234"],[,,"(?:69(?:2\\d\\d|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|6[0-36]|7[0-27]|8[0-8]|9[0-479]))|9769\\d)\\d{4}",,,,"692123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89[1-37-9]\\d{6}",,,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RE",262,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],,[,,,,,,,,,[-1]],1,"26[23]|69|[89]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RO:[,[,,"(?:[237]\\d|[89]0)\\d{7}|[23]\\d{5}",,,,,,,[6,9]],[,,"[23][13-6]\\d{7}|(?:2(?:19\\d|[3-6]\\d9)|31\\d\\d)\\d\\d",,,,"211234567"],[,,"7[01]20\\d{5}|7(?:0[013-9]|1[01]|[2-7]\\d|8[03-8]|9[09])\\d{6}",,,,"712034567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[0136]\\d{6}",,,,"900123456",,,[9]],[,,"801\\d{6}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RO",40,"00","0"," int ",,"0",,,,[[,"(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],[,"(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:37\\d|80[578])\\d{6}",,,,"372123456",,,[9]],,,[,,,,,,,,,[-1]]],RS:[,[,,"38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",,,,,,,[6,7,8,9,10,11,12],[4,5]],[,,"(?:11[1-9]\\d|(?:2[389]|39)(?:0[2-9]|[2-9]\\d))\\d{3,8}|(?:1[02-9]|2[0-24-7]|3[0-8])[2-9]\\d{4,9}",,,,"10234567",,,[7,8,9,10,11,12],[4,5,6]],[,,"6(?:[0-689]|7\\d)\\d{6,7}",,,,"601234567",,,[8,9,10]],[,,"800\\d{3,9}",,,,"80012345"],[,,"(?:78\\d|90[0169])\\d{3,7}",,,,"90012345",,,[6,7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RS",381,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],[,"(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7[06]\\d{4,10}",,,,"700123456"],,,[,,,,,,,,,[-1]]],RU:[,[,,"[347-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}",,,,"3011234567",,,,[7]],[,,"9\\d{9}",,,,"9123456789"],[,,"80[04]\\d{7}",,,,"8001234567"],[,,"80[39]\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,,,,,,,,[-1]],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[0-79]"]],[,"(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",,1],[,"(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1]],[[,"(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",,1],[,"(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1]],[,,,,,,,,,[-1]],1,"3[04-689]|[489]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RW:[,[,,"(?:06|[27]\\d\\d|[89]00)\\d{6}",,,,,,,[8,9]],[,,"(?:06|2[23568]\\d)\\d{6}",,,,"250123456"],[,,"7[238]\\d{7}",,,,"720123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900\\d{6}",,,,"900123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RW",250,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SA:[,[,,"92\\d{7}|(?:[15]|8\\d)\\d{8}",,,,,,,[9,10],[7]],[,,"1(?:1\\d|2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}",,,,"112345678",,,[9],[7]],[,,"579[01]\\d{5}|5(?:[013-689]\\d|7[0-36-8])\\d{6}",,,,"512345678",,,[9]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"925\\d{6}",,,,"925012345",,,[9]],[,,"920\\d{6}",,,,"920012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SA",966,"00","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["9"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"811\\d{7}",,,,"8110123456",,,[10]],,,[,,,,,,,,,[-1]]],SB:[,[,,"(?:[1-6]|[7-9]\\d\\d)\\d{4}",,,,,,,[5,7]],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}",,,,"40123",,,[5]],[,,"48\\d{3}|(?:(?:7[1-9]|8[4-9])\\d|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]))\\d{4}",,,,"7421234"],[,,"1[38]\\d{3}",,,,"18123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[12]\\d{3}",,,,"51123",,,[5]],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SC:[,[,,"8000\\d{3}|(?:[249]\\d|64)\\d{5}",,,,,,,[7]],[,,"4[2-46]\\d{5}",,,,"4217123"],[,,"2[5-8]\\d{5}",,,,"2510123"],[,,"8000\\d{3}",,,,"8000000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"971\\d{4}|(?:64|95)\\d{5}",,,,"6412345"],"SC",248,"010|0[0-2]",,,,,,"00",,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SD:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"1(?:5\\d|8[35-7])\\d{6}",,,,"153123456"],[,,"(?:1[0-2]|9[0-3569])\\d{7}",,,,"911231234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SE:[,[,,"(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",,,,,,,[6,7,8,9,10,12]],[,,"(?:(?:[12][136]|3[356]|4[0246]|6[03]|8\\d)\\d|90[1-9])\\d{4,6}|(?:1(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)|2(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])|3(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])|4(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])|6(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])|9(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8]))\\d{5,6}",,,,"8123456",,,[7,8,9]],[,,"7[02369]\\d{7}",,,,"701234567",,,[9]],[,,"20\\d{4,7}",,,,"20123456",,,[6,7,8,9]],[,,"649\\d{6}|9(?:00|39|44)[1-8]\\d{3,6}",,,,"9001234567",,,[7,8,9,10]],[,,"77[0-7]\\d{6}",,,,"771234567",,,[9]],[,,"75[1-8]\\d{6}",,,,"751234567",,,[9]],[,,,,,,,,,[-1]],"SE",46,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1"],[,"(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1"],[,"(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1"],[,"(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1"]],[[,"(\\d{2})(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(\\d{3})(\\d{4})","$1 $2",["9(?:00|39|44)"]],[,"(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"]],[,"(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{3})","$1 $2 $3",["9(?:00|39|44)"]],[,"(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["10|7"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]]],[,,"74[02-9]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,"10[1-8]\\d{6}",,,,"102345678",,,[9]],,,[,,"(?:25[245]|67[3-68])\\d{9}",,,,"254123456789",,,[12]]],SG:[,[,,"(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",,,,,,,[8,10,11]],[,,"662[0-24-9]\\d{4}|6(?:[1-578]\\d|6[013-57-9]|9[0-35-9])\\d{5}",,,,"61234567",,,[8]],[,,"(?:8(?:0(?:1\\d|2[014-9]|3[0-7])|[1-8]\\d\\d|9(?:[0-4]\\d|5[0-2]))|9[0-8]\\d\\d)\\d{4}",,,,"81234567",,,[8]],[,,"(?:18|8)00\\d{7}",,,,"18001234567",,,[10,11]],[,,"1900\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:3[12]\\d|666)\\d{5}",,,,"31234567",,,[8]],"SG",65,"0[0-3]\\d",,,,,,,,[[,"(\\d{4,5})","$1",["1[013-9]|77","1(?:[013-8]|9(?:0[1-9]|[1-9]))|77"]],[,"(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-3]|[1-9])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],[,"(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],[[,"(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-3]|[1-9])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],[,"(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7000\\d{7}",,,,"70001234567",,,[11]],,,[,,,,,,,,,[-1]]],SH:[,[,,"(?:[256]\\d|8)\\d{3}",,,,,,,[4,5]],[,,"2(?:[0-57-9]\\d|6[4-9])\\d\\d",,,,"22158"],[,,"[56]\\d{4}",,,,"51234",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"262\\d\\d",,,,"26212",,,[5]],"SH",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],1,"[256]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SI:[,[,,"[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",,,,,,,[5,6,7,8]],[,,"(?:[1-357][2-8]|4[24-8])\\d{6}",,,,"12345678",,,[8],[7]],[,,"65(?:1\\d|55|[67]0)\\d{4}|(?:[37][01]|4[0139]|51|6[489])\\d{6}",,,,"31234567",,,[8]],[,,"80\\d{4,6}",,,,"80123456",,,[6,7,8]],[,,"89[1-3]\\d{2,5}|90\\d{4,6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:59\\d\\d|8(?:1(?:[67]\\d|8[0-489])|2(?:0\\d|2[0-37-9]|8[0-2489])|3[389]\\d))\\d{4}",,,,"59012345",,,[8]],"SI",386,"00|10(?:22|66|88|99)","0",,,"0",,"00",,[[,"(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SJ:[,[,,"0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",,,,,,,[5,8]],[,,"79\\d{6}",,,,"79123456",,,[8]],[,,"(?:4[015-8]|59|9\\d)\\d{6}",,,,"41234567",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"SJ",47,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"79",[,,,,,,,,,[-1]],[,,"(?:0[2-9]|81(?:0(?:0[7-9]|1\\d)|5\\d\\d))\\d{3}",,,,"02000"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],SK:[,[,,"[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",,,,,,,[6,7,9]],[,,"(?:2(?:16|[2-9]\\d{3})|(?:(?:[3-5][1-8]\\d|819)\\d|601[1-5])\\d)\\d{4}|(?:2|[3-5][1-8])1[67]\\d{3}|[3-5][1-8]16\\d\\d",,,,"221234567"],[,,"909[1-9]\\d{5}|9(?:0[1-8]|1[0-24-9]|4[03-57-9]|5\\d)\\d{6}",,,,"912123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:00|[78]\\d)\\d{6}",,,,"900123456",,,[9]],[,,"8[5-9]\\d{7}",,,,"850123456",,,[9]],[,,,,,,,,,[-1]],[,,"6(?:02|5[0-4]|9[0-6])\\d{6}",,,,"690123456",,,[9]],"SK",421,"00","0",,,"0",,,,[[,"(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],[,"(\\d{4})(\\d{3})","$1 $2",["909","9090"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],[[,"(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],[,,"9090\\d{3}",,,,"9090123",,,[7]],,,[,,"9090\\d{3}|(?:602|8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}",,,,,,,[7,9]],[,,"96\\d{7}",,,,"961234567",,,[9]],,,[,,,,,,,,,[-1]]],SL:[,[,,"(?:[2378]\\d|66|99)\\d{6}",,,,,,,[8],[6]],[,,"22[2-4][2-9]\\d{4}",,,,"22221234",,,,[6]],[,,"(?:25|3[0-5]|66|7[3-9]|8[08]|99)\\d{6}",,,,"25123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SM:[,[,,"(?:0549|[5-7]\\d)\\d{6}",,,,,,,[8,10],[6]],[,,"0549(?:8[0157-9]|9\\d)\\d{4}",,,,"0549886377",,,[10],[6]],[,,"6[16]\\d{6}",,,,"66661212",,,[8]],[,,,,,,,,,[-1]],[,,"7[178]\\d{6}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[158]\\d{6}",,,,"58001110",,,[8]],"SM",378,"00",,,,"([89]\\d{5})$","0549$1",,,[[,"(\\d{6})","$1",["[89]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(\\d{4})(\\d{6})","$1 $2",["0"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(\\d{4})(\\d{6})","$1 $2",["0"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SN:[,[,,"(?:[378]\\d{4}|93330)\\d{4}",,,,,,,[9]],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611)\\d{5}",,,,"301012345"],[,,"7(?:[06-8]\\d|21|5[4-7]|90)\\d{6}",,,,"701234567"],[,,"800\\d{6}",,,,"800123456"],[,,"88[4689]\\d{6}",,,,"884123456"],[,,"81[02468]\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,"93330\\d{4}|3(?:392|9[01]\\d)\\d{5}",,,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SO:[,[,,"[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",,,,,,,[6,7,8,9]],[,,"(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|5[57-9])\\d{5}|(?:[134]\\d|8[125])\\d{4}",,,,"4012345",,,[6,7]],[,,"28\\d{5}|(?:6[1-9]|79)\\d{6,7}|(?:15|24|(?:3[59]|4[89]|8[08])\\d|60|7[1-8]|9(?:0\\d|[2-9]))\\d{6}",,,,"71123456",,,[7,8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SO",252,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})","$1 $2",["8[125]"]],[,"(\\d{6})","$1",["[134]"]],[,"(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],[,"(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[1-35-9]|9[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SR:[,[,,"(?:[2-5]|68|[78]\\d)\\d{5}",,,,,,,[6,7]],[,,"(?:2[1-3]|3[0-7]|(?:4|68)\\d|5[2-58])\\d{4}",,,,"211234"],[,,"(?:7[124-7]|8[124-9])\\d{5}",,,,"7412345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"56\\d{4}",,,,"561234",,,[6]],"SR",597,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],[,"(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],[,"(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SS:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"1[89]\\d{7}",,,,"181234567"],[,,"(?:12|9[12579])\\d{7}",,,,"977123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ST:[,[,,"(?:22|9\\d)\\d{5}",,,,,,,[7]],[,,"22\\d{5}",,,,"2221234"],[,,"900[5-9]\\d{3}|9(?:0[1-9]|[89]\\d)\\d{4}",,,,"9812345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[29]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SV:[,[,,"[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",,,,,,,[7,8,11]],[,,"2(?:[1-6]\\d{3}|[79]90[034]|890[0245])\\d{3}",,,,"21234567",,,[8]],[,,"66(?:[02-9]\\d\\d|1(?:[02-9]\\d|16))\\d{3}|(?:6[0-57-9]|7\\d)\\d{6}",,,,"70123456",,,[8]],[,,"800\\d{4}(?:\\d{4})?",,,,"8001234",,,[7,11]],[,,"900\\d{4}(?:\\d{4})?",,,,"9001234",,,[7,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SV",503,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[89]"]],[,"(\\d{4})(\\d{4})","$1 $2",["[267]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SX:[,[,,"7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}",,,,"7215425678",,,,[7]],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}",,,,"7215205678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"SX",1,"011","1",,,"1|(5\\d{6})$","721$1",,,,,[,,,,,,,,,[-1]],,"721",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SY:[,[,,"[1-39]\\d{8}|[1-5]\\d{7}",,,,,,,[8,9],[6,7]],[,,"21\\d{6,7}|(?:1(?:[14]\\d|[2356])|2[235]|3(?:[13]\\d|4)|4[134]|5[1-3])\\d{6}",,,,"112345678",,,,[6,7]],[,,"9(?:22|[3-589]\\d|6[02-9])\\d{6}",,,,"944567890",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SZ:[,[,,"0800\\d{4}|(?:[237]\\d|900)\\d{6}",,,,,,,[8,9]],[,,"[23][2-5]\\d{6}",,,,"22171234",,,[8]],[,,"7[6-9]\\d{6}",,,,"76123456",,,[8]],[,,"0800\\d{4}",,,,"08001234",,,[8]],[,,"900\\d{6}",,,,"900012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"70\\d{6}",,,,"70012345",,,[8]],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[0237]"]],[,"(\\d{5})(\\d{4})","$1 $2",["9"]]],,[,,,,,,,,,[-1]],,,[,,"0800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TA:[,[,,"8\\d{3}",,,,,,,[4]],[,,"8\\d{3}",,,,"8999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TA",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"8",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TC:[,[,,"(?:[58]\\d\\d|649|900)\\d{7}",,,,,,,[10],[7]],[,,"649(?:266|712|9(?:4\\d|50))\\d{4}",,,,"6497121234",,,,[7]],[,,"649(?:2(?:3[129]|4[1-79])|3\\d\\d|4[34][1-3])\\d{4}",,,,"6492311234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"649(?:71[01]|966)\\d{4}",,,,"6497101234",,,,[7]],"TC",1,"011","1",,,"1|([2-479]\\d{6})$","649$1",,,,,[,,,,,,,,,[-1]],,"649",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TD:[,[,,"(?:22|[69]\\d|77)\\d{6}",,,,,,,[8]],[,,"22(?:[37-9]0|5[0-5]|6[89])\\d{4}",,,,"22501234"],[,,"(?:6[023568]|77|9\\d)\\d{6}",,,,"63012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TG:[,[,,"[279]\\d{7}",,,,,,,[8]],[,,"2(?:2[2-7]|3[23]|4[45]|55|6[67]|77)\\d{5}",,,,"22212345"],[,,"(?:7[09]|9[0-36-9])\\d{6}",,,,"90112345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TH:[,[,,"1\\d{9}|[1689]\\d{8}|[1-57]\\d{7}",,,,,,,[8,9,10]],[,,"(?:1[0689]|2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}",,,,"21234567",,,[8]],[,,"671[0-3]\\d{5}|(?:14|6[1-6]|[89]\\d)\\d{7}",,,,"812345678",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"1900\\d{6}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"6[08]\\d{7}",,,,"601234567",,,[9]],"TH",66,"00[1-9]","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TJ:[,[,,"(?:[02]0|11|[3-57-9]\\d)\\d{7}",,,,,,,[9],[3,5,6,7]],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}",,,,"372123456",,,,[3,5,6,7]],[,,"41[18]\\d{6}|(?:[02-4]0|11|5[05]|7[07]|8[08]|9\\d)\\d{7}",,,,"917123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TJ",992,"810","8",,,"8",,"8~10",,[[,"(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"],,,1],[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],,,1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"],,,1],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02-57-9]|11"],,,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TK:[,[,,"[2-47]\\d{3,6}",,,,,,,[4,5,6,7]],[,,"(?:2[2-4]|[34]\\d)\\d{2,5}",,,,"3101"],[,,"7[2-4]\\d{2,5}",,,,"7290"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TK",690,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TL:[,[,,"7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",,,,,,,[7,8]],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}",,,,"2112345",,,[7]],[,,"7[2-8]\\d{6}",,,,"77212345",,,[8]],[,,"80\\d{5}",,,,"8012345",,,[7]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,"70\\d{5}",,,,"7012345",,,[7]],[,,,,,,,,,[-1]],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],[,"(\\d{4})(\\d{4})","$1 $2",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TM:[,[,,"[1-6]\\d{7}",,,,,,,[8]],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}",,,,"12345678"],[,,"6\\d{7}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TN:[,[,,"[2-57-9]\\d{7}",,,,,,,[8]],[,,"81200\\d{3}|(?:3[0-2]|7\\d)\\d{6}",,,,"30010123"],[,,"3(?:001|[12]40)\\d{4}|(?:(?:[259]\\d|4[0-7])\\d|3(?:1[1-35]|6[0-4]|91))\\d{5}",,,,"20123456"],[,,"8010\\d{4}",,,,"80101234"],[,,"88\\d{6}",,,,"88123456"],[,,"8[12]10\\d{4}",,,,"81101234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TO:[,[,,"(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",,,,,,,[5,7]],[,,"(?:2\\d|3[0-8]|4[0-4]|50|6[09]|7[0-24-69]|8[05])\\d{3}",,,,"20123",,,[5]],[,,"(?:6(?:[09]\\d|3[02]|8[15-9])|(?:7\\d|8[46-9])\\d|999)\\d{4}",,,,"7715123",,,[7]],[,,"0800\\d{3}",,,,"0800222",,,[7]],[,,"55[04]\\d{4}",,,,"5501234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],[,"(\\d{4})(\\d{3})","$1 $2",["0"]],[,"(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TR:[,[,,"4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",,,,,,,[7,10,12,13]],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}",,,,"2123456789",,,[10]],[,,"56161\\d{5}|5(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{7}",,,,"5012345678",,,[10]],[,,"8(?:00\\d{7}(?:\\d{2,3})?|11\\d{7})",,,,"8001234567",,,[10,12,13]],[,,"(?:8[89]8|900)\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,"592(?:21[12]|461)\\d{4}",,,,"5922121234",,,[10]],[,,"850\\d{7}",,,,"8500123456",,,[10]],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d)(\\d{3})","$1 $2 $3",["444"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",,1],[,"(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",,1],[,"(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",,1]],[,,"512\\d{7}",,,,"5123456789",,,[10]],,,[,,"(?:444|811\\d{3})\\d{4}",,,,,,,[7,10]],[,,"444\\d{4}",,,,"4441444",,,[7]],,,[,,,,,,,,,[-1]]],TT:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"868(?:2(?:0[13]|1[89]|[23]\\d|4[0-2])|6(?:0[7-9]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}",,,,"8682211234",,,,[7]],[,,"868(?:(?:2[5-9]|3\\d)\\d|4(?:3[0-6]|[6-9]\\d)|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}",,,,"8682911234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"TT",1,"011","1",,,"1|([2-46-8]\\d{6})$","868$1",,,,,[,,,,,,,,,[-1]],,"868",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"868619\\d{4}",,,,"8686191234",,,,[7]]],TV:[,[,,"(?:2|7\\d\\d|90)\\d{4}",,,,,,,[5,6,7]],[,,"2[02-9]\\d{3}",,,,"20123",,,[5]],[,,"(?:7[01]\\d|90)\\d{4}",,,,"901234",,,[6,7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TV",688,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",["2"]],[,"(\\d{2})(\\d{4})","$1 $2",["90"]],[,"(\\d{2})(\\d{5})","$1 $2",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TW:[,[,,"[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",,,,,,,[7,8,9,10,11]],[,,"(?:2[2-8]\\d|370|55[01]|7[1-9])\\d{6}|4(?:(?:0(?:0[1-9]|[2-48]\\d)|1[023]\\d)\\d{4,5}|(?:[239]\\d\\d|4(?:0[56]|12|49))\\d{5})|6(?:[01]\\d{7}|4(?:0[56]|12|24|4[09])\\d{4,5})|8(?:(?:2(?:3\\d|4[0-269]|[578]0|66)|36[24-9]|90\\d\\d)\\d{4}|4(?:0[56]|12|24|4[09])\\d{4,5})|(?:2(?:2(?:0\\d\\d|4(?:0[68]|[249]0|3[0-467]|5[0-25-9]|6[0235689]))|(?:3(?:[09]\\d|1[0-4])|(?:4\\d|5[0-49]|6[0-29]|7[0-5])\\d)\\d)|(?:(?:3[2-9]|5[2-8]|6[0-35-79]|8[7-9])\\d\\d|4(?:2(?:[089]\\d|7[1-9])|(?:3[0-4]|[78]\\d|9[01])\\d))\\d)\\d{3}",,,,"221234567",,,[8,9]],[,,"(?:40001[0-2]|9[0-8]\\d{4})\\d{3}",,,,"912345678",,,[9]],[,,"80[0-79]\\d{6}|800\\d{5}",,,,"800123456",,,[8,9]],[,,"20(?:[013-9]\\d\\d|2)\\d{4}",,,,"203123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"99\\d{7}",,,,"990123456",,,[9]],[,,"7010(?:[0-2679]\\d|3[0-7]|8[0-5])\\d{5}|70\\d{8}",,,,"7012345678",,,[10,11]],"TW",886,"0(?:0[25-79]|19)","0","#",,"0",,,,[[,"(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"50[0-46-9]\\d{6}",,,,"500123456",,,[9]],,,[,,,,,,,,,[-1]]],TZ:[,[,,"(?:[26-8]\\d|41|90)\\d{7}",,,,,,,[9]],[,,"2[2-8]\\d{7}",,,,"222345678"],[,,"77[2-9]\\d{6}|(?:6[1-9]|7[1-689])\\d{7}",,,,"621234567"],[,,"80[08]\\d{6}",,,,"800123456"],[,,"90\\d{7}",,,,"900123456"],[,,"8(?:40|6[01])\\d{6}",,,,"840123456"],[,,,,,,,,,[-1]],[,,"41\\d{7}",,,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:8(?:[04]0|6[01])|90\\d)\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UA:[,[,,"[89]\\d{9}|[3-9]\\d{8}",,,,,,,[9,10],[5,6,7]],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}",,,,"311234567",,,[9],[5,6,7]],[,,"(?:50|6[36-8]|7[1-3]|9[1-9])\\d{7}",,,,"501234567",,,[9]],[,,"800[1-8]\\d{5,6}",,,,"800123456"],[,,"900[239]\\d{5,6}",,,,"900212345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"89[1-579]\\d{6}",,,,"891234567",,,[9]],"UA",380,"00","0",,,"0",,"0~0",,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]","4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["[3-6]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UG:[,[,,"800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",,,,,,,[9],[5,6,7]],[,,"20(?:(?:(?:24|81)0|30[67])\\d|6(?:00[0-2]|30[0-4]))\\d{3}|(?:20(?:[0147]\\d|2[5-9]|32|5[0-4]|6[15-9])|[34]\\d{3})\\d{5}",,,,"312345678",,,,[5,6,7]],[,,"7260\\d{5}|7(?:[0157-9]\\d|20|36|4[0-4])\\d{6}",,,,"712345678"],[,,"800[1-3]\\d{5}",,,,"800123456"],[,,"90[1-3]\\d{6}",,,,"901123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],US:[,[,,"[2-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[02357]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01579]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[02357]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01579]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",,,,"2015550123",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"]],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],,,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[2-9]"]]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UY:[,[,,"4\\d{9}|[249]\\d{7}|(?:[49]\\d|80)\\d{5}",,,,,,,[7,8,10]],[,,"(?:2\\d|4[2-7])\\d{6}",,,,"21231234",,,[8],[7]],[,,"9[1-9]\\d{6}",,,,"94231234",,,[8]],[,,"(?:4\\d{5}|80[05])\\d{4}|405\\d{4}",,,,"8001234",,,[7,10]],[,,"90[0-8]\\d{4}",,,,"9001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UY",598,"0(?:0|1[3-9]\\d)","0"," int. ",,"0",,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],[,"(\\d{4})(\\d{4})","$1 $2",["[24]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UZ:[,[,,"55501\\d{4}|(?:33|[679]\\d|88)\\d{7}",,,,,,,[9]],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[1-3578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d\\d|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[124-6]|9[135-8])|(?:1[12]|8\\d)\\d|2(?:22|3[13-57-9]|4[1-3579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}",,,,"669050123"],[,,"(?:(?:33|88|9[0-57-9])\\d{3}|55501|6(?:1(?:2(?:2[01]|98)|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:(?:11|7\\d)\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4]))|5(?:19[01]|2(?:27|9[26])|(?:30|59|7\\d)\\d)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|(?:3[79]|9[0-3])\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]))|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|3[01]|5\\d|7[0-4])|(?:5[67]|7\\d)\\d|6(?:2[0-26]|8\\d)))|7(?:[07]\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|(?:33|9[4-6])\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078]))|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0-27]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[02569]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07]))))\\d{4}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UZ",998,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VA:[,[,,"0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",,,,,,,[6,7,8,9,10,11,12]],[,,"06698\\d{1,6}",,,,"0669812345",,,[6,7,8,9,10,11]],[,,"3[1-9]\\d{8}|3[2-9]\\d{7}",,,,"3123456789",,,[9,10]],[,,"80(?:0\\d{3}|3)\\d{3}",,,,"800123456",,,[6,9]],[,,"(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{3}|[17])\\d{3}",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"VA",39,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"06698",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"3[2-8]\\d{9,10}",,,,"33101234501",,,[11,12]]],VC:[,[,,"(?:[58]\\d\\d|784|900)\\d{7}",,,,,,,[10],[7]],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}",,,,"7842661234",,,,[7]],[,,"784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4])|720)\\d{4}",,,,"7844301234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VC",1,"011","1",,,"1|([2-7]\\d{6})$","784$1",,,,,[,,,,,,,,,[-1]],,"784",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VE:[,[,,"[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",,,,,,,[10],[7]],[,,"(?:2(?:12|3[457-9]|[467]\\d|[58][1-9]|9[1-6])|[4-6]00)\\d{7}",,,,"2121234567",,,,[7]],[,,"4(?:1[24-8]|2[46])\\d{7}",,,,"4121234567"],[,,"800\\d{7}",,,,"8001234567"],[,,"90[01]\\d{7}",,,,"9001234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1","$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"501\\d{7}",,,,"5010123456",,,,[7]],,,[,,,,,,,,,[-1]]],VG:[,[,,"(?:284|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"284496[0-5]\\d{3}|284(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}",,,,"2842291234",,,,[7]],[,,"284496[6-9]\\d{3}|284(?:245|3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|5(?:4[0-7]|68|9[69]))\\d{4}",,,,"2843001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VG",1,"011","1",,,"1|([2-578]\\d{6})$","284$1",,,,,[,,,,,,,,,[-1]],,"284",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VI:[,[,,"[58]\\d{9}|(?:34|90)0\\d{7}",,,,,,,[10],[7]],[,,"340(?:2(?:0[12]|2[06-8]|4[49]|77)|3(?:32|44)|4(?:2[23]|44|7[34]|89)|5(?:1[34]|55)|6(?:2[56]|4[23]|77|9[023])|7(?:1[2-57-9]|2[57]|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"340(?:2(?:0[12]|2[06-8]|4[49]|77)|3(?:32|44)|4(?:2[23]|44|7[34]|89)|5(?:1[34]|55)|6(?:2[56]|4[23]|77|9[023])|7(?:1[2-57-9]|2[57]|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VI",1,"011","1",,,"1|([2-9]\\d{6})$","340$1",,1,,,[,,,,,,,,,[-1]],,"340",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VN:[,[,,"[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",,,,,,,[7,8,9,10]],[,,"2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-79]|9[0-4679])\\d{7}",,,,"2101234567",,,[10]],[,,"(?:5(?:2[238]|59)|89[689]|99[013-9])\\d{6}|(?:3\\d|5[689]|7[06-9]|8[1-8]|9[0-8])\\d{7}",,,,"912345678",,,[9]],[,,"1800\\d{4,6}|12(?:0[13]|28)\\d{4}",,,,"1800123456",,,[8,9,10]],[,,"1900\\d{4,6}",,,,"1900123456",,,[8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"672\\d{6}",,,,"672012345",,,[9]],"VN",84,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[17]99"],"0$1",,1],[,"(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(\\d{3})(\\d{4,5})","$1 $2",["69"],"0$1",,1],[,"(\\d{4})(\\d{4,6})","$1 $2",["1"],,,1],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",,1]],[[,"(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(\\d{4})(\\d{4,6})","$1 $2",["1"],,,1],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"[17]99\\d{4}|69\\d{5,6}",,,,,,,[7,8]],[,,"(?:[17]99|80\\d)\\d{4}|69\\d{5,6}",,,,"1992000",,,[7,8]],,,[,,,,,,,,,[-1]]],VU:[,[,,"[48]8\\d{3}|(?:[23]|[579]\\d\\d)\\d{4}",,,,,,,[5,7]],[,,"(?:38[0-8]|48[4-9])\\d\\d|(?:2[02-9]|3[4-7]|88)\\d{3}",,,,"22123",,,[5]],[,,"(?:5\\d|7[013-7])\\d{5}",,,,"5912345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"9(?:0[1-9]|1[01])\\d{4}",,,,"9010123",,,[7]],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:3[03]|900\\d)\\d{3}",,,,"30123"],,,[,,,,,,,,,[-1]]],WF:[,[,,"(?:[45]0|68|72|8\\d)\\d{4}",,,,,,,[6]],[,,"(?:50|68|72)\\d{4}",,,,"501234"],[,,"(?:50|68|72|8[23])\\d{4}",,,,"501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WF",681,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[4-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"[48]0\\d{4}",,,,"401234"]],WS:[,[,,"(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",,,,,,,[5,6,7,10]],[,,"6[1-9]\\d{3}|(?:[2-5]|60)\\d{4}",,,,"22123",,,[5,6]],[,,"(?:7[1-35-7]|8(?:[3-7]|9\\d{3}))\\d{5}",,,,"7212345",,,[7,10]],[,,"800\\d{3}",,,,"800123",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WS",685,"0",,,,,,,,[[,"(\\d{5})","$1",["[2-5]|6[1-9]"]],[,"(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],[,"(\\d{2})(\\d{5})","$1 $2",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],XK:[,[,,"[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",,,,,,,[8,9]],[,,"(?:2[89]|39)0\\d{6}|[23][89]\\d{6}",,,,"28012345"],[,,"4[3-9]\\d{6}",,,,"43201234",,,[8]],[,,"800\\d{5}",,,,"80001234",,,[8]],[,,"900\\d{5}",,,,"90001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"XK",383,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YE:[,[,,"(?:1|7\\d)\\d{7}|[1-7]\\d{6}",,,,,,,[7,8,9],[6]],[,,"78[0-7]\\d{4}|17\\d{6}|(?:[12][2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-6])\\d{5}",,,,"1234567",,,[7,8],[6]],[,,"7[0137]\\d{7}",,,,"712345678",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YE",967,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YT:[,[,,"80\\d{7}|(?:26|63)9\\d{6}",,,,,,,[9]],[,,"269(?:0[67]|5[0-3]|6\\d|[78]0)\\d{4}",,,,"269601234"],[,,"639(?:0[0-79]|1[019]|[267]\\d|3[09]|[45]0|9[04-79])\\d{4}",,,,"639012345"],[,,"80\\d{7}",,,,"801234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YT",262,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"269|63",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZA:[,[,,"[1-79]\\d{8}|8\\d{4,9}",,,,,,,[5,6,7,8,9,10]],[,,"(?:2(?:0330|4302)|52087)0\\d{3}|(?:1[0-8]|2[1-378]|3[1-69]|4\\d|5[1346-8])\\d{7}",,,,"101234567",,,[9]],[,,"(?:1(?:3492[0-25]|4495[0235]|549(?:20|5[01]))|4[34]492[01])\\d{3}|8[1-4]\\d{3,7}|(?:2[27]|47|54)4950\\d{3}|(?:1(?:049[2-4]|9[12]\\d\\d)|(?:6\\d|7[0-46-9])\\d{3}|8(?:5\\d{3}|7(?:08[67]|158|28[5-9]|310)))\\d{4}|(?:1[6-8]|28|3[2-69]|4[025689]|5[36-8])4920\\d{3}|(?:12|[2-5]1)492\\d{4}",,,,"711234567",,,[5,6,7,8,9]],[,,"80\\d{7}",,,,"801234567",,,[9]],[,,"(?:86[2-9]|9[0-2]\\d)\\d{6}",,,,"862345678",,,[9]],[,,"860\\d{6}",,,,"860123456",,,[9]],[,,,,,,,,,[-1]],[,,"87(?:08[0-589]|15[0-79]|28[0-4]|31[1-9])\\d{4}|87(?:[02][0-79]|1[0-46-9]|3[02-9]|[4-9]\\d)\\d{5}",,,,"871234567",,,[9]],"ZA",27,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"861\\d{6,7}",,,,"861123456",,,[9,10]],,,[,,,,,,,,,[-1]]],ZM:[,[,,"(?:63|80)0\\d{6}|(?:21|[79]\\d)\\d{7}",,,,,,,[9],[6]],[,,"21[1-8]\\d{6}",,,,"211234567",,,,[6]],[,,"(?:7[679]|9[5-8])\\d{7}",,,,"955123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"630\\d{6}",,,,"630012345"],"ZM",260,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[1-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZW:[,[,,"2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",,,,,,,[5,6,7,8,9,10],[3,4]],[,,"(?:1(?:(?:3\\d|9)\\d|[4-8])|2(?:(?:(?:0(?:2[014]|5)|(?:2[0157]|31|84|9)\\d\\d|[56](?:[14]\\d\\d|20)|7(?:[089]|2[03]|[35]\\d\\d))\\d|4(?:2\\d\\d|8))\\d|1(?:2|[39]\\d{4}))|3(?:(?:123|(?:29\\d|92)\\d)\\d\\d|7(?:[19]|[56]\\d))|5(?:0|1[2-478]|26|[37]2|4(?:2\\d{3}|83)|5(?:25\\d\\d|[78])|[689]\\d)|6(?:(?:[16-8]21|28|52[013])\\d\\d|[39])|8(?:[1349]28|523)\\d\\d)\\d{3}|(?:4\\d\\d|9[2-9])\\d{4,5}|(?:(?:2(?:(?:(?:0|8[146])\\d|7[1-7])\\d|2(?:[278]\\d|92)|58(?:2\\d|3))|3(?:[26]|9\\d{3})|5(?:4\\d|5)\\d\\d)\\d|6(?:(?:(?:[0-246]|[78]\\d)\\d|37)\\d|5[2-8]))\\d\\d|(?:2(?:[569]\\d|8[2-57-9])|3(?:[013-59]\\d|8[37])|6[89]8)\\d{3}",,,,"1312345",,,,[3,4]],[,,"7(?:[17]\\d|[38][1-9])\\d{6}",,,,"712345678",,,[9]],[,,"80(?:[01]\\d|20|8[0-8])\\d{3}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"86(?:1[12]|22|30|44|55|77|8[368])\\d{6}",,,,"8686123456",,,[10]],"ZW",263,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],[,"(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],[,"(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],[,"(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],800:[,[,,"[1-9]\\d{7}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[1-9]\\d{7}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",800,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],808:[,[,,"[1-9]\\d{7}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[1-9]\\d{7}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",808,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],870:[,[,,"7\\d{11}|[35-7]\\d{8}",,,,,,,[9,12]],[,,,,,,,,,[-1]],[,,"(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}",,,,"301234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",870,,,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],878:[,[,,"10\\d{10}",,,,,,,[12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"10\\d{10}",,,,"101234567890"],"001",878,,,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],881:[,[,,"[0-36-9]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"[0-36-9]\\d{8}",,,,"612345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",881,,,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],882:[,[,,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",,,,,,,[7,8,9,10,11,12]],[,,,,,,,,,[-1]],[,,"342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}",,,,"3421234",,,[7,8,9,10,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}",,,,"390123456789"],"001",882,,,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["16|342"]],[,"(\\d{2})(\\d{6})","$1 $2",["4"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"348[57]\\d{7}",,,,"34851234567",,,[11]]],883:[,[,,"51\\d{7}(?:\\d{3})?",,,,,,,[9,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"51[013]0\\d{8}|5100\\d{5}",,,,"510012345"],"001",883,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],888:[,[,,"\\d{11}",,,,,,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",888,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"\\d{11}",,,,"12345678901"],,,[,,,,,,,,,[-1]]],979:[,[,,"[1359]\\d{8}",,,,,,,[9],[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[1359]\\d{8}",,,,"123456789",,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",979,,,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]]};function G(){r.call(this)}m(G,r);var ta=null,ua={ea:0,da:1,ca:5,ba:10,aa:20};G.prototype.j=function(){var a=ta;a||(ta=a=B(G,{0:{name:"PhoneNumber",s:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,h:5,type:Number},2:{name:"national_number",required:!0,h:4,type:Number},3:{name:"extension",h:9,type:String},4:{name:"italian_leading_zero",h:8,type:Boolean},8:{name:"number_of_leading_zeros",h:5,defaultValue:1,type:Number},5:{name:"raw_input",h:9,type:String},6:{name:"country_code_source",h:14,defaultValue:0,type:ua},7:{name:"preferred_domestic_carrier_code",h:9,type:String}}));return a};G.ctor=G;G.ctor.j=G.prototype.j;function H(){}H.prototype.g=function(a){new a.i;throw Error("Unimplemented");};H.prototype.i=function(a,b){if(11==a.i||10==a.i)return b instanceof r?b:this.g(a.v.prototype.j(),b);if(14==a.i)return"string"===typeof b&&va.test(b)&&(a=Number(b),0<a)?a:b;if(!a.u)return b;a=a.v;if(a===String){if("number"===typeof b)return String(b)}else if(a===Number&&"string"===typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||va.test(b)))return Number(b);return b};var va=/^-?[0-9]+$/;function I(){}m(I,H);I.prototype.g=function(a,b){a=new a.i;a.m=this;a.g=b;a.i={};return a};function J(){}m(J,I);J.prototype.i=function(a,b){return 8==a.i?!!b:H.prototype.i.apply(this,arguments)};J.prototype.g=function(a,b){return J.$.g.call(this,a,b)};function K(){this.g={}}K.i=void 0;K.g=function(){return K.i?K.i:K.i=new K};var xa={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"},ya={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},L=/^[+\uff0b]+/,za=/([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])/,Aa=/[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]/,Ba=/[\\\/] *x/,Ca=/[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9A-Za-z#]+$/,Da=/(?:.*?[A-Za-z]){3}.*/;function N(a){return"([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,"+a+"})"}
function Ea(){return";ext="+N("20")+"|[ \u00a0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\u00f3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|anexo)[:\\.\uff0e]?[ \u00a0\\t,-]*"+(N("20")+"#?|[ \u00a0\\t,]*(?:[x\uff58#\uff03~\uff5e]|int|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \u00a0\\t,-]*")+(N("9")+"#?|[- ]+")+(N("6")+"#|[ \u00a0\\t]*(?:,{2}|;)[:\\.\uff0e]?[ \u00a0\\t,-]*")+(N("15")+"#?|[ \u00a0\\t]*(?:,)+[:\\.\uff0e]?[ \u00a0\\t,-]*")+(N("9")+"#?")}
var Fa=new RegExp("(?:"+Ea()+")$","i"),Ga=new RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^[+\uff0b]*(?:[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e*]*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e*A-Za-z0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:"+Ea()+")?$","i"),Ha=/(\$\d)/;function Ia(a){return 2>a.length?!1:O(Ga,a)}function Ja(a){return O(Da,a)?P(a,ya):P(a,xa)}function Ka(a){var b=Ja(a.toString());a.i="";a.g(b)}function La(a){return null!=a&&(1!=A(a,9)||-1!=w(a,9)[0])}function P(a,b){for(var c=new n,d,e=a.length,g=0;g<e;++g)d=a.charAt(g),d=b[d.toUpperCase()],null!=d&&c.g(d);return c.toString()}function Q(a){return null!=a&&isNaN(a)&&a.toUpperCase()in sa}
function Ma(a,b,c){if(0==t(b,2)&&null!=b.g[5]){var d=y(b,5);if(0<d.length)return d}d=y(b,1);var e=R(b);if(0==c)return Na(d,0,e,"");if(!(d in F))return e;a=S(a,d,T(d));b=null!=b.g[3]&&0!=t(b,3).length?3==c?";ext="+t(b,3):null!=a.g[13]?t(a,13)+y(b,3):" ext. "+y(b,3):"";a:{a=0==w(a,20).length||2==c?w(a,19):w(a,20);for(var g,f=a.length,h=0;h<f;++h){g=a[h];var l=A(g,3);if(0==l||0==e.search(t(g,3,l-1)))if(l=new RegExp(t(g,1)),O(l,e)){a=g;break a}}a=null}null!=a&&(f=a,a=y(f,2),g=new RegExp(t(f,1)),y(f,5),f=y(f,4),e=2==c&&null!=f&&0<f.length?e.replace(g,a.replace(Ha,f)):e.replace(g,a),3==c&&(e=e.replace(/^[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/,""),e=e.replace(/[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/g,"-")));return Na(d,c,e,b)}function S(a,b,c){return"001"==c?U(a,""+b):U(a,c)}
function R(a){if(null==a.g[2])return"";var b=""+t(a,2);return null!=a.g[4]&&t(a,4)&&0<y(a,8)?Array(y(a,8)+1).join("0")+b:b}function Na(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}
function V(a,b){switch(b){case 4:return t(a,5);case 3:return t(a,4);case 1:return t(a,3);case 0:case 2:return t(a,2);case 5:return t(a,6);case 6:return t(a,8);case 7:return t(a,7);case 8:return t(a,21);case 9:return t(a,25);case 10:return t(a,28);default:return t(a,1)}}function W(a,b){return X(a,t(b,1))?X(a,t(b,5))?4:X(a,t(b,4))?3:X(a,t(b,6))?5:X(a,t(b,8))?6:X(a,t(b,7))?7:X(a,t(b,21))?8:X(a,t(b,25))?9:X(a,t(b,28))?10:X(a,t(b,2))?t(b,18)||X(a,t(b,3))?2:0:!t(b,18)&&X(a,t(b,3))?1:-1:-1}
function U(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.g[b];if(null==c){c=sa[b];if(null==c)return null;c=(new J).g(E.j(),c);a.g[b]=c}return c}function X(a,b){var c=a.length;return 0<A(b,9)&&-1==p(w(b,9),c)?!1:O(y(b,2),a)}
function Oa(a,b){if(null==b)return null;var c=y(b,1);c=F[c];if(null==c)a=null;else if(1==c.length)a=c[0];else a:{b=R(b);for(var d,e=c.length,g=0;g<e;g++){d=c[g];var f=U(a,d);if(null!=f.g[23]){if(0==b.search(t(f,23))){a=d;break a}}else if(-1!=W(b,f)){a=d;break a}}a=null}return a}function T(a){a=F[a];return null==a?"ZZ":a[0]}
function Y(a,b,c,d){var e=V(c,d),g=0==A(e,9)?w(t(c,1),9):w(e,9);e=w(e,10);if(2==d)if(La(V(c,0)))a=V(c,1),La(a)&&(g=g.concat(0==A(a,9)?w(t(c,1),9):w(a,9)),q(g),0==e.length?e=w(a,10):(e=e.concat(w(a,10)),q(e)));else return Y(a,b,c,1);if(-1==g[0])return 5;b=b.length;if(-1<p(e,b))return 4;c=g[0];return c==b?0:c>b?2:g[g.length-1]<b?3:-1<p(g,b,1)?0:5}function Pa(a,b){var c=R(b);b=y(b,1);if(!(b in F))return 1;b=S(a,b,T(b));return Y(a,c,b,-1)}
function Qa(a,b,c,d,e,g){if(0==b.length)return 0;b=new n(b);var f;null!=c&&(f=t(c,11));null==f&&(f="NonMatch");var h=b.toString();if(0==h.length)f=20;else if(L.test(h))h=h.replace(L,""),b.i="",b.g(Ja(h)),f=1;else{h=new RegExp(f);Ka(b);f=b.toString();if(0==f.search(h)){h=f.match(h)[0].length;var l=f.substring(h).match(za);l&&null!=l[1]&&0<l[1].length&&"0"==P(l[1],xa)?f=!1:(b.i="",b.g(f.substring(h)),f=!0)}else f=!1;f=f?5:20}e&&u(g,6,f);if(20!=f){if(2>=b.i.length)throw Error("Phone number too short after IDD");a:{a=b.toString();if(0!=a.length&&"0"!=a.charAt(0))for(e=a.length,b=1;3>=b&&b<=e;++b)if(c=parseInt(a.substring(0,b),10),c in F){d.g(a.substring(b));d=c;break a}d=0}if(0!=d)return u(g,1,d),d;throw Error("Invalid country calling code");}if(null!=c&&(f=y(c,10),h=""+f,l=b.toString(),0==l.lastIndexOf(h,0)&&(h=new n(l.substring(h.length)),l=t(c,1),l=new RegExp(y(l,2)),Ra(h,c,null),h=h.toString(),!O(l,b.toString())&&O(l,h)||3==Y(a,b.toString(),c,-1))))return d.g(h),e&&u(g,6,10),u(g,1,f),f;u(g,1,0);return 0}
function Ra(a,b,c){var d=a.toString(),e=d.length,g=t(b,15);if(0!=e&&null!=g&&0!=g.length){var f=new RegExp("^(?:"+g+")");if(e=f.exec(d)){g=new RegExp(y(t(b,1),2));var h=O(g,d),l=e.length-1;b=t(b,16);if(null==b||0==b.length||null==e[l]||0==e[l].length){if(!h||O(g,d.substring(e[0].length)))null!=c&&0<l&&null!=e[l]&&c.g(e[1]),a.set(d.substring(e[0].length))}else if(d=d.replace(f,b),!h||O(g,d))null!=c&&0<l&&c.g(e[1]),a.set(d)}}}
function Z(a,b,c){if(!Q(c)&&0<b.length&&"+"!=b.charAt(0))throw Error("Invalid country calling code");return Sa(a,b,c,!0)}
function Sa(a,b,c,d){if(null==b)throw Error("The string supplied did not seem to be a phone number");if(250<b.length)throw Error("The string supplied is too long to be a phone number");var e=new n,g=b.indexOf(";phone-context=");if(0<=g){var f=g+15;if("+"==b.charAt(f)){var h=b.indexOf(";",f);0<h?e.g(b.substring(f,h)):e.g(b.substring(f))}f=b.indexOf("tel:");e.g(b.substring(0<=f?f+4:0,g))}else g=e.g,f=b.search(Aa),0<=f?(f=b.substring(f),f=f.replace(Ca,""),h=f.search(Ba),0<=h&&(f=f.substring(0,h))):f="",g.call(e,f);g=e.toString();f=g.indexOf(";isub=");0<f&&(e.i="",e.g(g.substring(0,f)));if(!Ia(e.toString()))throw Error("The string supplied did not seem to be a phone number");g=e.toString();if(!(Q(c)||null!=g&&0<g.length&&L.test(g)))throw Error("Invalid country calling code");g=new G;d&&u(g,5,b);a:{b=e.toString();f=b.search(Fa);if(0<=f&&Ia(b.substring(0,f))){h=b.match(Fa);for(var l=h.length,z=1;z<l;++z)if(null!=h[z]&&0<h[z].length){e.i="";e.g(b.substring(0,f));b=h[z];break a}}b=""}0<b.length&&u(g,3,b);f=U(a,c);b=new n;h=0;l=e.toString();try{h=Qa(a,l,f,b,d,g)}catch(M){if("Invalid country calling code"==M.message&&L.test(l)){if(l=l.replace(L,""),h=Qa(a,l,f,b,d,g),0==h)throw M;}else throw M;}0!=h?(e=T(h),e!=c&&(f=S(a,h,e))):(Ka(e),b.g(e.toString()),null!=c?(h=y(f,10),u(g,1,h)):d&&(delete g.g[6],g.i&&delete g.i[6]));if(2>b.i.length)throw Error("The string supplied is too short to be a phone number");null!=f&&(c=new n,e=new n(b.toString()),Ra(e,f,c),a=Y(a,e.toString(),f,-1),2!=a&&4!=a&&5!=a&&(b=e,d&&0<c.toString().length&&u(g,7,c.toString())));d=b.toString();a=d.length;if(2>a)throw Error("The string supplied is too short to be a phone number");if(17<a)throw Error("The string supplied is too long to be a phone number");if(1<d.length&&"0"==d.charAt(0)){u(g,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&u(g,8,a)}u(g,2,parseInt(d,10));return g}function O(a,b){return(a="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a))&&a[0].length==b.length?!0:!1};k("intlTelInputUtils",{});k("intlTelInputUtils.formatNumber",function(a,b,c){try{var d=K.g(),e=Z(d,a,b),g=Pa(d,e);return 0==g||4==g?Ma(d,e,"undefined"==typeof c?0:c):a}catch(f){return a}});k("intlTelInputUtils.getExampleNumber",function(a,b,c){try{var d=K.g();a:{if(Q(a)){var e=V(U(d,a),c);try{if(null!=e.g[6]){var g=t(e,6);var f=Sa(d,g,a,!1);break a}}catch(h){}}f=null}return Ma(d,f,b?2:1)}catch(h){return""}});k("intlTelInputUtils.getExtension",function(a,b){try{return t(Z(K.g(),a,b),3)}catch(c){return""}});k("intlTelInputUtils.getNumberType",function(a,b){try{var c=K.g();var d=Z(c,a,b),e=Oa(c,d),g=S(c,y(d,1),e);if(null==g)var f=-1;else{var h=R(d);f=W(h,g)}return f}catch(l){return-99}});k("intlTelInputUtils.getValidationError",function(a,b){try{var c=K.g(),d=Z(c,a,b);return Pa(c,d)}catch(e){return"Invalid country calling code"==e.message?1:"Phone number too short after IDD"==e.message||"The string supplied is too short to be a phone number"==e.message?2:"The string supplied is too long to be a phone number"==e.message?3:-99}});k("intlTelInputUtils.isValidNumber",function(a,b){try{var c=K.g(),d=Z(c,a,b);var e=Oa(c,d),g=y(d,1),f=S(c,g,e),h;if(!(h=null==f)){var l;if(l="001"!=e){var z=U(c,e);if(null==z)throw Error("Invalid region code: "+e);var M=y(z,10);l=g!=M}h=l}if(h)var wa=!1;else{var Ta=R(d);wa=-1!=W(Ta,f)}return wa}catch(Ua){return!1}});k("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3});k("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1});k("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,IS_POSSIBLE_LOCAL_ONLY:4,INVALID_LENGTH:5});})();

var IntlInitializer=function(visibleInput,hiddenInput,options){this.init(visibleInput,hiddenInput,options);};jQuery.extend(IntlInitializer.prototype,{iti:null,errorMap:{0:"Invalid number",1:"Invalid country code",2:"Too short",3:"Too long",4:"Invalid number",'-99':"error_value_is_empty"},$input:null,$hiddenInput:null,options:{showError:true,showErrorBorder:true,required:true,initialCountry:null,nationalMode:false,startCheck:true,allowedPrefix:false,countryPrefix:null,countryPrefixId:null,triggerChangeHidden:false,utilsScript:"/v2/lib/intl-tel-input/js/utils.js",errorTemplate:"<p class=\"input-error\">{{error}}</p>",onValid:null,onNotValid:null,},_validHandlers:[],_notValidHandlers:[],init:function(visibleInput,hiddenInput,options){if(options){this.options=jQuery.extend(this.options,options);}
if(this.options.errors){this.setErrorsText(this.options.errors);}
this.$input=jQuery(visibleInput,this.container);if(hiddenInput){this.$hiddenInput=jQuery(hiddenInput,this.container);}
if(this.options.onValid){this.onValid(this.options.onValid);}
if(this.options.onNotValid){this.onNotValid(this.options.onNotValid);}
this.initPhoneInput();},_getInitialCountyByPrefix:function(prefix){var initialCountry=null;if(prefix&&window.intlTelInputGlobals){var countryData=window.intlTelInputGlobals.getCountryData();prefix=String(prefix).replace(/^\D+/g,'');for(var i=0;i<countryData.length;i++){var ccountry=countryData[i];if(ccountry&&ccountry.dialCode===prefix){initialCountry=ccountry.iso2;}}}
return this._rewriteCountryPrefix(initialCountry);},_getAllowedCountriesByPrefix:function(prefix){var countries=[];if(prefix&&window.intlTelInputGlobals){var countryData=window.intlTelInputGlobals.getCountryData();prefix=String(prefix).replace(/^\D+/g,'');for(var i=0;i<countryData.length;i++){var ccountry=countryData[i];if(ccountry&&ccountry.dialCode===prefix){countries.push(ccountry.iso2);}}}
if(!countries.length&&prefix){prefix=prefix.substring(0,prefix.length-1);countries=this._getAllowedCountriesByPrefix(prefix);}
return countries;},initPhoneInput:function(){var _this=this;var _onScriptReady=function(){window.intlTelInputGlobals.windowLoaded=true;var opts=jQuery.extend({},_this.options);var initialCountry=null;if(opts.countryPrefixId){opts.countryPrefixId=_this._rewriteCountryPrefix(opts.countryPrefixId);}
if(opts.countryPrefixId){opts.initialCountry=String(opts.countryPrefixId).toLowerCase();}else if(opts.countryPrefix){initialCountry=_this._getInitialCountyByPrefix(opts.countryPrefix);if(initialCountry){opts.initialCountry=initialCountry;}}
if(opts.allowedPrefix){opts.onlyCountries=_this._getAllowedCountriesByPrefix(opts.countryPrefix);if(opts.countryPrefixId){opts.onlyCountries=[String(opts.countryPrefixId).toLowerCase()];}}
if(!opts.initialCountry){initialCountry=null;var companyConfig=_this.getParam('company_info',{});var initialCCountry=_this.getParam('country_phone_initial',null);var country=_this.getParam('country',null);if(initialCCountry){initialCountry=String(initialCCountry).toLowerCase();}else{if(country){initialCountry=String(country).toLowerCase();}
if(companyConfig&&companyConfig.country_id){initialCountry=String(companyConfig.country_id).toLowerCase();}}
opts.initialCountry=initialCountry;}
if(opts.onlyCountries&&opts.initialCountry){if(opts.onlyCountries.indexOf(opts.initialCountry)===-1){opts.initialCountry=opts.onlyCountries[0];}}
if(opts.initialCountry){opts.initialCountry=_this._rewriteCountryPrefix(opts.initialCountry);}
_this.iti=window.intlTelInput(_this.$input.get(0),opts);if(_this.iti&&_this.iti.promise){_this.iti.promise.then(function(){_this.$input.trigger('iti-ready');if(_this.getParam('startCheck',true)){_this._onPhoneInputChange();}});}
var inputEvents='change countrychange';if(_this.getParam('triggerChangeHidden')){inputEvents+=' keyup';}
_this.$input.on('change countrychange keyup',function(){_this._onPhoneInputChangeAlways();});_this.$input.on(inputEvents,function(){_this._onPhoneInputChange();});};if(!window.intlTelInput){jQuery.getScript("/v2/lib/intl-tel-input/js/intlTelInput.min.js",function(){_onScriptReady();});}else{_onScriptReady();}},_onPhoneInputChangeAlways:function(){var _this=this;if(!this.iti){console.warn('input not initialized');return;}
var callNext=true;jQuery.each((this.isPhoneValid()?this._validHandlers:this._notValidHandlers),function(n,handler){if(typeof handler=='function'&&callNext){var r=handler(_this.getError());if(r===false){callNext=false;}}});},_onPhoneInputChange:function(){if(!this.iti){console.warn('input not initialized');return;}
var showError=this.getParam('showError',true);var showErrorBorder=this.getParam('showErrorBorder',true);var $formGroup=this.$input.closest('.form-group');if(showErrorBorder){$formGroup.removeClass('has-error');}
if(showError){$formGroup.find('.invalid-feedback, .input-error').remove();}
var number=this.iti.getNumber();if(this.$hiddenInput){this.$hiddenInput.val(number).trigger('change');}
if(!this.isPhoneValid()){if(showError){var errorMsg=this.getError();var output=jQuery('<p class="input-error">'+Locale.get(errorMsg)+'</p>');if(this.getParam('errorTemplate')){output=jQuery(String(this.getParam('errorTemplate')).replace('{{error}}',Locale.get(errorMsg)));}
output.addClass('invalid-feedback');output.insertAfter($formGroup.find('.iti'));}
if(showErrorBorder){$formGroup.addClass('has-error');}}},getInstance:function(){return this.iti;},isPhoneValid:function(){if(this.iti){var required=this.getParam('required',true);var number=this.iti.getNumber();var isNotValid=!this.iti.isValidNumber()&&(required||(!required&&number));return!isNotValid;}
return false;},getError:function(){if(!this.isPhoneValid()&&this.iti){var errorCode=this.iti.getValidationError();var errorMsg=this.errorMap[errorCode];if(!errorMsg){errorMsg=this.errorMap[0];}
return errorMsg;}
return'';},getParam:function(paramKey,defaultValue){if(jQuery.type(this.options[paramKey])==='undefined'){return defaultValue;}
return this.options[paramKey];},setErrorsText:function(errors){var _this=this;var i=0;console.trace(errors);this.errorMap=jQuery.extend(this.errorMap,errors);},setErrorText:function(n,error){if(error){this.errorMap[n]=error;}},setCountry:function(id){if(this.iti){this.iti.setCountry(id);}},onValid:function(handler){this._validHandlers.push(handler);},onNotValid:function(handler){this._notValidHandlers.push(handler);},_rewriteCountryPrefix:function(prefix){if(String(prefix).toUpperCase()==='AN'){return'CW';}
return prefix;},});

var Validator=function(options){this.__construct(options);};jQuery.extend(Validator.prototype,CommonOptions.prototype,CommonLog.prototype,{options:{'event':'change','delay':0},timers:{},fieldValidators:{},fieldMap:{},currentFieldId:1,__construct:function(options){this.setOptions(options);},add:function(field,validator){var fieldObj=jQuery(field);var fieldId=fieldObj.data('vfield-id');if(!fieldId){fieldId=this.generateFieldId();fieldObj.data('vfield-id',fieldId);var instance=this;fieldObj.bind(this.getParam('event'),function(){instance.handleChange(fieldId);});this.fieldValidators[fieldId]=[];this.fieldMap[fieldId]=fieldObj;}
this.fieldValidators[fieldId].push(validator);},getFieldById:function(fieldId){return this.fieldMap[fieldId];},generateFieldId:function(){return'field_'+(this.currentFieldId++);},handleChange:function(fieldId,callback){var instance=this;if(this.timers[fieldId]){clearTimeout(this.timers[fieldId]);}
this.timers[fieldId]=setTimeout(function(){instance._validateField(fieldId);},this.getParam('delay'));},_validateField:function(fieldId,callback){var errors=[];var isValid=true;var fieldObj=this.getFieldById(fieldId);var validators=this.fieldValidators[fieldId];var deferreds=[];for(var i=0;i<validators.length;i++){var validator=validators[i];var deferred=jQuery.Deferred();(function(def){var val=fieldObj.val();if(fieldObj.is(':checkbox')){val=fieldObj.is(':checked');}
validator.validate(val,function(status){if(!status){errors=errors.concat(validator.getErrors());isValid=false;}
def.resolve();});})(deferred);deferreds.push(deferred);}
var instance=this;jQuery.when.apply(null,deferreds).done(function(){if(isValid){jQuery(instance).trigger('success',[fieldObj]);}else{jQuery(instance).trigger('error',[fieldObj,errors]);}
if(jQuery.type(callback)=='function'){callback(isValid);}});},validate:function(callback){var deferreds=[];var instance=this;for(var fieldId in this.fieldValidators){if(!this.fieldValidators.hasOwnProperty(fieldId)){continue;}
var deferred=jQuery.Deferred();(function(def){instance._validateField(fieldId,function(status){def.resolve(status);});})(deferred);deferreds.push(deferred);}
jQuery.when.apply(null,deferreds).done(function(){var results=arguments;var isValid=true;for(var i=0;i<results.length;i++){if(!results[i]){isValid=false;break;}}
if(jQuery.type(callback)=='function'){callback(isValid);}});}});

var ValidatorAbstract=function(options){this.__construct(options);};jQuery.extend(ValidatorAbstract.prototype,CommonOptions.prototype,CommonLog.prototype,{errors:[],__construct:function(options){this.setOptions(options);},validate:function(value,callback){this.errors=[];this._validate(value,callback);},_validate:function(value,callback){throw'abstract method can not be called';},getErrors:function(){return this.errors;},addError:function(err,skipFieldPrefix){if(this.getParam('field')&&!skipFieldPrefix){err=this.getParam('field')+'_'+err;}
this.errors.push(err);}});

var ValidatorRequired=function(options){this.__construct(options);};jQuery.extend(ValidatorRequired.prototype,ValidatorAbstract.prototype,{_validate:function(value,callback){if(!value){this.addError('is_required');return callback(false);}
return callback(true);}});

var ValidatorEmail=function(options){this.__construct(options);};jQuery.extend(ValidatorEmail.prototype,ValidatorAbstract.prototype,{options:{'required':false},_validate:function(value,callback){if(!value&&this.getParam('required')){this.addError('is_required');}else if(value){var regexp=/\S+@\S+\.\S+/;if(!regexp.test(value)){this.addError('invalid_characters');}}
if(this.errors.length){return callback(false);}
return callback(true);}});

var ClientForm=function(options){this.__construct(options);};jQuery.extend(ClientForm.prototype,CommonForm.prototype,ClientSoapCrypt.prototype,{_soap_crypt_data:null,options:{'form_url':'/client/manage','reset_pass_url':'/v2/client/reset-password','title':Locale.get('Add client'),'edit_title':Locale.get('Edit client')},addressContainer:null,showAddressCheckbox:null,phoneInput:null,onFormLoad:function(options){if(this.getId()){this._setTitle(this.getParam('edit_title'));}else{this._setTitle(this.getParam('title'));}
autosize(jQuery('#soap textarea'));autosize(jQuery('#soap-medical-history textarea'));this.initPhoneInput();this.showAddressCheckbox=jQuery('#show_address',this.container);this.addressContainer=jQuery('#address',this.container);var instance=this;this.showAddressCheckbox.change(function(){instance.addressContainer.toggle(jQuery(this).is(':checked'));}).change();jQuery(this.container).off('click','#reset-password');jQuery(this.container).on('click','#reset-password',function(){instance.onResetPassword();return false;});this.initMemberships();this.initSoapCryptElements();this.initSoapWarning();this.initCloudFiles();},initPhoneInput:function(){var _this=this;var visibleInput='#phonetl';var hiddenInput='#phonetlh';var companyConfig=_this.getParam('company_info',{});var country=_this.getParam('country',null);this.phoneInput=new IntlInitializer(visibleInput,hiddenInput,{'company_info':companyConfig,'country':country,'startCheck':false,'nationalMode':true,'required':this._isFieldRequired('phone')});},beforeFormSubmit:function(){if(jQuery('#encrypted_data').length&&window.soap_crypt){var subjective=jQuery('#subjective').val();var objective=jQuery('#objective').val();var assessment=jQuery('#assessment').val();var plan=jQuery('#plan').val();var medical_history=jQuery('#medical_history').val();var file=jQuery('#file').val();var file_hash=jQuery('[name=file_hash]').val();if(subjective||objective||assessment||plan||medical_history||file||file_hash){var data={subjective:subjective,objective:objective,assessment:assessment,plan:plan,medical_history:medical_history,file:file,file_hash:file_hash};this._soap_crypt_data=data;var encrypted=window.soap_crypt.encrypt(JSON.stringify(data)).toString('base64');jQuery('#subjective').val('');jQuery('#objective').val('');jQuery('#assessment').val('');jQuery('#plan').val('');jQuery('#medical_history').val('');jQuery('#file').val('');jQuery('#encrypted_data').val(encrypted);jQuery('#plugin_soap_crypt_key_id').val(window.soap_public_key_id);}}
if(jQuery('.sb-upload-private').length){jQuery('.sb-upload-private').remove();if(jQuery('input[type="file"]',this.container).length){this.submitMode='iframe';}else{this.submitMode='ajax';}}
if(jQuery('.cloud_file',this.container).length){jQuery('.cloud_file input:file',this.container).prop('disabled',true);if(jQuery('input[type="file"]:enabled',this.container).length){this.submitMode='iframe';}else{this.submitMode='ajax';}}},initSoapWarning:function(){if(jQuery('#encrypted_data').length){if(window.soap_crypt){jQuery('.sb-public-warning').hide();}else{jQuery('.sb-public-warning').show();jQuery('#subjective,#objective,#assessment,#plan,#medical_history').attr({readonly:true});jQuery('#file').parent().find('input:file').attr({readonly:true});}}},getSoapEncryptedDataContainer:function(){return jQuery('#encrypted_data');},initCloudFiles:function(){var _this=this;var clientId=this.getId();var csrfToken=this.getParam('csrf_token');jQuery('.cloud_file',this.container).each(function(){var hashInput=jQuery('.sb-filehash',this);var filenameInput=jQuery('.sb-filename',this);var filenameDisplay=jQuery('.sb-filename-display',this);var fileInput=jQuery('input:file',this);var fileDelete=jQuery('.sb-filedelete',this);var shareLink=jQuery('.sb-sharelink',this);var spiner=jQuery('.file-upload__spinner',this);fileInput.on('change',function(){var file=this.files[0];if(file){if(parseInt(file.size)>Config.getMaxFileSize()){alert(Locale.get('File size is too large'));fileInput.val('');return;}
var form_data=new FormData();form_data.append('file',file);form_data.append('_csrf_token',csrfToken);if(clientId){form_data.append('client_id',clientId);if(filenameInput.attr('name')=='file'){form_data.append('soap',1);}}
_this._showLoader();spiner.addClass('in');jQuery.ajax({url:"/v2/ext/cloud-storage/upload",dataType:'json',cache:false,contentType:false,processData:false,data:form_data,type:'post',success:function(response){_this._hideLoader();spiner.removeClass('in');if(response&&response.success){spiner.closest('.file-upload__wrapper').addClass('selected');var hash=response.hash;hashInput.val(hash);filenameInput.val(file.name);filenameDisplay.text(file.name);fileInput.val('');shareLink.text('');}else{spiner.closest('.file-upload__wrapper').removeClass('selected');var errors=response.errors?response.errors.map(function(error){return Locale.get(error);}).join(' '):Locale.get(response.error);alert(errors);fileInput.val('');}},error:function(err){_this._hideLoader();spiner.removeClass('in');spiner.closest('.file-upload__wrapper').removeClass('selected');console.log(err);}});}});fileDelete.on('click',function(){hashInput.val(null);filenameInput.val('');filenameDisplay.text('');fileInput.val('');shareLink.text('');spiner.closest('.file-upload__wrapper').removeClass('selected');});});},initMemberships:function(){var instance=this;if(this.getId()&&Config.getPluginStatus('membership')&&typeof window['clientMembershipsOptions']!=='undefined'){this.clientMembershipOpts=window['clientMembershipsOptions'];this.clientMembershipForm=new AttachClientMembershipForm({client_id:this.getId(),memberships:this.clientMembershipOpts.memberships});jQuery("#attach_membership_form").click(function(){instance.clientMembershipForm.showForm();});jQuery(instance.clientMembershipForm).bind('handleResult',function(event,result){instance.showForm({'tab':'memberships'});});this.membershipsListEvents();}},membershipsListEvents:function(){var instance=this;jQuery('.cancel_membership_btn').click(function(){var paymentId=jQuery(this).data('payment-id');var dialog=new DialogConfirm({'title':Locale.get('are_you_sure_delete_current_title'),'body':Locale.get('are_you_sure_delete_current_body'),'success_callback':function(){instance.cancelMemebership(paymentId);}});dialog.show();});jQuery('.confirm_membership_btn').click(function(){var paymentId=jQuery(this).data('payment-id');if(paymentId){var url='/v2/ext/membership-api/set-payment-status';var data={payment_id:paymentId,status:'paid'};jQuery.post(url,data,function(){if(typeof instance!=='undefined'){instance.showForm({'tab':'memberships'});}});}});jQuery('#membership_form_pager .page_link').click(function(){var page=jQuery(this).data('page');instance.showForm({'tab':'memberships','memberships_on_page':instance.clientMembershipOpts.membershipPagerOnPage,'memberships_page':page});return false;});jQuery('#membership_form_pager .onpage-count select').change(function(){var onPageCount=jQuery(this).val();instance.showForm({'tab':'memberships','memberships_on_page':onPageCount,'memberships_page':instance.clientMembershipOpts.membershipPagerPage});return false;});},cancelMemebership:function(paymentId){var instance=this;if(paymentId){var url='/v2/client/cancel-membership-payment/payment-id/'+paymentId;jQuery.get(url,function(){instance.showForm({'tab':'memberships'});});}},_getUrl:function(options){var url=this.getParam('form_url');var appendStr='?';if(options&&options.show_soap){url+=appendStr+'soap=1';appendStr='&';}
if(options&&options.view_booking){url+=appendStr+'view_booking=1';appendStr='&';}
if(this.getId()){url+=appendStr+'id='+this.getId();appendStr='&';}
if(options&&options.tab){url+=appendStr+'show_tab='+options.tab;appendStr='&';}
if(options&&options.memberships_on_page){url+=appendStr+'memberships_on_page='+options.memberships_on_page;appendStr='&';}
if(options&&options.memberships_page){url+=appendStr+'memberships_page='+options.memberships_page;appendStr='&';}
return url;},beforeHandleResult:function(result){if(result.success){jQuery(this).trigger('clientUpdated',[parseInt(result.result)]);}else{if(this._soap_crypt_data){console.log(this._soap_crypt_data);jQuery('#subjective').val(this._soap_crypt_data.subjective);jQuery('#objective').val(this._soap_crypt_data.objective);jQuery('#assessment').val(this._soap_crypt_data.assessment);jQuery('#plan').val(this._soap_crypt_data.plan);jQuery('#medical_history').val(this._soap_crypt_data.medical_history);jQuery('#file').val(this._soap_crypt_data.file);jQuery('[name=file_hash]').val(this._soap_crypt_data.file_hash);}}
if(jQuery('.cloud_file',this.container).length){jQuery('.cloud_file input:file',this.container).prop('disabled',false);}
this._soap_crypt_data=null;},onResetPassword:function(){var _this=this;var id=this.getId();var url=this.getParam('reset_pass_url');url+='?rowKey='+id+'&_csrf_token='+this.getParam('csrf_token');var a=new DialogConfirm({'title':Locale.get('are_you_sure_reset_password_title'),'body':Locale.get('are_you_sure_reset_password_body'),'cancel_btn':Locale.get('Cancel'),'ok_btn':Locale.get('Yes'),'success_callback':function(){jQuery.getJSON(url,function(res){var node=_this.container.find('#reset-password').parent();node.find('.messages').remove();if(res.message){node.append('<div class="alert alert-success messages">'+res.message+'</div>');}else{node.append('<div class="alert alert-danger messages">'+Locale.get('reset_password_error')+'</div>');}})}});a.show();},_getReqiredFields:function(){var requiredFields=this.getParam('require_fields');if(requiredFields){return requiredFields;}else{requiredFields=Config.getParam('require_fields');if(!requiredFields){requiredFields=Config.getParam('client_require_fields');}
this.setParam('require_fields',requiredFields);return requiredFields;}},_isFieldRequired:function(field){var requiredFields=this._getReqiredFields();if(requiredFields){requiredFields=requiredFields.split('_');}
if(requiredFields&&Config.getPluginStatus('client_login')){var isPhoneRequired=!!parseInt(Config.getParam('client_login_require_phone'));if(isPhoneRequired){requiredFields.push('phone');}else{requiredFields=['email'];}}
return requiredFields&&field&&requiredFields.indexOf(field)>=0;},_isFormValid:function(){var res={"success":false,"form_errors":["Please fix the following input errors"],"errors":{}};var validators={"name":[new ValidatorRequired({'field':'name'})],"email":[new ValidatorEmail({'required':this._isFieldRequired('email'),'field':'email'})],};var data={};var formItems=jQuery('form',this.container).serializeArray();jQuery.each(formItems,function(n,item){data[item.name]=item.value;res.errors[item.name]=[];});jQuery.each(validators,function(key,validatorArr){jQuery.each(validatorArr,function(n,validator){validator.validate(data[key],function(isValid){if(!isValid){if(!res.errors[key]){res.errors[key]=[];}
jQuery.each(validator.getErrors(),function(nn,error){res.errors[key].push(Locale.get(error));});}});});});if(this.phoneInput&&!this.phoneInput.isPhoneValid()){res.errors['phone']=[this.phoneInput.getError()];res.errors['phonetlh']=[this.phoneInput.getError()];this._handleResult(res);return false;}
return true;},_submitIframe:function(){if(!this._isFormValid()){return false;}
CommonForm.prototype._submitIframe.call(this,arguments);},_submitAjax:function(){if(!this._isFormValid()){return false;}
CommonForm.prototype._submitAjax.call(this,arguments);}});

var InterfaceBooking=function(options){this.__construct(options);};jQuery.extend(InterfaceBooking.prototype,CommonInterface.prototype,{bookingForm:null,infoForm:null,model:null,pluginStatus:{},plugins:{},init:function(){this.pluginStatus=this.getParam('plugins');this.initModel();this.initBookingForm();this.initCommonPlugins();},initModel:function(){},initBookingForm:function(){this.infoForm=new DashboardBookingInfoForm({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list'),'location_list':this.getParam('location_list'),'category_list':this.getParam('category_list'),'unit_map':this.getParam('unit_map'),'csrf_token':this.getParam('csrf_token'),'company_info':this.getParam('company_info'),'country':this.getParam('country'),'phone_code':this.getParam('phone_code'),});this.bookingForm=this.infoForm.getBookingForm();},initCommonPlugins:function(){if(this.pluginStatus.event_field){this.plugins['event_field']=new DashboardPluginAdditionalFields(this.getPluginDefaultOptions());}
if(this.pluginStatus.group_booking){this.plugins['group_booking']=new DashboardPluginGroupBooking(jQuery.extend({},this.getPluginDefaultOptions(),{'unit_list':this.getParam('unit_list'),'max_group_bookings':this.getParam('max_group_bookings'),'min_group_bookings':this.getParam('min_group_bookings')}));}
if(this.pluginStatus.location){this.plugins['location']=new DashboardPluginLocation(jQuery.extend({},this.getPluginDefaultOptions(),{'location_list':this.getParam('location_list')}));}
if(this.pluginStatus.event_category){this.plugins['event_category']=new DashboardPluginEventCategory(jQuery.extend({},this.getPluginDefaultOptions(),{'category_list':this.getParam('category_list')}));}
if(this.pluginStatus.status){this.plugins['status']=new DashboardPluginStatus(jQuery.extend({},this.getPluginDefaultOptions(),{'statuses':this.getParam('statuses')}));}
if(this.pluginStatus.approve_booking){this.plugins['approve_booking']=new DashboardPluginApproveBooking(this.getPluginDefaultOptions());}
if(this.pluginStatus.product){this.plugins['product']=new DashboardPluginProduct(this.getPluginDefaultOptions());}
if(this.pluginStatus.paid_attributes){this.plugins['paid_attributes']=new DashboardPluginPaidAttributes(this.getPluginDefaultOptions());}
if(this.pluginStatus.membership){this.plugins['membership']=new DashboardPluginMembership(this.getPluginDefaultOptions());}},initSchedulerPlugins:function(){if(this.pluginStatus.limit_bookings){this.plugins['limit_bookings']=new DashboardPluginLimitBookings(this.getPluginDefaultOptions());}
if(this.pluginStatus.unit_colors){this.plugins['unit_colors']=new DashboardPluginUnitColor(jQuery.extend({},this.getPluginDefaultOptions(),{'unit_list':this.getParam('unit_list'),'use_dots':!!this.pluginStatus.status}));}
if(this.pluginStatus.tickets){this.plugins['tickets']=new DashboardPluginTickets(jQuery.extend({},this.getPluginDefaultOptions(),{}));}
if(this.pluginStatus.paid_events){this.plugins['paid_events']=new DashboardPluginPaidEvents(this.getPluginDefaultOptions());}
if(this.pluginStatus.pos){this.plugins['pos']=new DashboardPluginPos(this.getPluginDefaultOptions());}
if(this.pluginStatus.classes){this.plugins['classes']=new DashboardPluginClasses(this.getPluginDefaultOptions());}
if(this.pluginStatus.google_calendar_export){this.plugins['google_calendar_export']=new DashboardPluginGoogleBusyTime(jQuery.extend({},this.getPluginDefaultOptions(),{'available_units':this.getParam('available_units')}));}
this.plugins['auto_refresh']=new DashboardPluginAutorefresh(jQuery.extend({},this.getPluginDefaultOptions(),{'interval':this.getParam('update_interval')}));this.plugins['print_pdf']=new DashboardPluginPrintPdf(this.getPluginDefaultOptions());},getBookingForm:function(){return this.bookingForm;},getInfoForm:function(){return this.infoForm;},getPluginDefaultOptions:function(){return{'view':this,'model':this.model,'info_form':this.getInfoForm(),'booking_form':this.getBookingForm(),'csrf_token':this.getParam('csrf_token')};},showInfoForm:function(id){this.infoForm.setId(id);this.infoForm.showForm();},showBookingForm:function(id){this.bookingForm.setId(id);this.bookingForm.showForm();}});

var DashboardBookingCancelForm=function(options){this.__construct(options);};jQuery.extend(DashboardBookingCancelForm.prototype,CommonForm.prototype,{options:{'width':450,'title':Locale.get('Confirm cancelation'),'save_button_title':Locale.get('Confirm'),'success_message':false,'form_url':'/index/cancel-booking/'}});

var DashboardBookingCommentForm=function(options){this.__construct(options);};jQuery.extend(DashboardBookingCommentForm.prototype,CommonForm.prototype,{options:{'width':650,'title':Locale.get('Booking comment'),'form_url':'/index/comment-booking/'},onFormLoad:function(){setTimeout(function(){jQuery('#comment').focus();},150);}});

var ExcelExport=function(options){this.__construct(options);};jQuery.extend(ExcelExport.prototype,{exportToExcel:function(exportUrl,data,exportBtnSpan,csrfToken){var _this=this;jQuery.getJSON(exportUrl+'?'+data,function(result){if(result.success){var successText=result.isStartNewExport?'export_report_data_new_success':'export_report_data_success';_this.notify({type:'success',text:Locale.get(successText)});exportBtnSpan.addClass('toolbar-action-loader').find('span').removeClass('fa-download').addClass('fa-spinner').addClass('fa-spin');var intervalId=null;var exportReportDataId=result.exportReportDataId;var isExportProcessFinishedUrl='/v2/rest/export/is-process-finished'+'?'+jQuery.param({id:exportReportDataId,_csrf:csrfToken,});var intervalFunction=function(intervalTime){if(intervalId){clearInterval(intervalId);}
intervalId=setInterval(function(){jQuery.getJSON(isExportProcessFinishedUrl,function(result){if(result.success){clearInterval(intervalId);exportBtnSpan.removeClass('toolbar-action-loader').find('span').addClass('fa-download').removeClass('fa-spinner').removeClass('fa-spin');window.location='/v2/rest/export/download'+'?'+jQuery.param({id:exportReportDataId,_csrf:csrfToken,redirect_url:window.location.href,})}else{if(intervalTime<5000){intervalTime+=2000;intervalFunction(intervalTime);}}}).fail(function(xhr){clearInterval(intervalId);exportBtnSpan.removeClass('toolbar-action-loader').find('span').addClass('fa-download').removeClass('fa-spinner').removeClass('fa-spin');_this.notify({type:'danger',text:Locale.get(xhr.responseJSON.error)});});},intervalTime);};intervalFunction(1000);}else{_this.notify({type:'danger',text:Locale.get(result.hasOwnProperty('customErrorMessage')?result.customErrorMessage:'export_report_data_error')});}});},notify:function(options){var node=Message.showMessage(options.text,options.type,null,5000);var html=jQuery('html');var visibleTop=html.scrollTop();var visibleHeight=window.clientHeight;var parentTop=jQuery(node).offset().top;var additionalValue=jQuery('.sb-page-header').outerHeight();if(parentTop<visibleTop||parentTop>visibleTop+visibleHeight){html.animate({scrollTop:parentTop-additionalValue},'slow');}},});

var DashboardBookingReportForm=function(options){this.__construct(options);};DashboardBookingReportForm.prototype.parent=CommonForm.prototype;jQuery.extend(DashboardBookingReportForm.prototype,CommonForm.prototype,ExcelExport.prototype,{options:{'form_url':'/report/client-details/','export_url':'/v2/report/client-details/export/excel/id/','title':Locale.get('Client report'),'custom_class':'modal-xl'},groupBy:null,initFooter:function(){this.footer=jQuery('<div class="modal-footer"></div>');this.cancelButton=this.createButton(Locale.get('Close'),'btn-link');this.exportButton=jQuery('<button type="button" class="btn btn-primary">'+Locale.get('Export to excel')+'</button>');this.exportButton.append('<span class="fa fa-download ml-2"></span>');this.loader=jQuery('<div class="loader"></div>').hide();this.footer.append(this.cancelButton);this.footer.append(this.exportButton);this.footer.append(this.loader);jQuery('.modal-content',this.container).append(this.footer);},initFormEvents:function(){var _this=this;this.exportButton.click(function(){if(jQuery('.modal-client-report-table tbody tr').length){_this.exportToExcel(_this.getParam('export_url')+_this.getId(),'',jQuery(this),_this.getParam('csrf_token'));}else{_this.notify({type:'danger',text:Locale.get('export_report_empty_data'),});}});},setGroupBy:function(groupBy){this.groupBy=groupBy;},_getUrl:function(options){var url=this.parent._getUrl.apply(this,[options]);if(this.groupBy){url+='&group_by='+this.groupBy;}
return url;},onFormLoad:function(options){this.container.addClass('modal-client-report-table');function responsiveClientPopup(){window_h=jQuery(window).height();modal_client=jQuery('.modal-client-report-table .modal-dialog');modal_h=jQuery(modal_client).height();if(window_h<modal_h){jQuery(modal_client).addClass('make-respons').css({'maxHeight':(window_h-60)});}
if(jQuery(window).width()<576){jQuery(modal_client).addClass('make-respons').css({'maxHeight':(window_h-20)});}
jQuery('.modal-client-report-table').on('hidden.bs.modal',function(e){jQuery(modal_client).removeClass('make-respons');});}
responsiveClientPopup();jQuery(window).resize(function(){responsiveClientPopup();});},});

var DashboardBookingInfoForm=function(options){this.__construct(options);}
DashboardBookingInfoForm.prototype.parent=CommonForm.prototype;jQuery.extend(DashboardBookingInfoForm.prototype,CommonForm.prototype,ClientSoapCrypt.prototype,{options:{'form_url':'/dashboard/booking-info-form/','comments_url':'/dashboard/comments/client-id/','client_info_url':'/client/info/','title':Locale.get('Booking info'),'custom_class':'booking-info'},deleteButton:null,commentButton:null,bookingButton:null,rebookButton:null,clientReportButton:null,deleteForm:null,commentForm:null,bookingForm:null,reportForm:null,clientForm:null,commentsContainer:null,loadCommentsButton:null,initFooter:function(){this.footer=jQuery('<div class="modal-footer"></div>');this.cancelButton=this.createButton(Locale.get('Close'),'btn-link');this.deleteButton=this.createButton(Locale.get('Cancel booking'),'btn-danger');this.bookingButton=this.createButton(Locale.get('Edit'),'btn-info');this.rebookButton=this.createButton(Locale.get('Rebook'),'btn-info');this.clientReportButton=this.createButton(Locale.get('Client report'),'btn-info');this.loader=jQuery('<div class="loader"></div>').hide();this.footer.append(this.cancelButton);this.footer.append(this.deleteButton);this.footer.append(this.bookingButton);this.footer.append(this.rebookButton);this.footer.append(this.clientReportButton);this.footer.append(this.loader);jQuery('.modal-content',this.container).append(this.footer);},initForm:function(){this.reportForm=new DashboardBookingReportForm({'csrf_token':this.getParam('csrf_token'),});this.deleteForm=new DashboardBookingCancelForm();this.commentForm=new DashboardBookingCommentForm();this.bookingForm=this.getParam('edit_form');if(!this.bookingForm){this.bookingForm=new DashboardBookingForm({'model':new DashboardBookingFormModel({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list'),'location_list':this.getParam('location_list'),'category_list':this.getParam('category_list'),'unit_map':this.getParam('unit_map'),}),'csrf_token':this.getParam('csrf_token'),'company_info':this.getParam('company_info'),'country':this.getParam('country'),'phone_code':this.getParam('phone_code'),});}
this.clientForm=new ClientForm({'csrf_token':this.getParam('csrf_token'),'company_info':this.getParam('company_info'),'country':this.getParam('country'),'phone_code':this.getParam('phone_code'),});},getBookingForm:function(){return this.bookingForm;},initFormEvents:function(){var instance=this;this.deleteButton.click(function(){if(jQuery(this).hasClass('disabled')){return;}
instance.deleteForm.setId(instance.getId());instance.deleteForm.showForm();});jQuery(this.deleteForm).bind('handleResult',function(event,result){if(result.success){instance.notifyBookingsDeleted(result.result);instance.hideForm();}});jQuery(this.container).on('click','#add_comment_book_info',function(){instance.commentForm.setId(instance.getId());instance.commentForm.showForm();});this.bookingButton.click(function(){if(jQuery(this).hasClass('disabled')){return;}
instance.bookingForm.setIsNewBooking(false);instance.bookingForm.setBookingId(instance.getId());instance.bookingForm.setId(instance.getId());instance.bookingForm.setAddMoreBookingId(null);jQuery(instance.bookingForm).one('formShown',function(){instance.hideForm();instance._hideLoader();});instance.bookingForm.showForm({},true);instance._showLoader();});this.rebookButton.click(function(){instance.bookingForm.setIsNewBooking(true);instance.bookingForm.setAddMoreBookingId(instance.getId());instance.bookingForm.setId(null);instance.bookingForm.setBookingId(null);jQuery(instance.bookingForm).one('formShown',function(){instance.hideForm();instance._hideLoader();});instance.bookingForm.showForm({},true);instance._showLoader();});this.clientReportButton.click(function(){instance.reportForm.setId(instance._getClientId());instance.reportForm.showForm();});jQuery(this.clientForm).bind('clientUpdated',function(event,clientId){instance.updateClientInfo();});},initFormElementEvents:function(){var instance=this;jQuery(this.container).delegate('#edit_client','click',function(){instance.clientForm.setId(instance._getClientId());instance.clientForm.showForm();});jQuery(this.container).delegate('#edit_soap','click',function(){instance.clientForm.setId(instance._getClientId());instance.clientForm.showForm({'show_soap':true});});},updateClientInfo:function(){var instance=this;this.clientInfoContainer.load(this.getParam('client_info_url'),{'id':this._getClientId(),'view_booking':true},function(){instance.initSoapCryptElements();});},onFormLoad:function(options){this.commentsContainer=jQuery('#comment_list',this.container);this.loadCommentsButton=jQuery('#load_comments',this.container);this.clientInfoContainer=jQuery('#view-client-info',this.container);var clientId=this._getClientId();var instance=this;this.loadCommentsButton.click(function(){instance.commentsContainer.load(instance.getParam('comments_url')+clientId);});if(!clientId){this.loadCommentsButton.hide();this.clientReportButton.hide();}else{this.clientReportButton.show();}
this.bookingButton.removeClass('disabled');this.deleteButton.removeClass('disabled');if(!jQuery('#edit_allowed',this.container).val()){this.bookingButton.addClass('disabled');this.deleteButton.addClass('disabled');}
if(jQuery('#is_google_maps_booking',this.container).val()){this.bookingButton.addClass('disabled');}
this.initFormElementEvents();this.initSoapCryptElements();jQuery(this.container).off('click','#show_all_history_list');jQuery(this.container).on('click','#show_all_history_list',function(){jQuery('.booking-history-block.long-history').toggleClass('in');return false;});},notifyBookingsDeleted:function(ids){jQuery(this).trigger('bookingsDeleted',[ids]);},updateBooking:function(){jQuery(this).trigger('bookingUpdated',[this.getId()]);},_getClientId:function(){return jQuery('#client_info_id',this.container).val();},getSoapEncryptedDataContainer:function(){return jQuery('.sb-encrypted-data',this.body);}});

var DashboardBookingFormModel=function(options){this.__construct(options);};jQuery.extend(DashboardBookingFormModel.prototype,CommonOptions.prototype,{options:{'padding':3,'working_schedule_url':'/working-time/get-start-end-time','calculate_duration_url':'/working-time/get-booking-end-time','recurring_settings_url':'/index/get-recurring-settings'},workingDaysCache:{},recurringSettingsCache:{},unitEventMap:null,unitList:{},eventList:{},locationList:{},categoryList:{},_additionalEndDateTimeParams:{},__construct:function(options){this.setOptions(options);var instance=this;var units=this.getParam('unit_list',[]);jQuery.each(units,function(idx,unit){instance.unitList[unit.id]=unit;});var events=this.getParam('event_list',[]);jQuery.each(events,function(idx,event){instance.eventList[event.id]=event;});var locations=this.getParam('location_list',[]);jQuery.each(locations,function(idx,location){instance.locationList[location.id]=location;});var categories=this.getParam('category_list',[]);jQuery.each(categories,function(idx,category){instance.categoryList[category.id]=category;});},loadWorkingDaySchedule:function(date,performerId,handler){if(this.isWorkingDayScheduleInCache(date,performerId)&&jQuery.type(handler)==='function'){handler(this.getWorkingDaySchedule(date,performerId));handler=null;}
var from=new Date(date);var to=new Date(date);var datesToLoad=[];from.setDate(from.getDate()-this.getParam('padding'));to.setDate(to.getDate()+this.getParam('padding'));while(from<=to){if(!this.isWorkingDayScheduleInCache(from,performerId)){datesToLoad.push(new Date(from));}
from.setDate(from.getDate()+1);}
if(datesToLoad.length){datesToLoad.sort(function(date1,date2){return date1-date2;});var params={'from':datesToLoad[0].getMysqlDate(),'to':datesToLoad[datesToLoad.length-1].getMysqlDate()};var instance=this;jQuery.getJSON(this.getParam('working_schedule_url'),params,function(data){instance._fillWorkingDaySchedule(data,performerId);if(jQuery.type(handler)==='function'){handler(instance.getWorkingDaySchedule(date,performerId));}});}},isWorkingDayScheduleInCache:function(date,performerId){var key=this._getWorkingDayScheduleCacheKey(date,performerId);if(jQuery.type(this.workingDaysCache[key])!=='undefined'){return true;}
return false;},getWorkingDaySchedule:function(date,performerId){if(this.isWorkingDayScheduleInCache(date,performerId)){var key=this._getWorkingDayScheduleCacheKey(date,performerId);return this.workingDaysCache[key];}
return null;},getUnitList:function(eventId,locationId){var result=[];var unitIds=[];var eventClassId=false;if(eventId){var eventInfo=this.getEvent(eventId);if(eventInfo&&eventInfo.hasOwnProperty('class_id')&&eventInfo.class_id){eventClassId=eventInfo.class_id;}
if(eventInfo&&eventInfo.hasOwnProperty('providers')){unitIds=eventInfo.providers;unitIds=unitIds.map(function(el){return""+el;});}}
var locationUnitIds=[];if(locationId){locationUnitIds=this.getLocation(locationId).units;}
var units=this.getParam('unit_list',[]);if(locationUnitIds.length){locationUnitIds=jQuery.unique(locationUnitIds);var unitObjectMap={};jQuery.each(units,function(id,unit){unitObjectMap[unit.id]=unit;});for(var i=0;i<locationUnitIds.length;i++){if(unitObjectMap[locationUnitIds[i]]){var unit=unitObjectMap[locationUnitIds[i]];if(!unitIds.length||jQuery.inArray(unit.id,unitIds)!==-1){result.push(unit);}}}}else{jQuery.each(units,function(ids,unit){if(!unitIds.length||jQuery.inArray(unit.id,unitIds)!==-1){result.push(unit);}});}
if(eventId&&!eventClassId){var result2=[];jQuery.each(result,function(n,unit){if(!unit.class_id){result2.push(unit);}});result=result2;}
if(locationId){var positions=this.getLocation(locationId).units_position;if(positions){result.sort(function(m1,m2){if(positions[m1.id]===undefined)return 999;if(positions[m2.id]===undefined)return-999;return positions[m1.id]-positions[m2.id];});}}else{result.sort(function(m1,m2){return m1.position-m2.position;});}
return result;},getEventList:function(unitId,categoryId){var result=[];var eventIds=null;if(unitId){var eventIds=this.getParam('unit_map')[unitId];if(!eventIds){return result;}}
var categoryServicesIds=[];if(categoryId){categoryServicesIds=this.getCategory(categoryId).events;if(!categoryServicesIds){categoryServicesIds=[];}
categoryServicesIds=jQuery.unique(categoryServicesIds);}
var events=this.getParam('event_list',[]);jQuery.each(events,function(ids,event){if((!eventIds||jQuery.inArray(event.id,eventIds)!==-1)&&(!categoryServicesIds.length||jQuery.inArray(event.id,categoryServicesIds)!==-1)){result.push(event);}});if(categoryId){var positions=this.getCategory(categoryId).events_position;if(positions){result.sort(function(m1,m2){if(positions[m1.id]===undefined)return 999;if(positions[m2.id]===undefined)return-999;return positions[m1.id]-positions[m2.id];});}}else{result.sort(function(m1,m2){return m1.position-m2.position;});}
return result;},getUnit:function(unitId){return this.unitList[unitId];},getEvent:function(eventId){return this.eventList[eventId];},getLocation:function(locationId){return this.locationList[locationId];},getCategory:function(categoryId){return this.categoryList[categoryId];},getUnitMap:function(eventId){var event=this.eventList[eventId];if(event&&event.unit_map){return Object.keys(event.unit_map);}
return Object.keys(this.unitList);},getEventDuration:function(eventId,unitId){var event=this.getEvent(eventId);if(event){var duration=event.duration;if(unitId&&event.unit_map&&event.unit_map[unitId]){duration=event.unit_map[unitId];}
return duration;}},getEndDateTime:function(eventId,unitId,startDateTime,handler){var data={'unit_id':unitId,'event_id':eventId,'start':startDateTime.getMysqlDateTime()};data=jQuery.extend(data,this.getAdditionalEndDateTimeParams());jQuery.getJSON(this.getParam('calculate_duration_url'),data,function(res){var result=null;if(res){result=Date.parseMysqlDate(res);}
if(jQuery.type(handler)==='function'){handler(result);}});},getAdditionalEndDateTimeParams:function(){return this._additionalEndDateTimeParams;},setAdditionalEndDateTimeParam:function(key,value){this._additionalEndDateTimeParams[key]=value;},getEventRecurringSettings:function(eventId,handler){if(jQuery.type(handler)!=='function'){return;}
if(jQuery.type(this.recurringSettingsCache[eventId])!=='undefined'){handler(this.recurringSettingsCache[eventId]);return;}
var instance=this;jQuery.getJSON(this.getParam('recurring_settings_url'),{'id':eventId},function(settings){instance.recurringSettingsCache[eventId]=settings;handler(settings);});},_getWorkingDayScheduleCacheKey:function(date,performerId){if(!performerId){performerId=0;}
return parseInt(performerId)+'_'+date.getMysqlDate();},_fillWorkingDaySchedule:function(data){for(var date in data){if(!data.hasOwnProperty(date)){continue;}
var currentData=data[date];for(var performerId in currentData){if(!currentData.hasOwnProperty(performerId)){continue;}
var key=this._getWorkingDayScheduleCacheKey(Date.parseMysqlDate(date),performerId);this.workingDaysCache[key]=data[date][performerId];}}}});

var DashboardBookingForm=function(options){this.__construct(options);};jQuery.extend(DashboardBookingForm.prototype,CommonForm.prototype,ClientSoapCrypt.prototype,{options:{'form_url':'/index/book/','client_info_url':'/client/info/','title':Locale.get('Booking form')},model:null,startDateTimePicker:null,endDateTimePicker:null,performerSelect:null,performerCombobox:null,serviceSelect:null,serviceCombobox:null,clientInput:null,clientCombobox:null,clientDataSource:null,clientInfoContainer:null,addClientButton:null,useCustomEndTime:false,useCustomRecurringSettings:false,endTimeWarning:null,clientForm:null,recurringSettingsContainer:null,isRecurringCheckbox:null,recurringModeSelect:null,repeatDaysSelect:null,repeatCountSelect:null,recurringDaysTitle:null,recurringDays:null,eventId:null,isNewBookingFlag:false,recurringBody:null,recurringInfo:null,recurringFooter:null,recurringCancelButton:null,recurringConfirmButton:null,recurringConfirmInput:null,calculatedEndDateTime:null,clientComboboxContainer:null,addMoreBookingId:null,countUpdateDurationRequest:0,initForm:function(){this.model=this.getParam('model');this.clientDataSource=new ClientDataSource();this.clientForm=new ClientForm({'csrf_token':this.getParam('csrf_token'),'company_info':this.getParam('company_info'),'country':this.getParam('country'),'phone_code':this.getParam('phone_code'),});this.initRecurringConfirmationDialog();this.initHeaderButtons();},_getUrl:function(options){var url=this.getParam('form_url');if(this.getId()){url+='?id='+this.getId();}else if(this.getAddMoreBookingId()){url+='?book-more-id='+this.getAddMoreBookingId();}
return url;},initFormEvents:function(){var instance=this;this.hideRecurringConfirmation();this.recurringCancelButton.click(function(){instance.hideRecurringConfirmation();});this.recurringConfirmButton.click(function(){instance.confirmRecurringBookings();});jQuery(this.clientForm).bind('clientUpdated',function(event,clientId){instance.clientCombobox.setValue(clientId);});},initHeaderButtons:function(){var instance=this;jQuery('<button/>').addClass('btn btn-tab calendar-form-mode').data('mode','note').text(Locale.get('Create note')).insertAfter(jQuery('.modal-title',this.header));this.modeSwitcher=jQuery('.calendar-form-mode',this.container);this.modeSwitcher.bind('click',function(){var newMode=jQuery(this).data('mode');jQuery(instance).trigger('formModeChange',[instance.getBookingId(),newMode]);});this.header.addClass('has-switch-buttons');},confirmRecurringBookings:function(){jQuery('form',this.container).append(this.recurringConfirmInput);this.submitForm();},initRecurringConfirmationDialog:function(){this.recurringBody=jQuery('<div class="modal-body"></div>');jQuery('.modal-content',this.container).append(this.recurringBody);this.recurringBody.append('<div class="container-fluid"><div class="row form-horizontal" id="recurring_info"></div></div>');this.recurringInfo=jQuery('#recurring_info',this.recurringBody);this.recurringFooter=jQuery('<div class="modal-footer"></div>');this.recurringCancelButton=this.createButton(Locale.get('Cancel'),'btn-link');this.recurringConfirmButton=this.createButton(Locale.get('Confirm'),'btn-success');this.recurringConfirmInput=jQuery('<input type="hidden" name="confirm" value="1" />');this.recurringFooter.append(this.recurringCancelButton).append(this.recurringConfirmButton);jQuery('.modal-content',this.container).append(this.recurringFooter);},onFormLoad:function(options){this.countUpdateDurationRequest=0;this.clientInfoContainer=jQuery('#client_info',this.container);this.performerSelect=jQuery('#unit_id',this.container);this.serviceSelect=jQuery('#event_id',this.container);this.addClientButton=jQuery('#new_client',this.container);this.recurringSettingsContainer=jQuery('#recurring_settings',this.container).hide();this.initRecurringSettings();this.startDateTimePicker=new UiDatetimePicker({'value_input':'#date_start','calendar_button':'#date_start_calendar','time_button':'#date_start_time','timeframe':Config.getTimeFrame()});this.endDateTimePicker=new UiDatetimePicker({'value_input':'#date_end','calendar_button':'#date_end_calendar','time_button':'#date_end_time','timeframe':Config.getTimeFrame()});this.clientInput=jQuery('#client_id',this.container);this.clientCombobox=new UiCombobox({'element':this.clientInput,'data_source':this.clientDataSource});if(options.is_new){if(options.unit_id){this.performerSelect.val(options.unit_id);}
if(options.event_id){this.serviceSelect.val(options.event_id);}
this.startDateTimePicker.setValue(options.start_date);this.useCustomEndTime=false;if(options.end_date){this.useCustomEndTime=true;this.endDateTimePicker.setValue(options.end_date);}}else if(this.clientInput.val()){this.addClientButton.hide();this.addClientButton.parent().remove();this.clientInput.parent().removeClass().addClass('col-sm-8')}
this.performerCombobox=new UiCombobox({'element':this.performerSelect});this.serviceCombobox=new UiCombobox({'element':this.serviceSelect});this.useCustomRecurringSettings=false;this.loadDateTimePickerTimes();this.updateServiceList(false);this.updatePerformerList(false);this.initFormElementEvents();if(options.is_new&&this.performerSelect.val()&&this.serviceSelect.val()){this.updateDuration(true);}
this.handleChangeTabs();this.updateClientInfo();if(this.serviceSelect.val()&&(options.is_new||this.isNewBooking())){this.updateRecurringSettings();jQuery(this).trigger('eventChange',[this.serviceSelect.val()]);}
this.initSoapCryptElements();this.initModeSwitcher();if(options.is_new||this.isNewBooking()){jQuery('.modal-title',this.header).text(Locale.get('Create booking'));}else{jQuery('.modal-title',this.header).text(Locale.get('Edit booking'));}},handleChangeTabs:function(){var instance=this;jQuery('#booking_tabs').bind('show.bs.tab',function(){instance.clientComboboxContainer=jQuery('.client-combobox-container:visible .form-group');});jQuery('#booking_tabs').bind('shown.bs.tab',function(){if(instance.clientComboboxContainer){instance.clientComboboxContainer.appendTo(jQuery('.client-combobox-container:visible'));}});},initRecurringSettings:function(){this.isRecurringCheckbox=jQuery('#is_recurring',this.container);this.recurringModeSelect=jQuery('#recurring_mode',this.container);this.repeatDaysSelect=jQuery('#days',this.container);this.repeatCountSelect=jQuery('#repeat_count',this.container);this.recurringDays=jQuery('#recurring_days',this.container).hide();this.recurringDaysTitle=jQuery('#recurring_days_title',this.container).hide();},initModeSwitcher:function(){var instance=this;if(jQuery('form',this.container).data('show-form-mode-buttons')&&!this.addMoreBookingId){jQuery('.calendar-form-mode',this.container).show();}else{jQuery('.calendar-form-mode',this.container).hide();}},initFormElementEvents:function(){var instance=this;this.performerSelect.change(function(){instance.updateServiceList(false);instance.updateDuration(true);jQuery(instance).trigger('unitChange',[instance.performerSelect.val()]);});this.serviceSelect.change(function(){instance.updatePerformerList(false);instance.updateDuration(true);instance.updateRecurringSettings();jQuery(instance).trigger('eventChange',[instance.serviceSelect.val()]);});this.clientInput.change(function(){instance.updateClientInfo();jQuery(instance).trigger('clientChange',[instance.clientInput.val()]);});jQuery(this.startDateTimePicker).bind('change',function(){instance.updateDuration(true);});jQuery(this.startDateTimePicker).bind('changeDate',function(){jQuery(instance).trigger('startDateChange',[instance.startDateTimePicker.getValue()]);});jQuery(this.endDateTimePicker).bind('change',function(){instance.useCustomEndTime=true;instance.loadDateTimePickerTimes();if(instance.calculatedEndDateTime){instance.updateEndTime(instance.calculatedEndDateTime);}else{instance.updateDuration(true);}});this.addClientButton.click(function(){instance.clientForm.setId(null);instance.clientForm.showForm();});this.isRecurringCheckbox.change(function(event){instance.recurringSettingsContainer.toggle(jQuery(this).is(':checked'));if(event.originalEvent){instance.useCustomRecurringSettings=true;}
jQuery(instance).trigger('recurringChange',[jQuery(this).is(':checked')]);});jQuery(this).bind('afterHide',function(){instance.destroy();});},updateRecurringSettings:function(){var instance=this;this.model.getEventRecurringSettings(this.serviceSelect.val(),function(data){instance.resetRecurringSettings();if(data&&parseInt(data.is_recurring)===1){instance.recurringDays.hide();instance.recurringDaysTitle.show();instance.isRecurringCheckbox.prop('checked',true);instance.recurringModeSelect.val(data.mode);instance.repeatCountSelect.val(data.repeat_count);jQuery('.control-label',instance.recurringDaysTitle).text(data.repeat_text);}else if(!instance.useCustomRecurringSettings){instance.isRecurringCheckbox.prop('checked',false);}
instance.isRecurringCheckbox.change();});},resetRecurringSettings:function(){this.recurringDays.show();this.recurringDaysTitle.hide();this.recurringModeSelect.val('skip');this.repeatDaysSelect.val('7');this.repeatCountSelect.val('1');},updateClientInfo:function(){var instance=this;if(this.clientInput.val()){this.clientInfoContainer.load(this.getParam('client_info_url'),{'id':this.clientInput.val(),'booking_id':this.getId()},function(){jQuery('#edit_client',instance.container).click(function(){instance.clientForm.setId(instance.clientInput.val());instance.clientForm.showForm();});jQuery('#edit_soap',instance.container).click(function(){instance.clientForm.setId(instance.clientInput.val());instance.clientForm.showForm({'show_soap':true});});instance.initSoapCryptElements();});}else{this.clientInfoContainer.empty();}},updateDuration:function(loadTimePickerTimes){var duration=this.model.getEventDuration(this.serviceSelect.val(),this.performerSelect.val());jQuery('#duration').text(duration);if(this.serviceSelect.val()){this.saveButton.attr('disabled',true);this.countUpdateDurationRequest++;var instance=this;this.model.getEndDateTime(this.serviceSelect.val(),this.performerSelect.val(),this.startDateTimePicker.getValue(),function(endDateTime){instance.countUpdateDurationRequest--;if(instance.countUpdateDurationRequest===0){instance.saveButton.attr('disabled',false);}
if(endDateTime){instance.calculatedEndDateTime=new Date(endDateTime);instance.updateEndTime(endDateTime);}else{instance.updateEndTime(new Date(instance.startDateTimePicker.getValue()));}
if(loadTimePickerTimes){instance.loadDateTimePickerTimes();}});}},updateEndTime:function(endDateTime){this.hideEndTimeWarning();if(this.useCustomEndTime){if(endDateTime.getMysqlDateTime()!=this.endDateTimePicker.getValue().getMysqlDateTime()){this.showEndTimeWarning();}}else if(!this.useCustomEndTime){this.hideEndTimeWarning();this.endDateTimePicker.setValue(endDateTime);}},updateServiceList:function(categoryId){if(categoryId===false){categoryId=this._selectedCategoryId;}else if(this._selectedCategoryId!==false){this._selectedCategoryId=categoryId;}
var performerId=this.performerSelect.val();var serviceId=this.serviceSelect.val();var services=this.model.getEventList(performerId,categoryId);this.serviceSelect.empty();this.serviceSelect.append('<option />');for(var i=0;i<services.length;i++){this.serviceSelect.append(jQuery('<option />',{'value':services[i].id}).text(services[i].name));}
this.serviceCombobox.initDefaultDataSource();this.serviceSelect.val(serviceId);this.serviceCombobox._setValue(serviceId,false);},updatePerformerList:function(locationId){if(locationId===false){locationId=this._selectedLocationId;}else if(this._selectedLocationId!==false){this._selectedLocationId=locationId;}
var performerId=this.performerSelect.val();var serviceId=this.serviceSelect.val();var performers=this.model.getUnitList(serviceId,locationId);this.performerSelect.empty();this.performerSelect.append('<option />');for(var i=0;i<performers.length;i++){this.performerSelect.append(jQuery('<option />',{'value':performers[i].id}).text(performers[i].name));}
this.performerCombobox.initDefaultDataSource();this.performerSelect.val(performerId);this.performerCombobox._setValue(performerId,false);},showEndTimeWarning:function(){var message='<div>'+Locale.get('Event duration not equal to selected duration')+'</div>'+'<div><a href="javascript:;" class="cancel-custom-time">'+Locale.get('Click here')+'</a> '+'<span>'+Locale.get('to use default duration')+'</span>';this.endTimeWarning=Message.showWarning(message);var instance=this;jQuery('.cancel-custom-time',this.endTimeWarning).click(function(){instance.useCustomEndTime=false;instance.updateDuration(true);});},hideEndTimeWarning:function(){if(this.endTimeWarning){this.endTimeWarning.remove();this.endTimeWarning=null;}},loadDateTimePickerTimes:function(){var instance=this;this._updateDateTimePicker(this.startDateTimePicker,0,function(data){if(instance.startDateTimePicker.getValue()&&instance.endDateTimePicker.getValue()&&instance.startDateTimePicker.getValue().getFormattedDate()==instance.endDateTimePicker.getValue().getFormattedDate()){instance._setAvailableTime(instance.endDateTimePicker,data.start_time,data.end_time,Config.getTimeFrame());}else{instance._updateDateTimePicker(instance.endDateTimePicker,Config.getTimeFrame());}});},_setAvailableTime:function(timePicker,start,end,correction){var startObj=new Time(start);var endObj=new Time(end);if(correction){startObj.parseFromInteger(startObj.getInteger()+correction);endObj.parseFromInteger(endObj.getInteger()+correction);}
timePicker.setAvailableTime(startObj,endObj);},setBookingId:function(bookingId){this.bookingId=bookingId;},getBookingId:function(){return this.bookingId;},setIsNewBooking:function(isNew){this.isNewBookingFlag=isNew;},isNewBooking:function(){return this.isNewBookingFlag;},showRecurringConfirmation:function(dates){this.body.hide();this.footer.hide();this.recurringBody.show();this.recurringFooter.show();this.recurringInfo.empty();if(this.clientInput.val()){var instance=this;this.clientDataSource.getItem(this.clientInput.val(),function(data){var clientInfoNode=jQuery('<div class="col-sm-4 control-label">'+Locale.get('Client')+':</div>'+'<div class="col-sm-8 control-info">'+'<div>'+data.name.escape()+'</div>'+'</div>');if(data.email){clientInfoNode.filter('.control-info').append('<div><abbr title="'+Locale.get('Email')+'">E:</abbr> <a href="mailto:'+data.email.escape()+'">'+data.email.escape()+'</a></div>');}
if(data.phone&&data.phone!='0'){clientInfoNode.filter('.control-info').append('<div><abbr title="'+Locale.get('Phone')+'">P:</abbr> <a href="tel:'+data.phone.escape()+'">'+data.phone.escape()+'</a></div>');}
instance.recurringInfo.prepend(clientInfoNode);});}
var event=this.model.getEvent(this.serviceSelect.val());var unit=this.model.getUnit(this.performerSelect.val());this.recurringInfo.append('<div class="col-sm-4 control-label">'+Locale.get('Service')+':</div>');this.recurringInfo.append('<div class="col-sm-8 control-info">'+event.name.escape()+'</div>');this.recurringInfo.append('<div class="col-sm-4 control-label">'+Locale.get('Performer')+':</div>');this.recurringInfo.append('<div class="col-sm-8 control-info">'+unit.name.escape()+'</div>');this.recurringInfo.append('<div class="col-sm-4 control-label">'+Locale.get('Time')+':</div>');this.recurringInfo.append('<div class="col-sm-8 control-info">'+
this.startDateTimePicker.getValue().getFormattedTime()+' - '+this.endDateTimePicker.getValue().getFormattedTime()+'</div>');this.recurringInfo.append('<div class="col-sm-4 control-label">'+Locale.get('Booking dates')+':</div>');var datesNode=jQuery('<div class="col-sm-8 control-info"></div>');for(var i=0;i<dates.length;i++){datesNode.append('<div>'+Date.parseMysqlDate(dates[i]).getFormattedDate()+'</div>');}
this.recurringInfo.append(datesNode);},hideRecurringConfirmation:function(){this.body.show();this.footer.show();this.recurringBody.hide();this.recurringFooter.hide();this.recurringConfirmInput.detach();},destroy:function(){this.startDateTimePicker.destroy();this.endDateTimePicker.destroy();this.clientCombobox.destroy();},_updateDateTimePicker:function(timePicker,correction,handler){if(timePicker.getValue()){var instance=this;timePicker.showLoader();this.model.loadWorkingDaySchedule(timePicker.getValue(),this.performerSelect.val(),function(data){timePicker.hideLoader();if(!data){return;}
instance._setAvailableTime(timePicker,data.start_time,data.end_time,correction);if(jQuery.type(handler)==='function'){handler(data);}});}},_handleResult:function(result){if(jQuery.type(result.result)!=='undefined'&&result.result.show_confirmation){this.showRecurringConfirmation(result.result.dates);this._hideLoader();}else{CommonForm.prototype._handleResult.call(this,result);if(result.success===false){var tabId=jQuery('.has-error').closest('.tab-pane').prop('id');jQuery('#booking_tabs a[href="#'+tabId+'"]',this.container).tab('show');}
this.hideRecurringConfirmation();}},_showLoader:function(){CommonForm.prototype._showLoader.apply(this);this.footer.append(this.loader);if(this.recurringFooter.is(':visible')){this.recurringFooter.append(this.loader);}
jQuery('.btn',this.recurringFooter).hide();},_hideLoader:function(){CommonForm.prototype._hideLoader.apply(this);jQuery('.btn',this.recurringFooter).show();},getSoapEncryptedDataContainer:function(){return jQuery('.sb-encrypted-data',this.body);},setAddMoreBookingId:function(bookingId){this.addMoreBookingId=bookingId;},getAddMoreBookingId:function(){return this.addMoreBookingId;},beforeFormSubmit:function(){if(jQuery('.cloud_file',this.container).length){jQuery('.cloud_file input:file',this.container).prop('disabled',true);this.submitMode='ajax';}},beforeHandleResult:function(result){if(jQuery('.cloud_file',this.container).length){jQuery('.cloud_file input:file',this.container).prop('disabled',false);}},});

var DashboardBookingConfirmationForm=function(options){this.__construct(options);};jQuery.extend(DashboardBookingConfirmationForm.prototype,CommonForm.prototype,{options:{'width':450,'title':Locale.get('Booking changes confirmation'),'save_button_title':Locale.get('Yes'),'form_url':'/index/move-booking/'},eventData:{},loadBody:function(options){this.eventData=options;var confirmationBody='<div class="messages-container"></div>'+'<div><p>'+Locale.get('Are you sure you want to change this booking?')+'</div>';this.body.html(confirmationBody);},_submitAjax:function(){var instance=this;jQuery.post(this.getParam('form_url'),this.eventData,function(data){instance._handleResult(data);},'json');}});

var DashboardPlugin=function(options){this.__construct(options);};jQuery.extend(DashboardPlugin.prototype,CommonOptions.prototype,CommonLog.prototype,{model:null,view:null,__construct:function(options){this.setOptions(options);if(options.model){this.setModel(options.model);}
if(options.view){this.setView(options.view);}
this.init();this.subscribeEvents();if(typeof scheduler!=='undefined'&&scheduler&&scheduler.attachEvent){this.subscribeCalendarEvents();}},init:function(){},subscribeEvents:function(){},subscribeCalendarEvents:function(){},setModel:function(model){this.model=model;},setView:function(view){this.view=view;},getModel:function(){return this.model;},getView:function(){return this.view;}});

var DashboardPluginAdditionalFields=function(options){this.__construct(options);};jQuery.extend(DashboardPluginAdditionalFields.prototype,DashboardPlugin.prototype,{form:null,options:{'additional_fields_url':'/ext/additional-fields/get-additional-fields'},savedValues:{},subscribeEvents:function(){this.form=this.getParam('booking_form');var instance=this;jQuery(this.form).bind('eventChange',function(event,eventId){instance._drawAdditionalFields(eventId);});jQuery(this.form).bind('formLoad',function(){instance.savedValues={};instance._initCloudFiles();});},_drawAdditionalFields:function(eventId){var instance=this;this._saveValues();jQuery('#additional_fields',this.form.container).load(this.getParam('additional_fields_url'),{'event_id':eventId},function(){instance._restoreValues();instance._initCloudFiles();});},_saveValues:function(){var instance=this;jQuery('#additional_fields input, #additional_fields select, #additional_fields textarea').each(function(){var name=jQuery(this).attr('name');if(jQuery(this).is(':checkbox')){instance.savedValues[name]=jQuery(this).is(':checked');}else{instance.savedValues[name]=jQuery(this).val();}});},_restoreValues:function(){var instance=this;jQuery('#additional_fields input, #additional_fields select, #additional_fields textarea').each(function(){var name=jQuery(this).attr('name');if(jQuery.type(instance.savedValues[name])==='undefined'){return;}
if(jQuery(this).is(':checkbox')){jQuery(this).prop('checked',instance.savedValues[name]);}else{jQuery(this).val(instance.savedValues[name]);}});},_initCloudFiles:function(){var _this=this;var shedulerId=this.form.getId();var csrfToken=this.form.getParam('csrf_token');jQuery('.cloud_file',this.form.container).each(function(){var hashInput=jQuery('.sb-filehash',this);var filenameInput=jQuery('.sb-filename',this);var filenameDisplay=jQuery('.sb-filename-display',this);var fileInput=jQuery('input:file',this);var fileDelete=jQuery('.sb-filedelete',this);var shareLink=jQuery('.sb-sharelink',this);var spiner=jQuery('.file-upload__spinner',this);fileInput.on('change',function(){var file=this.files[0];if(file){if(parseInt(file.size)>Config.getMaxFileSize()){alert(Locale.get('File size is too large'));fileInput.val('');return;}
var form_data=new FormData();form_data.append('file',file);form_data.append('_csrf_token',csrfToken);if(shedulerId)form_data.append('sheduler_id',shedulerId);_this.form._showLoader();spiner.addClass('in');jQuery.ajax({url:"/v2/ext/cloud-storage/upload",dataType:'json',cache:false,contentType:false,processData:false,data:form_data,type:'post',success:function(response){_this.form._hideLoader();spiner.removeClass('in');spiner.closest('.file-upload__wrapper').addClass('selected');if(response&&response.success){var hash=response.hash;hashInput.val(hash);filenameInput.val(file.name);filenameDisplay.text(file.name);fileInput.val('');shareLink.text('');}else{var errors=response.errors?response.errors.map(function(error){return Locale.get(error);}).join(' '):Locale.get(response.error);alert(errors);fileInput.val('');}},error:function(err){_this.form._hideLoader();spiner.removeClass('in');spiner.closest('.file-upload__wrapper').removeClass('selected');console.log(err);}});}});fileDelete.on('click',function(){hashInput.val(null);filenameInput.val('');filenameDisplay.text('');fileInput.val('');shareLink.text('');spiner.closest('.file-upload__wrapper').removeClass('selected');});});},});

var DashboardPluginGroupBooking=function(options){this.__construct(options);};jQuery.extend(DashboardPluginGroupBooking.prototype,DashboardPlugin.prototype,{form:null,groupBookingSelect:null,options:{unitId:null,eventId:null,locationId:null,isRecurring:false,min_group_bookings:1,},init:function(){this.form=this.getParam('booking_form');},subscribeEvents:function(){var instance=this;jQuery(this.form).bind('eventChange',function(event,eventId){instance.options.eventId=eventId;instance._drawGroupBooking();});jQuery(this.form).bind('unitChange',function(event,unitId){instance.options.unitId=unitId;instance._drawGroupBooking();});jQuery(this.form).bind('locationChange',function(event,locationId){instance.options.locationId=locationId;instance._drawGroupBooking();});jQuery(this.form).bind('recurringChange',function(event,isRecurring){instance.options.isRecurring=isRecurring;instance._drawGroupBooking();});jQuery(this.form).bind('afterFormLoad',function(){instance.options.eventId=this.serviceSelect.val();instance.options.unitId=this.performerSelect.val();instance.options.locationId=jQuery('#location_id',instance.form.container).val();instance.groupBookingSelect=null;instance._drawGroupBooking();});},_drawGroupBooking:function(){if(!this.groupBookingSelect){this.groupBookingSelect=jQuery('#group_booking');}
var maxQty=this._getMaxUnitQty();var groupBookings=parseInt(this.options.max_group_bookings);var minGroupBookings=parseInt(this.options.min_group_bookings);if(groupBookings>0){groupBookings=Math.min(groupBookings,maxQty);}else{groupBookings=maxQty;}
if(this.options.isRecurring){groupBookings=1;}
if(!minGroupBookings){minGroupBookings=1;}
if(minGroupBookings>groupBookings){minGroupBookings=groupBookings;}
var prevVal=this.groupBookingSelect.val();this.groupBookingSelect.empty();for(var i=minGroupBookings;i<=groupBookings;i++){this.groupBookingSelect.append(jQuery('<option />',{'value':i}).text(i));}
if(parseInt(prevVal)<=groupBookings){this.groupBookingSelect.val(prevVal);}else{this.groupBookingSelect.val(minGroupBookings);}},_getMaxUnitQty:function(){var maxQty=1;if(parseInt(this.options.unitId)){var unit=this.form.model.getUnit(this.options.unitId);maxQty=unit.qty;}else{var performers=this.form.model.getUnitList(this.options.eventId,this.options.locationId);for(var unitId in performers){if(!performers.hasOwnProperty(unitId)){continue;}
if(maxQty<parseInt(performers[unitId].qty)){maxQty=parseInt(performers[unitId].qty);}}}
return maxQty;}});

var DashboardPluginDataStatusDatasource=function(options){this.__construct(options);}
jQuery.extend(DashboardPluginDataStatusDatasource.prototype,DataSourceArray.prototype,{formatValue:function(data){return parseInt(data.id);},formatTitle:function(data){return data.name;}});

var DashboardPluginUiStatusCombobox=function(options){this.__construct(options);};jQuery.extend(DashboardPluginUiStatusCombobox.prototype,UiCombobox.prototype,{statusColor:null,defaultColor:'#ffffff',initDom:function(){UiCombobox.prototype.initDom.apply(this);this.statusColor=jQuery('<div class="status-color"></div>');this.text.after(this.statusColor);this.text.prop('readonly',true).addClass('status-combobox-title');var instance=this;jQuery(this).bind('textChanged',function(event,value){instance._changeColorById(value);});},_setValue:function(value,triggerEvent){UiCombobox.prototype._setValue.apply(this,[value,triggerEvent]);this._changeColorById(value);},_changeColorById:function(value){var color=this.defaultColor;if(value){this.dataSource.getItem(value,function(data){if(data.color){color='#'+data.color;}});}
this.statusColor.css('background-color',color);},getItem:function(data){var className='';var value=this.dataSource.formatValue(data);if(value==this.selectedValue){className='active';}
var color=this.defaultColor;if(data.color){color='#'+data.color;}
var colorNode='<span class="color-box" style="background-color: '+color+'"></span>';var result='<li class="'+className+'">'+'<a href="javascript:;" data-value="'+value+'">'+colorNode+this.dataSource.formatTitle(data).escape()+'</a>'+'</li>';return result;}});

var DashboardPluginUnitColor=function(options){this.__construct(options);};jQuery.extend(DashboardPluginUnitColor.prototype,DashboardPlugin.prototype,{colors:{},init:function(){var units=this.getParam('unit_list');for(var id in units){if(!units.hasOwnProperty(id)){continue;}
this.colors[units[id].id]=units[id].color;}},subscribeCalendarEvents:function(){var instance=this;scheduler.attachEvent('onEventRendered',function(node,event){instance._updateColors(node,event);});},_updateColors:function(node,event){var color=this.colors[event.unit_id];if(color&&color.length){if(this.getParam('use_dots')){this.view.addProviderColorDot(node,color);}else{this.view.colorizeEventNode(node,color);}}}});

var DashboardPluginStatus=function(options){this.__construct(options);};jQuery.extend(DashboardPluginStatus.prototype,DashboardPlugin.prototype,{options:{'update_status_url':'/ext/status/update/'},combobox:null,applyButton:null,datasource:null,bookingForm:null,infoForm:null,statusMap:{},defaultStatus:null,statusCache:{},init:function(){this.bookingForm=this.getParam('booking_form');this.infoForm=this.getParam('info_form');var statuses=this.getParam('statuses');this.datasource=new DashboardPluginDataStatusDatasource({'data':statuses});for(var i=0;i<statuses.length;i++){this.statusMap[parseInt(statuses[i].id)]=statuses[i];if(parseInt(statuses[i].is_default)){this.defaultStatus=statuses[i];}}},subscribeEvents:function(){var instance=this;jQuery(this.bookingForm).bind('formLoad',function(){instance.combobox=new DashboardPluginUiStatusCombobox({'data_source':instance.datasource,'element':jQuery('#status',instance.bookingForm.container)});});jQuery(this.infoForm).bind('formLoad',function(){instance.combobox=new DashboardPluginUiStatusCombobox({'data_source':instance.datasource,'element':jQuery('#pl_status',instance.infoForm.container)});instance.applyButton=jQuery('.apply-status',instance.infoForm.container);instance.applyButton.click(function(){instance.applyStatus();});});jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},subscribeCalendarEvents:function(){var instance=this;scheduler.attachEvent('onEventRendered',function(node,event){instance._updateColors(node,event);});},applyStatus:function(){var url=this.getParam('update_status_url');var data={'id':this.infoForm.getId(),'status':this.combobox.getValue(),'_csrf_token':this.getParam('csrf_token')};var instance=this;jQuery.getJSON(url,data,function(result){if(result.success){instance.statusCache[data.id]=data.status;instance.infoForm.updateBooking();Message.showSuccess(Locale.get('Status was successfully applied'),instance.infoForm.container);}else{Message.showError(result.error,instance.infoForm.container);}});},addTooltipData:function(event,fields,values){var statusId=event.status;if(jQuery.type(this.statusCache[event.id])!='undefined'){statusId=this.statusCache[event.id];}
var status=this._getStatusById(statusId);if(status){fields.push(Locale.get('Status'));values.push('<span style="background-color: #'+status.color+'" class="color-box"></span> '+status.name);}},_updateColors:function(node,event){var statusId=event.status;if(jQuery.type(this.statusCache[event.id])!='undefined'){statusId=this.statusCache[event.id];}
var status=this._getStatusById(statusId);if(status&&status.color){this.view.colorizeEventNode(node,'#'+status.color);}},_getStatusById:function(id){var result=this.statusMap[parseInt(id)];if(!result){result=this.defaultStatus;}
return result;}});

var DashboardPluginLocation=function(options){this.__construct(options);};jQuery.extend(DashboardPluginLocation.prototype,DashboardPlugin.prototype,{options:{},combobox:null,datasource:null,bookingForm:null,init:function(){this.bookingForm=this.getParam('booking_form');},subscribeEvents:function(){var instance=this;jQuery(this.bookingForm).bind('formLoad',function(){instance.combobox=new UiCombobox({'element':jQuery('#location_id',instance.bookingForm.container)});jQuery('#location_id',instance.bookingForm.container).change(function(){instance.filterUnitList(jQuery(this).val());jQuery(instance.bookingForm).trigger('locationChange',[jQuery(this).val()]);});});jQuery(this.bookingForm).bind('afterFormLoad',function(){jQuery('#location_id',instance.bookingForm.container).change();});jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},addTooltipData:function(event,fields,values){if(!event.location){return;}
fields.splice(0,0,Locale.get('Location'));values.splice(0,0,this.bookingForm.model.getLocation(event.location).title);},filterUnitList:function(locationId){this.bookingForm.updatePerformerList(locationId);}});

var DashboardPluginEventCategory=function(options){this.__construct(options);};jQuery.extend(DashboardPluginEventCategory.prototype,DashboardPlugin.prototype,{options:{},combobox:null,datasource:null,bookingForm:null,init:function(){this.bookingForm=this.getParam('booking_form');},subscribeEvents:function(){var instance=this;jQuery(this.bookingForm).bind('formLoad',function(){instance.combobox=new UiCombobox({'element':jQuery('#category_id',instance.bookingForm.container)});jQuery('#category_id',instance.bookingForm.container).change(function(){instance.filterEventList(jQuery(this).val());jQuery(instance.bookingForm).trigger('categoryChange',[jQuery(this).val()]);});});jQuery(this.bookingForm).bind('afterFormLoad',function(){jQuery('#category_id',instance.bookingForm.container).change();});jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},addTooltipData:function(event,fields,values){if(!event.event_category){return;}
var service_index=undefined;var provider_index=undefined;var location_index=undefined;for(var i=0;i<fields.length;++i){if(fields[i]==Locale.get('Service')){service_index=i;}
if(fields[i]==Locale.get('Performer')){provider_index=i;}
if(fields[i]==Locale.get('Location')){location_index=i;}}
if(location_index!==undefined){fields.splice(location_index+1,0,Locale.get('event_category'));values.splice(location_index+1,0,this.bookingForm.model.getCategory(event.event_category).name);}else if(service_index!==undefined||provider_index!==undefined){var index=Math.min(service_index===undefined?Infinity:service_index,provider_index===undefined?Infinity:provider_index);fields.splice(index,0,Locale.get('event_category'));values.splice(index,0,this.bookingForm.model.getCategory(event.event_category).name);}else{fields.push(Locale.get('event_category'));values.push(this.bookingForm.model.getCategory(event.event_category).name);}},filterEventList:function(categoryId){this.bookingForm.updateServiceList(categoryId);}});

var DashboardPluginMembership=function(options){this.__construct(options);};jQuery.extend(DashboardPluginMembership.prototype,DashboardPlugin.prototype,{form:null,options:{'membership_field_url':'/ext/membership/get-field'},savedValue:null,doNotUse:false,subscribeEvents:function(){this.form=this.getParam('booking_form');var instance=this;jQuery(this.form).bind('eventChange',function(event,eventId){instance._updateMembershipField();});jQuery(this.form).bind('clientChange',function(event,clientId){instance._updateMembershipField();});jQuery(this.form).bind('startDateChange',function(event,date){instance._updateMembershipField();});jQuery(this.form).bind('formLoad',function(){instance.savedValue=null;instance._handleCheckbox();jQuery('#group_booking',instance.form.container).change(function(){instance._updateMembershipField();});jQuery('#skip_membership',instance.form.container).change();});},_handleCheckbox:function(){var instance=this;jQuery('#skip_membership',this.form.container).change(function(){var checked=jQuery('#skip_membership',instance.form.container).is(':checked');jQuery('#client_membership_select',instance.form.container).toggle(!checked);if(checked){jQuery('#client_membership_id',instance.form.container).val('');}});},_updateMembershipField:function(){var instance=this;this._saveValue();var serviceId=this.form.serviceSelect.val();var clientId=this.form.clientInput.val();var startDate=instance.form.startDateTimePicker.getValue();if(startDate){startDate=startDate.getMysqlDate();}
var cnt=1;var groupBookingSelect=jQuery('#group_booking',this.form.container);if(groupBookingSelect&&groupBookingSelect.length){cnt=groupBookingSelect.val();}
if(!serviceId||!clientId||!startDate){jQuery('#client_membership_container',this.form.container).empty();return;}
jQuery('#client_membership_container',this.form.container).load(this.getParam('membership_field_url'),{'event_id':serviceId,'client_id':clientId,'date_start':startDate,'group_booking':cnt,'id':instance.form.getId()},function(){instance._handleCheckbox();instance._restoreValue();});},_saveValue:function(){if(jQuery('#client_membership_id',this.form.container).length){this.savedValue=jQuery('#client_membership_id',this.form.container).val();}
if(jQuery('#skip_membership',this.form.container).length){this.doNotUse=jQuery('#skip_membership',this.form.container).is(':checked');}},_restoreValue:function(){jQuery('#client_membership_id',this.form.container).val(this.savedValue);jQuery('#skip_membership',this.form.container).prop('checked',this.doNotUse).change();}});

var DashboardPluginApproveBooking=function(options){this.__construct(options);};jQuery.extend(DashboardPluginApproveBooking.prototype,DashboardPlugin.prototype,{options:{'opacity':0.5,'approve-url':'/ext/approve-booking/approve-booking/id/','cancel-url':'/ext/approve-booking/cancel-booking/id/'},form:null,approved:{},subscribeEvents:function(){var instance=this;this.form=this.getParam('info_form');jQuery(this.form).bind('formLoad',function(){instance._subscribButtonEvents();});jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},subscribeCalendarEvents:function(){var instance=this;scheduler.attachEvent('onEventRendered',function(node,event){instance._updateColors(node,event);});},addTooltipData:function(event,fields,values){if(jQuery.type(event.approve_status)!=='undefined'){if(event.batch_is_confirm==="0"){}else{fields.push(Locale.get('Booking status'));if(event.approve_status==='new'){values.push('<span class="label label-primary">'+Locale.get('New')+'</span>');}
if(event.approve_status==='approved'||(event.approve_status===null&&parseInt(event.is_confirm))){values.push('<span class="label label-success">'+Locale.get('Approved')+'</span>');}
if(event.approve_status==='canceled'||(event.approve_status===null&&!parseInt(event.is_confirm))){values.push('<span class="label label-danger">'+Locale.get('Canceled')+'</span>');}}}},_subscribButtonEvents:function(){if(!jQuery('#edit_allowed',this.form.container).val()){jQuery('.approve-btn',this.form.container).addClass('disabled');jQuery('.cancel-btn',this.form.container).addClass('disabled');}else{var instance=this;jQuery('.approve-btn',this.form.container).click(function(){instance._approve();});jQuery('.cancel-btn',this.form.container).click(function(){instance._cancel();});}},_cancel:function(){var instance=this;var url=instance.getParam('cancel-url')+instance.form.getId();instance.form._showLoader();jQuery('.approve-booking-panel .btns').hide();jQuery.getJSON(url,{'_csrf_token':instance.getParam('csrf_token')},function(result){jQuery('.approve-booking-panel .btns').show();instance.form._hideLoader();if(result.success){instance.form.notifyBookingsDeleted([instance.form.getId()]);instance._updateStatus(false);instance.form.hideForm();}else{Message.showError(result.error,instance.form.container);}});},_approve:function(){var instance=this;var url=instance.getParam('approve-url')+instance.form.getId();instance.form._showLoader();jQuery('.approve-booking-panel .btns').hide();jQuery.getJSON(url,{'_csrf_token':instance.getParam('csrf_token')},function(result){jQuery('.approve-booking-panel .btns').show();if(!result.success){Message.showError(result.error,instance.form.container);instance.form._hideLoader();}else{Message.showSuccess(result.message,instance.form.container);for(var i=0;i<result.ids.length;i++){instance.approved[result.ids[i]]=true;}
instance.form.updateBooking();instance._updateStatus(true);instance.form._hideLoader();setTimeout(function(){instance.form.showForm();},1000);}});},_updateStatus:function(approved){jQuery('.approve-booking-panel .btns').hide();var className='approved';if(!approved){className='canceled';}
jQuery('.approve-booking-panel .'+className).removeClass('hidden');},_updateColors:function(node,event){if(jQuery.type(event.approve_status)!=='undefined'&&event.approve_status==='new'){jQuery(node).removeClass('deleted');if(!this.approved[event.id]){jQuery(node).css('opacity',this.getParam('opacity',0.5));}}}});

var DashboardPluginPaidEvents=function(options){this.__construct(options);};jQuery.extend(DashboardPluginPaidEvents.prototype,DashboardPlugin.prototype,{bookingForm:null,model:null,subscribeEvents:function(){this.bookingForm=this.getParam('booking_form');this.model=this.getParam('model');var instance=this;jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});jQuery(this.bookingForm).bind('eventChange',function(e,serviceId){var event=instance.model.getEventObject(serviceId);jQuery('#make_invoice_container',instance.bookingForm.container).toggle(event&&parseFloat(event.price)>0);});jQuery(this.bookingForm).bind('formLoad',function(){jQuery('#make_invoice_container',instance.bookingForm.container).hide();jQuery('#make_invoice',instance.bookingForm.container).change(function(){jQuery('#payment_processor_container',instance.bookingForm.container).toggle(jQuery(this).is(':checked'));});jQuery('#make_invoice',instance.bookingForm.container).change();});jQuery(this.bookingForm).bind('afterFormLoad',function(){var event=instance.model.getEventObject(instance.bookingForm.serviceSelect.val());jQuery('#make_invoice_container',instance.bookingForm.container).toggle(event&&parseFloat(event.price)>0);});},subscribeCalendarEvents:function(){var instance=this;scheduler.attachEvent('onEventRendered',function(node,event){instance._updateColors(node,event);});},_updateColors:function(node,event){if(jQuery.type(event.deposit_invoice_id)!=='undefined'&&event.deposit_invoice_id){if(event.deposit_invoice_status==='paid'&&parseInt(event.deposit_invoice_payment_received)){this._updateColorsForInvoice(node,event);}else{jQuery(node).append('<div class="booking-status-line booking-paid-deposit"></div>').prop('title',Locale.get('Paid deposit')+' ('+Locale.get(event.payment_system)+')');}}else{this._updateColorsForInvoice(node,event);}},_updateColorsForInvoice:function(node,event){if(jQuery.type(event.invoice_status)!=='undefined'&&event.invoice_status){if(event.invoice_status==='paid'){if(parseInt(event.invoice_payment_received)){jQuery(node).append('<div class="booking-status-line booking-paid"></div>').prop('title',Locale.get('Paid')+' ('+Locale.get(event.payment_system)+')');}else{jQuery(node).append('<div class="booking-status-line booking-payment-pending"></div>').prop('title',Locale.get('Pending payment')+' ('+Locale.get(event.payment_system)+')');}}else{jQuery(node).append('<div class="booking-status-line booking-not-paid-yet"></div>').prop('title',Locale.get('Not paid'));}}},addTooltipData:function(event,fields,values){if(jQuery.type(event.deposit_invoice_status)!=='undefined'&&event.deposit_invoice_status){fields.push(Locale.get('Deposit payment status'));if(event.deposit_invoice_status==='paid'){if(parseInt(event.deposit_invoice_payment_received)){values.push('<span class="label label-success">'+Locale.get('Deposit paid')+'</span> '+Locale.get(event.deposit_payment_system));}else{values.push('<span class="label label-warning">'+Locale.get('Deposit pending')+'</span> '+Locale.get(event.deposit_payment_system));}}else{values.push('<span class="label label-danger">'+Locale.get('Deposit not paid')+'</span>');}}
if(jQuery.type(event.deposit_invoice_id)!=='undefined'&&event.deposit_invoice_id){fields.push(Locale.get('Deposit invoice'));values.push('<a target="_blank" href="/v2/management/#invoice-report/view/'+event.deposit_invoice_id+'">#'+event.deposit_invoice_number+'</a>');}
if(jQuery.type(event.invoice_status)!=='undefined'&&event.invoice_status){fields.push(Locale.get('Payment status'));if(event.invoice_status==='paid'){if(parseInt(event.invoice_payment_received)){values.push('<span class="label label-success">'+Locale.get('Paid')+'</span> '+Locale.get(event.payment_system));}else{values.push('<span class="label label-warning">'+Locale.get('Pending')+'</span> '+Locale.get(event.payment_system));}}else{values.push('<span class="label label-danger">'+Locale.get('Not paid')+'</span>');}}
if(jQuery.type(event.invoice_id)!=='undefined'&&event.invoice_id){fields.push(Locale.get('Invoice'));values.push('<a target="_blank" href="/v2/management/#invoice-report/view/'+event.invoice_id+'">#'+event.invoice_number+'</a>');}},});

var DashboardPluginProduct=function(options){this.__construct(options);};jQuery.extend(DashboardPluginProduct.prototype,DashboardPlugin.prototype,{options:{'product_url':'/ext/product/list/'},bookingForm:null,serviceId:null,container:'#products',type:'product',saved:null,init:function(){this.bookingForm=this.getParam('booking_form');},subscribeEvents:function(){this.saved={};var instance=this;jQuery(this.bookingForm).bind('eventChange',function(event,serviceId){instance.loadProductList(serviceId);});jQuery(this.bookingForm).bind('formLoad',function(){instance.bindChangeHandlers();});},bindChangeHandlers:function(){var form=this.bookingForm;var model=form.model;var inputs=jQuery(':input',jQuery(this.container,this.bookingForm.container));var allProductInputs=jQuery('input[name^="product_"]',this.bookingForm.container);var calculateSelectedProducts=function(){var ids=[];allProductInputs.each(function(){var $this=jQuery(this);var id=$this.attr('name').replace(/^product_/,'');if($this.is(':checkbox')){if($this.is(':checked')){ids.push(id);}}else{if($this.val()>0){ids.push(id);}}});model.setAdditionalEndDateTimeParam('products',ids);}
inputs.change(function(){calculateSelectedProducts();form.updateDuration();});calculateSelectedProducts();},loadProductList:function(serviceId){this.serviceId=serviceId;var instance=this;this.saveSelectedProducts();jQuery(this.container,this.bookingForm.container).load(this.getParam('product_url'),{'type':this.type,'service_id':this.serviceId},function(){instance.updateSelectedProducts();instance.bindChangeHandlers();});},saveSelectedProducts:function(){var instance=this;jQuery(':input',jQuery(this.container,this.bookingForm.container)).each(function(){instance.saved[jQuery(this).attr('name')]=jQuery(this).val();});},updateSelectedProducts:function(){var instance=this;jQuery(':input',jQuery(this.container,this.bookingForm.container)).each(function(){if(instance.saved[jQuery(this).attr('name')]){jQuery(this).val(instance.saved[jQuery(this).attr('name')]);}});}});

var DashboardPluginPaidAttributes=function(options){this.__construct(options);};jQuery.extend(DashboardPluginPaidAttributes.prototype,DashboardPluginProduct.prototype,{options:{'product_url':'/ext/product/list/'},bookingForm:null,serviceId:null,container:'#attributes',type:'attribute',saved:null,saveSelectedProducts:function(){var instance=this;jQuery(':input',jQuery(this.container,this.bookingForm.container)).each(function(){instance.saved[jQuery(this).attr('name')]=jQuery(this).is(':checked');});},updateSelectedProducts:function(){var instance=this;jQuery(':input',jQuery(this.container,this.bookingForm.container)).each(function(){if(instance.saved[jQuery(this).attr('name')]){jQuery(this).prop('checked',instance.saved[jQuery(this).attr('name')]);}});}});

var DashboardPluginPos=function(options){this.__construct(options);};jQuery.extend(DashboardPluginPos.prototype,DashboardPlugin.prototype,{bookingForm:null,model:null,subscribeEvents:function(){this.bookingForm=this.getParam('booking_form');this.model=this.getParam('model');var instance=this;jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},addTooltipData:function(event,fields,values){if(jQuery.type(event.deposit_invoice_id)!=='undefined'&&event.deposit_invoice_id){fields.push(Locale.get('Open in POS (deposit invoice)'));values.push('<a target="_blank" href="/v2/management/pos/#invoice/'+event.deposit_invoice_id+'"><i class="fa fa-store"></i> #'+event.deposit_invoice_number+'</a>');}
if(jQuery.type(event.invoice_id)!=='undefined'&&event.invoice_id){fields.push(Locale.get('Open in POS'));values.push('<a target="_blank" href="/v2/management/pos/#invoice/'+event.invoice_id+'"><i class="fa fa-store"></i> #'+event.invoice_number+'</a>');}}});

var DashboardPluginClasses=function(options){this.__construct(options);};jQuery.extend(DashboardPluginClasses.prototype,DashboardPlugin.prototype,{bookingForm:null,model:null,subscribeEvents:function(){this.bookingForm=this.getParam('booking_form');this.model=this.getParam('model');var instance=this;jQuery(this.view).bind('collectTooltipData',function(e,event,fields,values){instance.addTooltipData(event,fields,values);});},addTooltipData:function(event,fields,values){if(event.class_id){var reportParams={event_id:event.event_id,start_date_part:event.start_date.getMysqlDate(),start_time_part:event.start_date.getMysqlTime()};fields.push(Locale.get('Classes participants'));values.push('<a target="_blank" href="/v2/management/#classes-report/filter/'+encodeURIComponent(JSON.stringify(reportParams))+'"><i class="fa fa-users-class"></i> '+Locale.get('Open')+'</a>');}}});

var DashboardModel=function(options){this.__construct(options);};jQuery.extend(DashboardModel.prototype,CommonOptions.prototype,CommonLog.prototype,{options:{'bookings_url':'/index/get-bookings/','notes_url':'/index/get-notes/','working_schedule_url':'/working-time/get-working-schedule/','busy_time_url':'/ext/google-sync/get-google-busy-time/','busy_time_units_url':'/ext/google-sync/get-google-busy-time-units/','last_id_url':'/autorefresh/last-action/get'},units:[],events:[],workingSchedule:{},limitBookings:{},busyTime:{},loaders:{},__construct:function(options){this.setOptions(options);},getUnitObject:function(id){var units=this.getParam('unit_list',[]);for(var i=0;i<units.length;i++){var unit=units[i];if(unit.id==id){return unit;}}
return null;},getUnitList:function(id){if(!this.units.length){var instance=this;jQuery.each(this.getParam('unit_list',{}),function(key,obj){instance.units.push({'key':obj.id,'label':obj.name});});}
if(!id){return this.units.slice();}else{for(var i=0;i<this.units.length;i++){if(this.units[i].key==id){return[this.units[i]];}}}},getEventObject:function(id){var events=this.getParam('event_list',[]);for(var i=0;i<events.length;i++){var event=events[i];if(event.id==id){return event;}}
return null;},getEventList:function(id){if(!this.events.length){var instance=this;jQuery.each(this.getParam('event_list',{}),function(key,obj){instance.events.push({'key':obj.id,'label':obj.name});});}
if(!id){return this.events.slice();}else{for(var i=0;i<this.events.length;i++){if(this.events[i].key==id){return[this.events[i]];}}}},loadBookings:function(filter,handler,errorHandler){var loaderKey='bookings';if(this.loaders[loaderKey]){this.loaders[loaderKey].abort();}
if(jQuery.type(filter.from)==='date'){filter.from=filter.from.getMysqlDate();}
if(jQuery.type(filter.to)==='date'){filter.to=filter.to.getMysqlDate();}
var instance=this;this.loaders[loaderKey]=jQuery.getJSON(this.getParam('bookings_url'),filter,function(data){instance.loaders[loaderKey]=null;if(jQuery.type(handler)==='function'){handler(data);}}).fail(function(xhr){if(jQuery.type(errorHandler)==='function'){errorHandler(xhr.responseJSON,xhr.status);}});},loadNotes:function(filter,handler){var loaderKey='notes';if(this.loaders[loaderKey]){this.loaders[loaderKey].abort();}
if(jQuery.type(filter.from)==='date'){filter.from=filter.from.getMysqlDate();}
if(jQuery.type(filter.to)==='date'){filter.to=filter.to.getMysqlDate();}
var instance=this;this.loaders[loaderKey]=jQuery.getJSON(this.getParam('notes_url'),filter,function(data){instance.loaders[loaderKey]=null;if(jQuery.type(handler)==='function'){handler(data);}});},loadWorkingSchedule:function(filter,handler){var loaderKey='working_scheduler';if(this.loaders[loaderKey]){this.loaders[loaderKey].abort();}
if(jQuery.type(filter.from)==='date'){filter.from=filter.from.getMysqlDate();}
if(jQuery.type(filter.to)==='date'){filter.to=filter.to.getMysqlDate();}
var instance=this;this.loaders[loaderKey]=jQuery.getJSON(this.getParam('working_schedule_url'),filter,function(data){instance.loaders[loaderKey]=null;instance.workingSchedule=data.working_schedule;instance.limitBookings=data.limit_bookings;if(jQuery.type(handler)==='function'){handler(data);}});},loadBusyTime:function(filter,unitId,handler){var loaderKey='google_busy_time';this.loaders[loaderKey]={};if(this.loaders[loaderKey]&&this.loaders[loaderKey][unitId]){this.loaders[loaderKey][unitId].abort();}
if(jQuery.type(filter.from)==='date'){filter.from=filter.from.getMysqlDate();}
if(jQuery.type(filter.to)==='date'){filter.to=filter.to.getMysqlDate();}
var filterObj=jQuery.extend({},filter,{'unit_id':unitId});var instance=this;this.loaders[loaderKey][unitId]=jQuery.getJSON(this.getParam('busy_time_url'),filterObj,function(data){instance.loaders[loaderKey][unitId]=null;instance.busyTime[unitId]=data;if(jQuery.type(handler)==='function'){handler(data,unitId);}});},loadBusyTimeUnits:function(filter,units,handler){var loaderKey='google_busy_time_units';if(this.loaders[loaderKey]){this.loaders[loaderKey].abort();}
if(jQuery.type(filter.from)==='date'){filter.from=filter.from.getMysqlDate();}
if(jQuery.type(filter.to)==='date'){filter.to=filter.to.getMysqlDate();}
var filterObj=jQuery.extend({},filter,{'unit_ids':units});var instance=this;this.loaders[loaderKey]=jQuery.getJSON(this.getParam('busy_time_units_url'),filterObj,function(data){instance.loaders[loaderKey]=null;instance.busyTime=data;if(jQuery.type(handler)==='function'){handler(data);}});},getBusyTime:function(unitId){if(jQuery.type(this.busyTime[unitId])!=='undefined'){return this.busyTime[unitId];}
return[];},getWorkingSchedule:function(date,unitId){if(!unitId){unitId='default';}
if(!this.workingSchedule[unitId]||!this.workingSchedule[unitId][date.getMysqlDate()]){if(unitId!=='default'){return this.getWorkingSchedule(date,false);}else{return false;}}else if(unitId!=='default'){var unitSchedule=this.workingSchedule[unitId][date.getMysqlDate()];var companySchedule=this.getWorkingSchedule(date,false);companySchedule.isCompanyDay=true;if(parseInt(companySchedule.index)===0&&parseInt(unitSchedule.index)>0){return companySchedule;}}
if(unitId==='default'){this.workingSchedule[unitId][date.getMysqlDate()].isCompanyDay=true;}
return this.workingSchedule[unitId][date.getMysqlDate()];},getLimitBookings:function(date){if(jQuery.type(this.limitBookings[date.getMysqlDate()])!=='undefined'){return this.limitBookings[date.getMysqlDate()];}
return[];},getMinMaxWorkingHours:function(startDate,endDate,mode){var min=null;var max=null;if(startDate.getMysqlDateTime()==endDate.getMysqlDateTime()){endDate.setDate(endDate.getDate()+1);}
var objects=[];switch(mode){case'events':objects=this.getEventList();break;case'unit':default:objects=this.getUnitList();break;}
var time=new Time();var hasDayOff=false;while(startDate<endDate){for(var i=0;i<objects.length;i++){var dayInfo=this.getWorkingSchedule(startDate,objects[i].key);if(!dayInfo){continue;}
if(!parseInt(dayInfo.is_day_off)&&dayInfo.start_time!=dayInfo.end_time){time.parseFromString(dayInfo.start_time);if(min===null||min>time.getHours()){min=time.getHours();}
time.parseFromString(dayInfo.end_time);var currentEnd=time.getHours();if(time.getMinutes()>0){currentEnd++;}
if(max===null||max<currentEnd){max=currentEnd;}}else{hasDayOff=true;}}
startDate.setDate(startDate.getDate()+1);}
if(min!==null&&max!==null){return{'from':min,'to':max};}
if(hasDayOff){return{'from':0,'to':0};}
return null;},getLastActionId:function(handler){jQuery.getJSON(this.getParam('last_id_url'),function(id){if(jQuery.type(handler)==='function'){handler(id);}});},getTimeframe:function(){return parseInt(this.getParam('timeframe'));}});

var DashboardView=function(options){this.__construct(options);};jQuery.extend(DashboardView.prototype,InterfaceBooking.prototype,ExcelExport.prototype,{options:{'model':false,'export_url':'/v2/report/index/export/excel/'},filter:{},minHour:null,maxHour:null,breatimeElements:[],noteElements:[],bookingForm:null,infoForm:null,confirmationForm:null,noteConfirmationForm:null,eventBackup:null,datepicker:null,availableModes:[],defaultMode:'unit',tooltipCache:{},tooltipEditButton:null,tooltipNode:null,tooltipTimer:null,schedulerModeContainer:null,formMode:'booking',dayOffLabel:null,filterEventCombobox:null,filterUnitCombobox:null,filterEventList:null,filterUnitList:null,filterEventListSwitcher:null,filterUnitListSwitcher:null,filterClientCombobox:null,filterBookingTypeSelect:null,customEndDate:null,bookingsDataArr:[],__construct:function(options){this.setOptions(options);this.init();this.initSchedulerPlugins();this.initCommonPlugins();this.initConfirmationForm();this.initBreaktimeForm();this.initNoteForm();this.initDom();this.initScheduler();this.initNoteCss();},init:function(){this.pluginStatus=this.getParam('plugins');this.filterView=new DashboardFilterView({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list'),'location_list':this.getParam('location_list'),'category_list':this.getParam('category_list'),'unit_map':this.getParam('unit_map'),'plugins':this.getParam('plugins')});this.initModel();this.initBookingForm();this.preloader=new UiPreloader();},initModel:function(){this.model=new DashboardModel({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list'),'location_list':this.getParam('location_list'),'category_list':this.getParam('category_list'),'unit_map':this.getParam('unit_map'),'timeframe':Config.getTimeFrame()});},initConfirmationForm:function(){this.confirmationForm=new DashboardBookingConfirmationForm();this.noteConfirmationForm=new DashboardNoteConfirmationForm();this.breaktimeConfirmationForm=new DashboardBreaktimeConfirmationForm({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list')});},initBreaktimeForm:function(){this.breaktimeForm=new DashboardBreaktimeForm();},initNoteForm:function(){this.noteForm=new DashboardNoteForm({note_types:this.getParam('note_types')});},initDom:function(){this.dayOffLabel=jQuery('#day_off_label');this.initDatepicker();this.initModeButtons();this.initFilter();this.initExport();},initScheduler:function(){this.initSchedulerLocale();this.initSchedulerConfig();this.initSchedulerTimelineView();this.initSchedulerUnitView();this.initSchedulerEventView();this.initSchedulerTemplates();this.initEvents();var availableModes=[];jQuery('.scheduler-mode .btn').each(function(){if(jQuery(this).data('mode')){availableModes.push(jQuery(this).data('mode'));}});this.availableModes=availableModes;this.defaultMode=localStorage.getItem("calendar_mode")||this.defaultMode;var mode=this.getParam('default_tab',this.defaultMode);if(jQuery.inArray(mode,this.availableModes)===-1){mode=this.defaultMode;}
scheduler.init('scheduler',new Date(),mode);scheduler.templates.event_bar_date=function(){return'';};jQuery(document).trigger('schedulerReady');},initNoteCss:function(){var sheet=(function(){var style=document.createElement("style");style.setAttribute("media","all")
style.appendChild(document.createTextNode(""));document.head.appendChild(style);return style.sheet;})();function addCSSRule(sheet,selector,rules,index){if("insertRule"in sheet){sheet.insertRule(selector+"{"+rules+"}",index);}
else if("addRule"in sheet){sheet.addRule(selector,rules,index);}}
window.noteCss={};jQuery.each(this.getParam('note_types'),function(idx,noteType){var color=noteType.color;var fontColor=new Color(new Color('#'+color).getContrastColor());fontColor.a=0.5;fontColor=fontColor.getCssColor();var bgColor=new Color('#'+color);bgColor.a=0.5;bgColor=bgColor.getCssColor();var bgColorBlocked=new Color('#'+color);bgColorBlocked.a=1;bgColorBlocked=bgColorBlocked.getCssColor();addCSSRule(sheet,"#scheduler-page .note.color_"+color,"background: "+bgColor+" !important; color: "+fontColor+" !important; border-color: #"+color+';');addCSSRule(sheet,"#scheduler-page .note.note-time-blocked.color_"+color,"background: "+bgColorBlocked+" !important; color: "+fontColor+" !important; border-color: #"+color+';');addCSSRule(sheet,"#scheduler-page #scheduler.dhx_scheduler_month .note.color_"+color,"background: "+bgColor+" !important; color: "+fontColor+" !important; border-color: #"+color+';');addCSSRule(sheet,"#scheduler-page #scheduler .dhx_cal_event_line.note.color_"+color,"background: "+bgColor+" !important; color: "+fontColor+" !important;");addCSSRule(sheet,"#scheduler-page #scheduler.dhx_scheduler_month .note.note-time-blocked.color_"+color,"background: "+bgColorBlocked+" !important; color: "+fontColor+" !important; border-color: #"+color+';');addCSSRule(sheet,"#scheduler-page #scheduler .dhx_cal_event_line.note.note-time-blocked.color_"+color,"background: "+bgColorBlocked+" !important; color: "+fontColor+" !important;");addCSSRule(sheet,"#scheduler-page .note.color_"+color+' .dhx_body',"color: "+fontColor+" !important;");addCSSRule(sheet,"#scheduler-page .note.color_"+color+' .dhx_title',"color: "+fontColor+" !important;");window.noteCss['color_'+color]={background:bgColor,color:fontColor,borderColor:'#'+color}});},initDatepicker:function(){this.datepicker=new UiDatePicker({'element':jQuery('#scheduler_date_button'),'value':new Date(),'align':'right','update_title':false});},initModeButtons:function(){this.schedulerModeContainer=jQuery('#scheduler_form_mode .dropdown-on-mob--group');},initFilter:function(){var instance=this;this.filterPanel=jQuery('#filter');jQuery('#filter').hide();jQuery('#filter_button').click(function(){instance._onShowButtonClick();});this.filterEventCombobox=new UiCombobox({'element':jQuery('#filter_service_id')});this.filterUnitCombobox=new UiCombobox({'element':jQuery('#filter_provider_id')});this.filterClientCombobox=new UiCombobox({'element':jQuery('#filter_client_id'),'data_source':new ClientDataSource()});this.filterEventList=jQuery('#filter_service_list_id');this.filterUnitList=jQuery('#filter_unit_list_id');this.filterEventListSwitcher=jQuery('#filter_service_list_switcher');this.filterUnitListSwitcher=jQuery('#filter_unit_list_switcher');this.filterBookingTypeSelect=jQuery('#filter_booking_type');this.filterBookingCodeInput=jQuery('#filter_booking_code');this.filterShowNotes=jQuery('#filter_show_notes');this.filterTickets=jQuery('#filter_tickets_validation');this.filterMedicalTest=jQuery('#filter_medical_test_status');this.filterSuffer=jQuery('#filter_suffer');this.sufferWarning=jQuery('.js-scheduler-suffer-warning');jQuery('.js-scheduler-suffer-button-suffer').click(function(){instance.filterSuffer.val(1);instance.applyFilter(true);});this._loadSavedFilter();this.applyFilter(false);var instance=this;jQuery('#apply_filter').click(function(){instance.applyFilter(true);});jQuery('#clear_filter').click(function(){instance.clearFilter();instance._onSwicthListFilterMode();});this._onSwicthListFilterMode();},_onShowButtonClick:function(){var instance=this;jQuery('#filter').slideToggle(function(){var title=Locale.get('Hide filter');if(!jQuery(this).is(':visible')){title=Locale.get('Show filter');}
jQuery('#filter_button').toggleClass('active',jQuery(this).is(':visible')).find('span').text(title);instance._onSwicthListFilterMode();});},applyFilter:function(loadBookings){var filter={'booking_type':this.filterBookingTypeSelect.val(),'event_id':this.filterView.getFilterServices(),'unit_id':this.filterView.getFilterUnits(),'client_id':this.filterClientCombobox.getValue(),'booking_code':this.filterBookingCodeInput.val(),'show_notes':this.filterShowNotes.val(),'force_suffer':this.filterSuffer.val()?1:0,};if(this.filterTickets&&this.filterTickets.length){filter['tickets_validation']=this.filterTickets.val();}
if(this.filterMedicalTest&&this.filterMedicalTest.length){filter['medical_test_status']=this.filterMedicalTest.val();}
this.filter=filter;this._refreshCalendarColumns();if(loadBookings){this.loadBookings();this.filterView.applyFilter();this._saveFilter();}},_saveFilter:function(){if(window.localStorage){localStorage.setItem('calendar-filter',JSON.stringify(jQuery.extend(this.filterView.getSavedFilterData(),{'client_id':this.filterClientCombobox.getValue(),'booking_type':this.filterBookingTypeSelect.val(),})));}else{console.warn('localStorage can\'t be used');}},_loadSavedFilter:function(){var _this=this;var isChanged=false;var filterData=this.filterView.getSavedFilterData();if(filterData['booking_type']&&filterData['booking_type']!=='non_cancelled'){this.filterBookingTypeSelect.val(filterData['booking_type']);isChanged=true;}
if(filterData['client_id']){this.filterClientCombobox.setValue(filterData['client_id']);isChanged=true;}
if(!isChanged&&this.filterView.isFilterIsset()){isChanged=true;}
if(isChanged){this._onShowButtonClick();}},_refreshCalendarColumns:function(){var instance=this;var checkedUnitList=this.filterView.getFilterUnits();var checkedEventList=this.filterView.getFilterServices();var units=[];if(checkedUnitList.length){units=jQuery.map(checkedUnitList,function(val,index){return instance.model.getUnitList(val);});}else{units=this.model.getUnitList();}
if(scheduler._props['unit']&&scheduler._props['unit'].options){scheduler._props['unit'].options=units;var order={};for(var i=0;i<units.length;i++){order[units[i].key]=i;}
scheduler._props['unit'].order=order;if(scheduler.matrix.timeline){scheduler.matrix.timeline.y_unit=units;scheduler.matrix.timeline.order=order;}}
var events=[];if(checkedEventList.length){events=jQuery.map(checkedEventList,function(val,index){return instance.model.getEventList(val);});}else{events=this.model.getEventList();}
if(scheduler._props['events']&&scheduler._props['events'].options){scheduler._props['events'].options=events;var eventsOrder={};for(var e=0;e<events.length;e++){eventsOrder[events[e].key]=e;}
scheduler._props['events'].order=eventsOrder;}},clearFilter:function(){this.filterBookingTypeSelect.val('non_cancelled');this.filterShowNotes.val('all');this.filterBookingCodeInput.val('');this.filterEventCombobox.setValue('');this.filterUnitCombobox.setValue('');this.filterClientCombobox.setValue('');if(this.filterTickets&&this.filterTickets.length){this.filterTickets.val('all');}
if(this.filterMedicalTest&&this.filterMedicalTest.length){this.filterMedicalTest.val('all');}
this.filterView.clearFilter();this.applyFilter(true);},initExport:function(){var _this=this;jQuery('#export_button').click(function(){if(scheduler._rendered.length){var filter=jQuery.extend({},_this.filter,_this._getDateFilter(true));filter.to.setDate(filter.to.getDate()-1);filter.datefrom=filter.from.getMysqlDate();filter.dateto=filter.to.getMysqlDate();filter.subm=1;filter.unit_group_id=filter.unit_id;delete filter.unit_id;_this.exportToExcel(_this.getParam('export_url'),jQuery.param(filter),$(this),_this.getParam('csrf_token'));}else{_this.notify({type:'danger',text:Locale.get('export_report_empty_data'),});}});},initSchedulerTemplates:function(){var instance=this;scheduler.templates.event_class=function(from,to,event){var classNames=[];if(event.is_confirm=='0'){classNames.push('deleted');}
if(event.note_class){classNames.push('note');classNames.push(event.note_class);}else if(event.batch_is_confirm==="0"){classNames.push('batch-not-confirmed');}
return classNames.join(' ');};scheduler.templates.event_text=function(start,end,event){if(!event.event){event.event='';}
if(event.note_class){return'<div class="note-text">'+(event.text+'').escape()+'</div>';}else if(jQuery.type(event.fb_user_id)!=='undefined'&&event.fb_user_id){return'<b class="fb_client"></b><b>'+(event.text+'').escape()+'</b> '+(event.event+'').escape();}else{return'<b>'+(event.text+'').escape()+'</b> '+(event.event+'').escape();}};scheduler.templates.event_bar_text=function(start,end,event){if(!event.event){event.event='';}
if(event.note_id){return'<div class="note-text">'+(event.text+'').escape()+'</div>';}else{return start.getFormattedTime()+' - '+end.getFormattedTime()+' <b>'+(event.text+'').escape()+'</b> '+(event.event+'').escape();}};scheduler.templates.month_date_class=function(date){var workSchedule=instance.model.getWorkingSchedule(date);if(workSchedule&&workSchedule.is_day_off=="1"){return'breaktime';}};scheduler.templates.event_header=function(start,end,event){if(event._display_mode=='line'){return start.getFormattedTime()+' <b>'+(event.text+'').escape()+'</b> <span>'+(event.event+'').escape()+'</span>';}
return start.getFormattedTime()+' - '+end.getFormattedTime();};var formatDate=function(date){return date.getFormattedDate();};var longFormatDate=function(date){if(Config.getDateFormat().indexOf('l')===-1&&scheduler._mode!=='week'){return date.formatDate('l, ')+date.getFormattedDate();}
return date.getFormattedDate();};scheduler.templates.week_scale_date=formatDate;scheduler.templates.day_date=longFormatDate;scheduler.templates.day_scale_date=longFormatDate;scheduler.templates.timeline_date=formatDate;scheduler.templates.timeline_scale_date=function(date){if(scheduler.matrix.timeline.day_off){return Locale.get('Day off');}
return date.getFormattedTime();};var hidden_on_iPad;if(true==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)){hidden_on_iPad='hidden';}
scheduler.dhtmlXTooltip.config.className='dhtmlXTooltip tooltip booking-tooltip '+hidden_on_iPad;scheduler.dhtmlXTooltip.config.timeout_to_display=this.getParam('tooltip_show_delay',250);scheduler.dhtmlXTooltip.config.timeout_to_hide=this.getParam('tooltip_hide_delay',100);scheduler.dhtmlXTooltip.config.delta_y=0;scheduler.templates.tooltip_text=function(start,end,event){if(jQuery.type(instance.tooltipCache[event.id])==='undefined'){instance.tooltipCache[event.id]=instance.renderTooltip(event);}
return instance.tooltipCache[event.id];};this.tooltipEditButton=jQuery('<a href="javascript: ;" class="btn btn-primary edit-booking">'+Locale.get('Edit')+'</a>');this.tooltipBookMoreButton=jQuery('<a href="javascript: ;" class="btn btn-primary book-more">'+Locale.get('Book more')+'</a>');this.tooltipNoteEditButton=jQuery('<a href="javascript: ;" class="btn btn-primary edit-note">'+Locale.get('Edit')+'</a>');},renderTooltip:function(event){if(event.note_class){return this.renderNoteTooltip(event);}else{return this.renderEventTooltip(event);}},renderEventTooltip:function(event){var node=jQuery('<div>'+'<div class="popover" style="display: block;" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-title">'+this._escapeStr(event.event)+' ('+event.start_date.getFormattedTime()+' - '+event.end_date.getFormattedTime()+')</h3>'+'<div class="popover-content form-horizontal"></div>'+'</div>'+'</div>').show();var content=jQuery('.popover-content',node);var fields=[Locale.get('Performer'),Locale.get('Service')];var values=[this._escapeStr(event.unit),this._escapeStr(event.event)];if(event.client){fields.push(Locale.get('Client name'));values.push(this._escapeStr(event.client));}
if(event.client_email){fields.push(Locale.get('Client email'));values.push('<a href="mailto:'+this._escapeStr(event.client_email)+'">'+this._escapeStr(event.client_email)+'</a>');}
if(event.client_phone){fields.push(Locale.get('Client phone'));values.push('<a href="tel:'+this._escapeStr(event.client_phone)+'">'+this._escapeStr(event.client_phone)+'</a>');}
fields.push(Locale.get('Booking date'));values.push(event.start_date.getFormattedDate());fields.push(Locale.get('Booking time'));values.push(event.start_date.getFormattedTime()+' - '+event.end_date.getFormattedTime());if(event.event_buffertime_after){fields.push(Locale.get('Buffertime after'));values.push(event.event_buffertime_after+' '+Locale.get('mins.'));}
fields.push(Locale.get('Code'));values.push(event.code);if(event.comment){fields.push(Locale.get('Comment'));values.push(this._escapeStr(event.comment));}
if(event.batch_is_confirm==='0'){fields.push(Locale.get('multiple_booking'));values.push(Locale.get('not completed by user'));}
jQuery(this).trigger('collectTooltipData',[event,fields,values]);for(var i=0;i<fields.length;i++){content.append('<div class="row">'+'<div class="col-sm-5 control-label">'+fields[i]+':</div>'+'<div class="col-sm-7 control-info control-label">'+values[i]+'</div>'+'</div>');}
jQuery(this).trigger('onCreateTooltip',[fields,values,node]);return node.html();},renderNoteTooltip:function(event){var node=jQuery('<div>'+'<div class="popover" style="display: block;" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-title">'+Locale.get('Note')+' ('+event.start_date.getFormattedTime()+' - '+event.end_date.getFormattedTime()+')</h3>'+'<div class="popover-content form-horizontal"><p class="note-tooltip-text">'+this._escapeStr(event.text)+'</p></div>'+'</div>'+'</div>').show();var content=jQuery('.popover-content',node);if(event.unit_id&&!event.is_common){content.append('<div class="row">'+'<div class="col-sm-5 control-label">'+Locale.get('Performer')+':</div>'+'<div class="col-sm-7 control-info control-label">'+this._escapeStr(event.unit||'?')+'</div>'+'</div>');}
if(event.event_id&&!event.is_common){content.append('<div class="row">'+'<div class="col-sm-5 control-label">'+Locale.get('Service')+':</div>'+'<div class="col-sm-7 control-info control-label">'+this._escapeStr(event.event||'?')+'</div>'+'</div>');}
content.append('<div class="row">'+'<div class="col-sm-5 control-label">'+Locale.get('Time is blocked')+':</div>'+'<div class="col-sm-7 control-info control-label">'+(event.time_blocked?Locale.get('yes'):Locale.get('no'))+'</div>'+'</div>');return node.html();},_escapeStr:function(str){if(typeof(str)==='string'){return str.escape();}
return str;},initEvents:function(){var instance=this;scheduler.attachEvent('onClick',function(id){if(instance.eventIsNote(id)){instance.showNoteForm(id,false);}else{instance.showBookingInfoForm(id);}
return true;});scheduler.showLightbox=function(id){instance.handleNewEvent(id);};scheduler.attachEvent('onViewChange',function(mode,date){instance.handleViewChanging(mode,date);});scheduler.attachEvent('onBeforeDrag',function(id,mode,event){instance.eventBackup=jQuery.extend(true,{},scheduler.getEvent(id));return true;});scheduler.attachEvent('onDragEnd',function(eventId,dragType,event){event.cancelBubble=true;if(dragType==='new-size'){return;}
var eventObj=scheduler.getEvent(eventId);if(eventObj.batch_is_confirm==='0'){if(instance.eventBackup){scheduler.setEvent(instance.eventBackup.id,instance.eventBackup);instance.reloadView();}
Message.showMessage(Locale.get('Not completed booking cannot be modified'),'danger',null,4000);return;}
var bookingMoved=false;if(eventObj&&instance.eventBackup){bookingMoved=!(instance.eventBackup.event_id==eventObj.event_id&&instance.eventBackup.unit_id==eventObj.unit_id&&instance.eventBackup.start_date.getMysqlDateTime()==eventObj.start_date.getMysqlDateTime()&&instance.eventBackup.end_date.getMysqlDateTime()==eventObj.end_date.getMysqlDateTime());}
if((dragType==='move'||dragType==='resize')&&!bookingMoved){return;}
var data={'id':eventObj.id,'start':eventObj.start_date.getMysqlDateTime(),'end':eventObj.end_date.getMysqlDateTime()};if(scheduler._mode==='unit'||scheduler._mode==='timeline'){data.unit_id=eventObj.unit_id;}
if(scheduler._mode==='events'){data.event_id=eventObj.event_id;}
if(instance.eventIsNote(eventObj.id)){data.id=eventObj.note_id;instance.noteConfirmationForm.showForm(data);}else{instance.confirmationForm.showForm(data);}
scheduler._mark_now();});scheduler.attachEvent('onTooltipDisplayed',function(tooltip,eventId){if(instance.eventIsNote(eventId)){jQuery('.popover',jQuery(tooltip)).append(instance.tooltipNoteEditButton);}else{jQuery('.popover',jQuery(tooltip)).append(instance.tooltipEditButton).append(instance.tooltipBookMoreButton);}
var eventObj=scheduler.getEvent(eventId);if(eventObj&&(!parseInt(eventObj.is_confirm)||eventObj.is_google_maps_booking)||eventObj.batch_is_confirm==='0'){instance.tooltipEditButton.hide();}else{instance.tooltipEditButton.show();}
var position=jQuery(tooltip).position();var width=jQuery('.popover',jQuery(tooltip)).width();var height=jQuery('.popover',jQuery(tooltip)).height();if(position.left+width>jQuery(window).width()){jQuery(tooltip).css('left',position.left-width);}
if(position.top+height>jQuery(window).height()){jQuery(tooltip).css('top',position.top-height);}});scheduler.attachEvent('onEventRendered',function(node,event){var availableModes=['create','new-size'];if(jQuery.inArray(scheduler._drag_mode,availableModes)!==-1&&instance.formMode=='working-time'&&event.id==this._drag_id){event.is_breaktime=true;}
if(event.note_class||instance.formMode=='note'&&event.id==this._drag_id){jQuery(node).addClass('note');if(!event.note_class){jQuery(node).addClass('edit');jQuery('.dhx_body',node).text('New note');}
if(event.event_id){if(!scheduler._props.events.order.hasOwnProperty(event.event_id)){jQuery(node).css('opacity',0.7);}}else if(event.unit_id){if(!scheduler._props.unit.order.hasOwnProperty(event.unit_id)){jQuery(node).css('opacity',0.7);}}}
if(event.is_breaktime){var node=jQuery(node).addClass('breaktime');if(scheduler._mode==='month'||scheduler._mode==='timeline'){node.html('');node.css('background-color','transparent');}else{node.css('width','100%').children().remove();}}else{if(event.event_id===-1||event.unit_id===-1){jQuery(node).css('opacity',0.7);}}});jQuery(document).bind('menu-resize',function(){scheduler.update_view();});var wrap=jQuery('.scheduler-mode-wrap, .to-dropdown-on-mob');var trigger=jQuery('.scheduler-mode-title, .to-dropdown-btn');trigger.hover(function(){wrap.removeClass('no-hover')});jQuery('.scheduler-mode li, .scheduler-mode a, .reports-group--item, reports-group--item a').click(function(){var mode=jQuery(this).data('mode');if(mode){if(typeof(Storage)!=="undefined"){localStorage.setItem('calendar_mode',mode);}
scheduler.setCurrentView(null,mode);}
instance._onSwicthListFilterMode(mode);wrap.addClass('no-hover');});jQuery('#next_day').click(function(){scheduler._click.dhx_cal_next_button();instance.datepicker.setValue(scheduler._min_date);});jQuery('#prev_day').click(function(){scheduler._click.dhx_cal_prev_button();instance.datepicker.setValue(scheduler._min_date);});jQuery('#today').click(function(){scheduler._click.dhx_cal_today_button();instance.datepicker.setValue(scheduler._min_date);});jQuery(this.datepicker).bind('change',function(event,value){scheduler.setCurrentView(value);});jQuery(this.bookingForm).bind('handleResult',function(event,result){if(result.success){instance.loadBookings();}});jQuery(this.bookingForm).bind('beforeHide',function(event,dataSaved){if(dataSaved==='ignore'){}
else if(instance.bookingForm.isNewBooking()&&!dataSaved){scheduler.deleteEvent(instance.bookingForm.getBookingId());}
setTimeout(function(){scheduler._mark_now();},500);});jQuery(this.bookingForm).bind('formModeChange',function(event,id,formMode){instance.bookingForm.hideForm('ignore');switch(formMode){case'note':instance.showNoteForm(id,true);break;case'working-time':instance.showBreaktimeForm(id);break;}});jQuery(this.noteForm).bind('formModeChange',function(event,id,formMode){instance.noteForm.hideForm('ignore');switch(formMode){case'booking':instance.showBookingForm(id,true,false);break;case'working-time':instance.showBreaktimeForm(id);break;}});jQuery(this.breaktimeForm).bind('formModeChange',function(event,id,formMode){instance.breaktimeForm.hideForm('ignore');switch(formMode){case'booking':instance.showBookingForm(id,true,false);break;case'note':instance.showNoteForm(id,true);break;}});jQuery(document).on('hidden.bs.modal','.modal',function(){instance.reloadView();scheduler.callEvent("onAfterSchedulerResize",[]);});jQuery(this.infoForm).bind('bookingsDeleted',function(event,bookings){var skipTypes=['all','cancelled','cancelled_by_admin'];if(jQuery.inArray(instance.filterBookingTypeSelect.val(),skipTypes)!==-1){return;}
for(var i=0;i<bookings.length;i++){if(!jQuery.type(scheduler._events[bookings[i]])){continue;}
delete scheduler._events[bookings[i]];}
instance.reloadView();});jQuery(this.infoForm).bind('bookingUpdated',function(event,id){instance.reloadView();});jQuery(this.confirmationForm).bind('beforeHide',function(event,saved){if(!saved&&instance.eventBackup){scheduler.setEvent(instance.eventBackup.id,instance.eventBackup);instance.reloadView();}});jQuery(this.breaktimeForm).bind('beforeHide',function(event,saved){if(saved==='ignore'){}else if(!saved){scheduler.deleteEvent(instance.breaktimeForm.getEventId());}else{instance.loadWorkingHours(false,function(){scheduler.deleteEvent(instance.breaktimeForm.getEventId());});}
setTimeout(function(){scheduler._mark_now();},500);});jQuery(this.noteForm).bind('beforeHide',function(event,saved){var id=instance.noteForm.getEventId();if(saved==='ignore'){}else if(!saved){var note=scheduler.getEvent(id)
if(note&&note.note_id){}else{scheduler.deleteEvent(id);}}else{instance.loadNotes(function(){scheduler.deleteEvent(id);});}
setTimeout(function(){scheduler._mark_now();},500);});jQuery(this.noteForm).bind('handleResult',function(event,result){setTimeout(function(){scheduler._mark_now();},500);});jQuery(this.noteConfirmationForm).bind('beforeHide',function(event,saved){if(!saved&&instance.eventBackup){scheduler.setEvent(instance.eventBackup.id,instance.eventBackup);instance.reloadView();}});jQuery(this.breaktimeConfirmationForm).bind('deleteBreaktime',function(event,eventData){instance.loadWorkingHours(true);});this.tooltipNoteEditButton.click(function(){instance.showNoteForm(scheduler.tooltip.tooltip.o_event_id,false);});this.tooltipEditButton.click(function(){instance.showBookingForm(scheduler.tooltip.tooltip.o_event_id,false,true);});this.tooltipBookMoreButton.click(function(){instance.datepicker.close();scheduler.tooltip.hide();instance.bookingForm.setIsNewBooking(true);instance.bookingForm.setAddMoreBookingId(scheduler.tooltip.tooltip.o_event_id);instance.bookingForm.setId(null);instance.bookingForm.setBookingId(null);instance.bookingForm.showForm({},true);jQuery(instance.bookingForm).one('formShown',function(){});});jQuery('.btn',this.schedulerModeContainer).click(function(){jQuery('.active',instance.schedulerModeContainer).removeClass('active');jQuery('#scheduler_form_mode .to-dropdown-btn').text(jQuery(this).text());jQuery(this).addClass('active');instance.setFormMode(jQuery(this).data('mode'));});jQuery(this.filterEventListSwitcher).bind('click',function(){var isListHidden=instance.filterEventList.hasClass('hidden');});jQuery(this.filterUnitListSwitcher).bind('click',function(){var isListHidden=instance.filterUnitList.hasClass('hidden');});var isUserChange=true;jQuery(this.filterEventList).find('input').bind('change',function(){isUserChange=false;instance.filterEventCombobox.setValue('');isUserChange=true;});jQuery(this.filterUnitList).find('input').bind('change',function(){isUserChange=false;instance.filterUnitCombobox.setValue('');isUserChange=true;});jQuery("#filter_service_id").bind('change',function(){if(isUserChange){instance.filterEventList.find('input').prop('checked',false);}});jQuery("#filter_provider_id").bind('change',function(){if(isUserChange){instance.filterUnitList.find('input').prop('checked',false);}});jQuery("#new_filter_unit_id, #new_filter_service_id").bind('change',function(){instance._onSwicthListFilterMode();});var $shedulerToolbarNode=jQuery('#scheduler-nav');var headerHeight=parseInt(jQuery('header.header').outerHeight());var toolbarHeight=$shedulerToolbarNode.outerHeight()+10;var tmpStyle=null;var tmpToolbarStyle=null;jQuery(document).on('schedulerReady',function(){instance._onSwicthListFilterMode();});var showCalendarHeader=function(){if(!tmpStyle){tmpStyle=instance.calendarHeaderNode.attr('style');}
if(!tmpToolbarStyle){tmpToolbarStyle=$shedulerToolbarNode.attr('style');}
instance.filterPlaceholderNode.height(toolbarHeight);instance.calendarHeaderNode.addClass("stick").css({top:headerHeight+toolbarHeight,});if(scheduler._mode!=='timeline'){instance.calendarHeaderNode.css({left:instance.calendarHeaderNodePosition.left});}
$shedulerToolbarNode.addClass("stick").css({top:headerHeight,width:jQuery('#scheduler-page').width()});};var hideCalendarHeader=function(){instance.calendarHeaderNode.removeClass("stick");$shedulerToolbarNode.removeClass("stick");instance.filterPlaceholderNode.height(0);if(tmpStyle){instance.calendarHeaderNode.attr('style',tmpStyle);tmpStyle=null;}
if(tmpToolbarStyle){$shedulerToolbarNode.attr('style',tmpToolbarStyle);tmpToolbarStyle=null;}};var scrollCalendarHeader=function(leftPos){var left=parseInt(instance.calendarHeaderNodePosition.left);instance.calendarHeaderNode.addClass("stick").css({left:left-leftPos});};var isHeaderShowed=false;jQuery(window).scroll(function(){if(instance._isMobile()){return;}
if(scheduler._mode==='timeline'){}
var windowpos=jQuery(window).scrollTop();var scrollLeftPos=jQuery(window).scrollLeft();if(windowpos+headerHeight>=instance.calendarHeaderNodePosition.top-toolbarHeight){showCalendarHeader();isHeaderShowed=true;}else{hideCalendarHeader();isHeaderShowed=false;}});var schedulerDefLeftScroll=0;var scrollDeffPos=jQuery('#scheduler').find('.dhx_cal_data').offset();if(scrollDeffPos&&scrollDeffPos.left){schedulerDefLeftScroll=scrollDeffPos.left;}
var _scrollHandler=function(){var scrollPos=jQuery('#scheduler').find('.dhx_cal_data').offset();var scrollLeftPos=0;if(scrollPos&&scrollPos.left){scrollLeftPos=scrollPos.left;}
if(scrollLeftPos&&isHeaderShowed){scrollCalendarHeader(schedulerDefLeftScroll-scrollLeftPos);}};jQuery('#scheduler').scroll(_scrollHandler);jQuery(document).scroll(_scrollHandler);var tmpDebounce=false;var tmpTimer=null;jQuery(window).resize(function(){if(instance._isMobile()){return;}
if(tmpDebounce){clearTimeout(tmpTimer);}
tmpDebounce=true;tmpTimer=setTimeout(function(){hideCalendarHeader();instance._onSwicthListFilterMode();var windowpos=jQuery(window).scrollTop();if(windowpos+headerHeight>=instance.calendarHeaderNodePosition.top-toolbarHeight){showCalendarHeader();}
tmpDebounce=false;},500);});var tooltipArr={};jQuery(document).on('mouseenter','.dhx_scale_bar',function(){var elem=jQuery(this);var elemId=instance._uniqueId(elem);if(!tooltipArr[elemId]){instance.addTooltips(elem,elem.text());tooltipArr[elemId]=true;elem.trigger('mouseenter');}});jQuery('#scheduler').on('click','.breaktime',function(event){var classes=event.currentTarget.classList;var isSpecial=false;var isCompany=false;var isService=false;var isProvider=false;var serviceId,providerId,year,day,time;for(var i=0;i<classes.length;++i){if(classes[i]=='special-day'){isSpecial=true;}
if(classes[i]=='company-day'){isCompany=true;}
if(classes[i].indexOf('service-day-')===0){isService=true;serviceId=classes[i].replace('service-day-','');}
if(classes[i].indexOf('provider-day-')===0){isProvider=true;providerId=classes[i].replace('provider-day-','');}
if(classes[i].indexOf('date-')===0){day=classes[i].replace('date-','');year=new Date(day).getFullYear();}
if(classes[i].indexOf('time-')===0){time=classes[i].replace('time-','');}}
instance.breaktimeConfirmationForm.showForm({isSpecial:isSpecial,isCompany:isCompany,isService:isService,isProvider:isProvider,serviceId:serviceId,providerId:providerId,year:year,day:day,time:time});});},_isMobile:function(){return window.matchMedia("only screen and (max-width: 760px)").matches;},_uniqueId:function(element){var id=element.data('uniqueId');if(!id){id=Math.floor(Math.random()*26)+Date.now();element.data('uniqueId',id);}
return id;},handleNewEvent:function(id){if(this.formMode=='booking'){this.showBookingForm(id,true,true);}else if(this.formMode=='note'){this.showNoteForm(id,true);}else{this.showBreaktimeForm(id);}},handleViewChanging:function(mode,date){this.refreshNavigation(mode,date);this.updateDate(mode,date);},refreshNavigation:function(mode,date){jQuery('.scheduler-toolbar .scheduler-mode .active').removeClass('active');jQuery('.scheduler-toolbar #'+mode).addClass('active');jQuery('#scheduler_date').text(jQuery('.dhx_cal_date').text());var selectTitle=Locale.get('Day'),todayTitle=Locale.get('Show Today');if(mode=='week'){selectTitle=Locale.get('Week');todayTitle=Locale.get('Show current week');}
else if(mode=='month'){selectTitle=Locale.get('Month');todayTitle=Locale.get('Show current month');}
else if(mode=='unit'){selectTitle=Locale.get('Units');}
else if(mode=='events'){selectTitle=Locale.get('Services');}
else if(mode=='timeline'){selectTitle=Locale.get('Timeline');}
jQuery('.scheduler-mode-title').text(selectTitle);jQuery('#today').text(todayTitle);},updateDate:function(mode,date){var instance=this;if(mode==='month'){this.loadWorkingHours(false,function(){instance.loadBookings(function(){var minMax=instance.fixMinMax();if(minMax!==null){instance._updateWorkingScheduleView(minMax);}});},true);}else{this.loadWorkingHours(true);this.loadBookings(function(){var minMax=instance.fixMinMax();if(minMax!==null){instance._updateWorkingScheduleView(minMax);}});}},fixMinMax:function(){var min=false;var max=false;var minDate=scheduler._min_date;var maxDate=scheduler._max_date;if(scheduler._mode=='timeline'){minDate=new Date(minDate);minDate.setHours(0,0,0);maxDate=new Date(minDate);maxDate.setDate(maxDate.getDate()+1);}
var events=scheduler.getEvents(minDate,maxDate);for(var i=0;i<events.length;i++){var event=events[i];if(event.start_date>=minDate){var hour=event.start_date.getHours();if(min===false||min>hour){min=hour;}}
if(event.end_date<=maxDate){var hour=event.end_date.getHours();if(event.end_date.getMinutes()>0){hour++;}
if(max===false||max<hour){max=hour;}}}
if(min!==false&&max!==false&&this.minHour==this.maxHour){return{'from':min,'to':max};}
if((min!==false&&min<this.minHour)||(max!==false&&max>this.maxHour)){var minMax={'from':(min!==false&&min<this.minHour?min:this.minHour),'to':(max!==false&&max>this.maxHour?max:this.maxHour)};return minMax;}
return null;},loadBookings:function(handler,backgroundReload){var instance=this;var filter=this._getBookingsFilter();jQuery(this).trigger('startLoadingBookings',[this,filter,scheduler]);jQuery('#scheduler').removeClass('scheduler-has-warning');instance.filterPanel.removeClass('filter-with-warning');if(scheduler._mode==='month'){scheduler.clearAll();}
if(filter.show_notes=='notes'){scheduler.clearAll();this.reloadView();}else{if(!backgroundReload){this.preloader.show();}
this.model.loadBookings(filter,function(data){var events=scheduler.getEvents(scheduler._min_date,scheduler._max_date);for(var i=0;i<events.length;i++){var ev=scheduler._events[events[i].id];if(!ev.note_id){delete scheduler._events[events[i].id];}}
var addRemovedColumns={'service':false,'provider':false};var currentDate=scheduler._date.getMysqlDate();for(var b=0;b<data.length;b++){var from=Date.parseMysqlDate(data[b].start_date);var to=Date.parseMysqlDate(data[b].end_date);if(!(from<scheduler._date&&to>scheduler._date)&&from.getMysqlDate()!==currentDate&&to.getMysqlDate()!==currentDate){continue;}
if(!scheduler._props.unit.order.hasOwnProperty(data[b].unit_id)){addRemovedColumns.provider=true;data[b].unit_id=-1;}
if(!scheduler._props.events.order.hasOwnProperty(data[b].event_id)){addRemovedColumns.service=true;data[b].event_id=-1;}}
instance._refreshCalendarColumns();if(addRemovedColumns.provider&&jQuery.type(scheduler._props.unit.order[-1])=='undefined'){scheduler._props.unit.options.push({key:-1,label:Locale.get('Removed providers')});scheduler._props.unit.order[-1]=Math.max.apply(null,Object.values(scheduler._props.unit.order))+1;}
if(addRemovedColumns.service&&jQuery.type(scheduler._props.events.order[-1])=='undefined'){scheduler._props.events.options.push({key:-1,label:Locale.get('Removed services')});scheduler._props.events.order[-1]=Math.max.apply(null,Object.values(scheduler._props.events.order))+1;}
scheduler.parse(data,'json');scheduler._mark_now();if(jQuery.type(handler)==='function'){handler(data);}
instance.bookingsDataArr=data;jQuery(instance).trigger('finishLoadingBookings',[this,filter,scheduler]);if(!backgroundReload){instance.preloader.hide();}},function(data,errorCode){if(!backgroundReload){instance.preloader.hide();}
instance.bookingsDataArr=null;switch(errorCode){case 416:if(jQuery('#filter').is(':hidden')){instance._onShowButtonClick();}
jQuery('#scheduler').addClass('scheduler-has-warning');instance.filterPanel.addClass('filter-with-warning');break;default:scheduler.clearAll();Message.showMessage(Locale.get(data.error),'danger',null,4000);}});}
instance.loadNotes();},loadNotes:function(callback){var instance=this;if(this.filter.show_notes=='bookings'){this._notesData=undefined;this._clearNotes();}else{this.model.loadNotes(this._getNotesFilter(),function(data){instance._notesData=data;instance._renderNotes();if(jQuery.type(callback)==='function'){callback(data);}});}},_renderNotes:function(){if(!this._notesData)return;var instance=this;var notes=[];this._clearNotes();jQuery.each(this._notesData,function(note_idx,note){var noteBlockedClass='';if(note.time_blocked=='1'){noteBlockedClass=' note-time-blocked';}
switch(scheduler._mode){case'unit':case'timeline':if(note.service_id){}else if(note.provider_id){var availableUnitColumns=scheduler._props['unit'].options.map(function(unitData){return~~unitData.key;});var providerColumnId=availableUnitColumns.indexOf(~~note.provider_id)>=0?note.provider_id:null;if(providerColumnId!==null){notes.push(instance.addNote(note.id,Date.parseMysqlDate(note.start_date_time),Date.parseMysqlDate(note.end_date_time),'color_'+note.note_type.color+noteBlockedClass,note.note,providerColumnId,null,note.time_blocked,note.provider));}}else{for(var i=0;i<scheduler._props['unit'].options.length;++i){var provider=scheduler._props['unit'].options[i];notes.push(instance.addNote(note.id,Date.parseMysqlDate(note.start_date_time),Date.parseMysqlDate(note.end_date_time),'company-note color_'+note.note_type.color+(i?' company-note-next':' company-note-first')+noteBlockedClass,note.note,provider.key,null,note.time_blocked,null,null,true));}}
break;case'events':if(note.provider_id){}else if(note.service_id){var availableEventColumns=scheduler._props['events'].options.map(function(eventData){return~~eventData.key;});var eventColumnId=availableEventColumns.indexOf(~~note.service_id)>=0?note.service_id:null;if(eventColumnId!==null){notes.push(instance.addNote(note.id,Date.parseMysqlDate(note.start_date_time),Date.parseMysqlDate(note.end_date_time),'color_'+note.note_type.color+noteBlockedClass,note.note,null,eventColumnId,note.time_blocked,null,note.service));}}else{for(var i=0;i<scheduler._props['events'].options.length;++i){var service=scheduler._props['events'].options[i];notes.push(instance.addNote(note.id,Date.parseMysqlDate(note.start_date_time),Date.parseMysqlDate(note.end_date_time),'company-note color_'+note.note_type.color+(i?' company-note-next':' company-note-first')+noteBlockedClass,note.note,null,service.key,note.time_blocked,null,null,true));}}
break;default:notes.push(instance.addNote(note.id,Date.parseMysqlDate(note.start_date_time),Date.parseMysqlDate(note.end_date_time),'color_'+note.note_type.color+noteBlockedClass,note.note,note.provider_id,note.service_id,note.time_blocked,note.provider,note.service,!(note.provider_id||note.service_id)));}});scheduler.parse(notes,'json');scheduler._mark_now();},_getBookingsFilter:function(){return jQuery.extend({},this.filter,this._getDateFilter(true));},_getNotesFilter:function(){return jQuery.extend({},{event_id:this.filter.event_id,unit_id:this.filter.unit_id},this._getDateFilter(true));},loadWorkingHours:function(updateFromCache,handler,skipViewUpdate){var instance=this;if(updateFromCache&&!skipViewUpdate){this._updateWorkingScheduleView();}
var filter=this._getWorkingScheduleFilter();jQuery(this).trigger('startLoadingWorkingHours',[filter,scheduler]);this.model.loadWorkingSchedule(filter,function(data){if(jQuery.type(handler)==='function'){handler(data);}
instance.minHour=0;instance.maxHour=0;if(!skipViewUpdate){instance._updateWorkingScheduleView();}
jQuery(instance).trigger('finishLoadingWorkingHours',[filter,scheduler]);});},_updateWorkingScheduleView:function(minMax){this._clearBreaktimes();if(jQuery.type(minMax)==='undefined'){this._updateMinMaxTime();var minMax=this.fixMinMax();if(minMax!==null){this._updateMinMaxTime(minMax);}}else{this._updateMinMaxTime(minMax);}
this.addDateBreaktime(scheduler._date,new Time('00:00:00'),new Time('24:00:00'),-1);this._updateBreaktimes();this._handleDayOffLabel();this.reloadView();},_handleDayOffLabel:function(){this.dayOffLabel.addClass('hidden');var modes=['day','unit','events'];if(jQuery.inArray(scheduler._mode,modes)===-1){return;}
if(this.minHour===0&&this.maxHour===0){this.dayOffLabel.removeClass('hidden');}},_clearBreaktimes:function(){for(var i=0;i<this.breatimeElements.length;i++){scheduler.deleteMarkedTimespan(this.breatimeElements[i]);}
this.breatimeElements=[];},_clearNotes:function(){for(var id in scheduler._events){if(scheduler._events.hasOwnProperty(id)){var ev=scheduler._events[id];if(ev.note_id){delete scheduler._events[id];}}}},removeBreaktime:function(breaktimeId){var index=jQuery.inArray(breaktimeId,this.breatimeElements);if(index!=-1){scheduler.deleteMarkedTimespan(breaktimeId);this.breatimeElements.splice(index,1);}},reloadView:function(){this.tooltipCache={};scheduler.updateView();scheduler._mark_now();this.initBreaktimeTooltips();},initBreaktimeTooltips:function(){this.addTooltips(jQuery('.dhx_marked_timespan.breaktime:not(.is-dayoff)'),Locale.get('Breaktime'));this.addTooltips(jQuery('.dhx_marked_timespan.breaktime.is-dayoff'),Locale.get('Day off'));jQuery(this).trigger('breaktimeTooltipsCreated');},addTooltips:function(elements,title){var instance=this;elements.mouseenter(function(){if(instance.tooltipTimer){clearTimeout(instance.tooltipTimer);instance.tooltipTimer=false;}
var element=this;instance.tooltipTimer=setTimeout(function(){var pos=jQuery(element).offset();var left=pos.left+jQuery(element).width()/2;if(instance.tooltipNode&&instance.tooltipNode.is(':visible')){instance._hideTooltip(function(){instance._showTooltip(left,pos.top,title);});}else{instance._showTooltip(left,pos.top,title);}
instance.tooltipTimer=false;},1000);}).mouseleave(function(){if(instance.tooltipNode&&instance.tooltipNode.is(':visible')){instance._hideTooltip();}
clearTimeout(instance.tooltipTimer);instance.tooltipTimer=false;});},_showTooltip:function(left,top,title,handler){if(!this.tooltipNode){this.tooltipNode=jQuery('<div class="tooltip top" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>');}
jQuery('.tooltip-inner',this.tooltipNode).text(title);this.tooltipNode.appendTo(jQuery('body'));this.tooltipNode.css({'top':top-this.tooltipNode.height()-8,'left':left-this.tooltipNode.width()/2,'opacity':0.5,'display':'none'}).stop().fadeIn(300,function(){if(jQuery.type(handler)==='function'){handler();}});},_hideTooltip:function(handler){this.tooltipNode.stop().fadeOut(100,function(){if(jQuery.type(handler)==='function'){handler();}});},_updateMinMaxTime:function(minMax){var startDate=new Date(scheduler._min_date);var endDate=new Date(scheduler._max_date);if(jQuery.type(minMax)==='undefined'){minMax=this.model.getMinMaxWorkingHours(startDate,endDate,scheduler._mode);}
if(minMax!==null){this.minHour=minMax.from;this.maxHour=minMax.to;}
scheduler.config.first_hour=this.minHour;scheduler.config.last_hour=this.maxHour;scheduler.matrix.timeline.x_start=this.minHour*60/this.model.getTimeframe();scheduler.matrix.timeline.x_size=Math.max((this.maxHour-this.minHour)*60/this.model.getTimeframe(),1);scheduler.matrix.timeline.day_off=(this.minHour==this.maxHour);this.reloadView();scheduler.callEvent("onAfterSchedulerResize",[]);},_updateBreaktimes:function(){var filter=this._getWorkingScheduleFilter();var startDate=new Date(filter.from);var endDate=new Date(filter.to);var units=this.model.getUnitList();var events=this.model.getEventList();while(startDate<endDate){if(jQuery.inArray(scheduler._mode,['unit','timeline'])!==-1){for(var i=0;i<units.length;i++){this._drawBreaktimes(startDate,units[i].key);}}else if(jQuery.inArray(scheduler._mode,['events'])!==-1){for(var k=0;k<events.length;k++){this._drawBreaktimes(startDate,events[k].key);}}else{this._drawBreaktimes(startDate,false);}
startDate.setDate(startDate.getDate()+1);}},_drawBreaktimes:function(date,unitId){var dayInfo=this.model.getWorkingSchedule(date,unitId);if(!dayInfo){return;}
jQuery(this).trigger('drawBreaktimes',[date,unitId]);var startTime=new Time(this.minHour*60);var endTime=new Time(this.maxHour*60);var schedulerMode='company';if(jQuery.inArray(scheduler._mode,['unit','timeline'])!==-1){schedulerMode='provider';}else if(jQuery.inArray(scheduler._mode,['events'])!==-1){schedulerMode='service';}
var specialDayClass=(dayInfo.date?' special-day date-'+dayInfo.date:'')+
(dayInfo.isCompanyDay?' company-day':(schedulerMode=='provider'?' provider-day-'+unitId:' service-day-'+unitId));if(parseInt(dayInfo.is_day_off)||unitId===-1){this.addDateBreaktime(date,startTime,endTime,unitId,'breaktime is-dayoff'+specialDayClass);return;}
var currentDayStartTime=new Time(dayInfo.start_time);var currentDayEndTime=new Time(dayInfo.end_time);if(currentDayStartTime.getInteger()>startTime.getInteger()){this.addDateBreaktime(date,startTime,currentDayStartTime,unitId,'breaktime'+specialDayClass);}
if(currentDayEndTime.getInteger()<endTime.getInteger()){this.addDateBreaktime(date,currentDayEndTime,endTime,unitId,'breaktime'+specialDayClass);}
for(var i=0;i<dayInfo.breaktimes.length;i++){var time=dayInfo.breaktimes[i].start_time+'-'+dayInfo.breaktimes[i].end_time;var timeClass=' time-'+time;this.addDateBreaktime(date,new Time(dayInfo.breaktimes[i].start_time),new Time(dayInfo.breaktimes[i].end_time),unitId,'breaktime'+specialDayClass+timeClass);}},colorizeEventNode:function(node,color){if(jQuery(node).hasClass('breaktime')||jQuery(node).hasClass('note')){return;}
var fontColor=new Color(color).getContrastColor();jQuery(node).children().not('.booking-status-line').not('.provider-color-dot').css({'background-color':color,'color':fontColor});if(scheduler._mode==='month'||scheduler._mode==='timeline'){jQuery(node).css({'background-color':color,'color':fontColor});}
jQuery(node).addClass('colorized');},addProviderColorDot:function(node,color){if(jQuery(node).hasClass('breaktime')||jQuery(node).hasClass('note')){return;}
var dotParent=node;if(scheduler._mode==='timeline'){dotParent=jQuery('.dhx_cal_event_line',node);}
jQuery('.provider-color-dot',node).remove();var parentWidth=jQuery(dotParent).width();if(parentWidth<18){return;}
jQuery('<div/>').addClass('provider-color-dot'+(parentWidth<24?' provider-color-dot-mini':'')).css({'background-color':color}).appendTo(dotParent);jQuery(dotParent).addClass('has-provider-color-dot');},addTicketStatus:function(node,isValidated,medicalTestStatus){var $node=jQuery(node);if($node.hasClass('breaktime')||$node.hasClass('note')){return;}
if(scheduler._mode==='timeline'){$node=jQuery('.dhx_cal_event_line',$node);}
jQuery('.ticket-status',$node).remove();var parentWidth=jQuery($node).width();if(parentWidth<18){return;}
var statusClass='not-validated';if(medicalTestStatus){statusClass=medicalTestStatus;}else if(isValidated){statusClass='validated';}
jQuery('<div/>').addClass('ticket-status'+(parentWidth<24?' ticket-status-mini':'')).addClass(statusClass).appendTo($node);$node.addClass('has-ticket-status');},addDateBreaktime:function(date,startTime,endTime,unitId,className){if(jQuery.type(className)==='undefined'){className=this.getParam('breaktime_class','breaktime');}
var start=new Date(date);start.setHours(startTime.getHours(),startTime.getMinutes());var end=new Date(date);end.setHours(endTime.getHours(),endTime.getMinutes());this.addBreaktime(start,end,unitId,className);},addBreaktime:function(dateStart,dateEnd,unitId,className){var breaktimeOptions={'css':className};if(unitId){breaktimeOptions['sections']={'timeline':[unitId],'unit':[unitId],'events':[unitId]};}
breaktimeOptions['start_date']=dateStart;breaktimeOptions['end_date']=dateEnd;var breaktimeId=scheduler.addMarkedTimespan(breaktimeOptions);this.breatimeElements.push(breaktimeId);return breaktimeId;},addNote:function(noteId,dateStart,dateEnd,className,note,unitId,eventId,timeBlocked,unit,event,isCommon){var noteOptions={'start_date':dateStart,'end_date':dateEnd,'unit_id':unitId,'event_id':eventId,'time_blocked':timeBlocked,'is_common':isCommon};if(unit){noteOptions['unit']=unit.name;}else if(unitId){var unit=this.model.getUnitObject(unitId);noteOptions['unit']=unit?unit.name:null;}
if(event){noteOptions['event']=event.name;}else if(eventId){var service=this.model.getEventObject(eventId);noteOptions['event']=service?service.name:null;}
noteOptions['text']=note;noteOptions['note_class']=className;noteOptions['note_id']=noteId;return noteOptions;},_getWorkingScheduleFilter:function(){var filter=this._getDateFilter();if(scheduler._mode=='events'){filter.type='event';}
return filter;},_getDateFilter:function(skipOffset){var start=new Date(scheduler._min_date);var end=new Date(scheduler._max_date);var correction=1;if(scheduler._mode==='week'){correction=0;}
if(scheduler._mode==='month'){correction=0;}
if(skipOffset){correction=0;}
start.setDate(start.getDate()-correction);end.setDate(end.getDate()+correction);start.setHours(0,0,0);end.setHours(0,0,0);return{'from':start,'to':end};},setFormMode:function(mode){this.formMode=mode;},initSchedulerConfig:function(){var step=this.model.getTimeframe();var lineHeight=this.getParam('line_height',22);var hourSize=Math.max(lineHeight*60/step,lineHeight*2);scheduler.config.multi_day=false;scheduler.config.details_on_create=true;scheduler.config.mark_now=true;scheduler.config.select=false;scheduler.config.fix_tab_position=false;scheduler.config.xml_date="%Y-%m-%d %H:%i";scheduler.config.first_hour=0;scheduler.config.last_hour=0;scheduler.config.time_step=step;scheduler.config.hour_size_px=hourSize;scheduler.config.start_on_monday=parseInt(Config.getParam('monday_is_first_day'));scheduler.config.multi_day=true;scheduler.config.all_timed=true;if(Config.getTimeFormat()==='12hr'){scheduler.config.hour_date='%h:%i %A';scheduler.xy.scale_width=65;}else{scheduler.config.hour_date='%H:%i';}
scheduler.xy.scale_height=40;scheduler.xy.min_event_height=20;scheduler.xy.nav_height=0;},initSchedulerTimelineView:function(){var step=this.model.getTimeframe();scheduler.createTimelineView({name:'timeline',x_unit:'minute',x_step:step,x_length:60/step*24,y_unit:this._escapeArrayObj(this.model.getUnitList(),['label']),y_property:'unit_id',render:'bar',event_min_dy:30});},initSchedulerUnitView:function(){scheduler.createUnitsView({name:'unit',property:'unit_id',list:this._escapeArrayObj(this.model.getUnitList(),['label'])});},initSchedulerEventView:function(){scheduler.createUnitsView({name:'events',property:'event_id',list:this._escapeArrayObj(this.model.getEventList(),['label'])});},_escapeArrayObj:function(arr,fields){var res=[];jQuery(arr).each(function(key,value){jQuery(fields).each(function(idx,field){value[field]=(value[field]+'').escape();res.push(value);});});return res;},showBookingInfoForm:function(id){this.datepicker.close();scheduler.tooltip.hide();this.showInfoForm(id);},showBookingForm:function(id,isNew,isSaveEndDate){this.datepicker.close();scheduler.tooltip.hide();var params={'is_new':isNew};this.bookingForm.setIsNewBooking(isNew);this.bookingForm.setBookingId(id);this.bookingForm.setAddMoreBookingId(null);if(isNew){var event=scheduler.getEvent(id);params['start_date']=event.start_date;params['unit_id']=event.unit_id;params['event_id']=event.event_id;if(scheduler.dateEndPredefined&&isSaveEndDate){this.customEndDate=event.end_date;}
if(scheduler.dateEndPredefined&&this.customEndDate){params['end_date']=event.end_date;}
this.bookingForm.setId(null);}else{this.bookingForm.setId(id);}
this.bookingForm.showForm(params);},showBreaktimeForm:function(id){var event=scheduler.getEvent(id);var params={'start_time':event.start_date,'end_time':event.end_date,'unit_id':event.unit_id,'event_id':event.event_id,'date':new Date(event.start_date),'is_new':true,'mode':scheduler._mode};this.breaktimeForm.setEventId(id);this.breaktimeForm.showForm(params);},showNoteForm:function(id,isNew){var event=scheduler.getEvent(id);var params={'id':event.note_id,'start_time':event.start_date,'end_time':event.end_date,'unit_id':event.unit_id,'event_id':event.event_id,'date':new Date(event.start_date),'is_new':isNew,'mode':scheduler._mode};scheduler.tooltip.hide();this.noteForm.setEventId(id);this.noteForm.showForm(params);},initSchedulerLocale:function(){scheduler.locale={date:{month_full:[Locale.get('January'),Locale.get('February'),Locale.get('March'),Locale.get('April'),Locale.get('May'),Locale.get('June'),Locale.get('July'),Locale.get('August'),Locale.get('September'),Locale.get('October'),Locale.get('November'),Locale.get('December')],month_short:[Locale.get('Jan'),Locale.get('Feb'),Locale.get('Mar'),Locale.get('Apr'),Locale.get('May'),Locale.get('Jun'),Locale.get('Jul'),Locale.get('Aug'),Locale.get('Sep'),Locale.get('Oct'),Locale.get('Nov'),Locale.get('Dec')],day_full:[Locale.get('Sunday'),Locale.get('Monday'),Locale.get('Tuesday'),Locale.get('Wednesday'),Locale.get('Thursday'),Locale.get('Friday'),Locale.get('Saturday')],day_short:[Locale.get('Su'),Locale.get('Mo'),Locale.get('Tu'),Locale.get('We'),Locale.get('Th'),Locale.get('Fr'),Locale.get('Sa')]},labels:{dhx_cal_today_button:Locale.get('Today'),day_tab:Locale.get('Day'),week_tab:Locale.get('Week'),month_tab:Locale.get('Month'),unit_tab:Locale.get('Units'),timeline_tab:Locale.get('Timeline'),new_event:Locale.get('New event'),icon_save:Locale.get('Save'),icon_cancel:Locale.get('Cancel'),icon_details:Locale.get('Details'),icon_edit:Locale.get('Edit'),icon_delete:Locale.get('Delete'),confirm_closing:'',confirm_deleting:Locale.get('Event will be deleted permanently, are you sure?'),section_description:Locale.get('Description'),section_time:Locale.get('Time period')}};},_onSwicthListFilterMode:function(mode){this.calendarHeaderNode=jQuery('.dhx_cal_header:visible');this.filterPlaceholderNode=jQuery('.filter_placeholder');if(this.calendarHeaderNode.hasClass('stick')){this.calendarHeaderNode.removeClass('stick');this.calendarHeaderNodePosition=this.calendarHeaderNode.offset();this.calendarHeaderNode.addClass('stick');}else{this.calendarHeaderNodePosition=this.calendarHeaderNode.offset();}},_clearListFilter:function(){this.filterUnitList.find('input').prop('checked',false);this.filterEventList.find('input').prop('checked',false);},eventIsNote:function(id){return!!scheduler.getEvent(id).note_id;},});

var DashboardBreaktimeForm=function(options){this.__construct(options);}
jQuery.extend(DashboardBreaktimeForm.prototype,CommonForm.prototype,{options:{'form_url':'/working-time/breaktime/','title':Locale.get('Create breaktime'),'width':450,'save_button_title':Locale.get('Add breaktime')},datePicker:null,startTimePicker:null,endTimePicker:null,performerSelect:null,serviceSelect:null,eventId:null,model:null,initForm:function(){this.model=new DashboardBookingFormModel();this.initHeaderButtons();},initHeaderButtons:function(){var instance=this;jQuery('<button/>').addClass('btn btn-tab calendar-form-mode').data('mode','note').text(Locale.get('Create note')).insertAfter(jQuery('.modal-title',this.header));jQuery('<button/>').addClass('btn btn-tab calendar-form-mode').data('mode','booking').text(Locale.get('Create booking')).insertBefore(jQuery('.modal-title',this.header));this.modeSwitcher=jQuery('.calendar-form-mode',this.container);this.modeSwitcher.bind('click',function(){var newMode=jQuery(this).data('mode');jQuery(instance).trigger('formModeChange',[instance.getEventId(),newMode]);});this.header.addClass('has-switch-buttons');},_getUrl:function(options){var url=this.getParam('form_url');url+='?mode='+options.mode;return url;},onFormLoad:function(options){this.datePicker=new UiDatePicker({'element':jQuery('#date_btn'),'value_element':jQuery('#date')});this.startTimePicker=new UiTimePicker({'element':jQuery('#time_start_btn'),'value_element':jQuery('#time_start'),'timeframe':Config.getTimeFrame()});this.endTimePicker=new UiTimePicker({'element':jQuery('#time_end_btn'),'value_element':jQuery('#time_end'),'timeframe':Config.getTimeFrame()});this.performerSelect=jQuery('#unit_id');this.serviceSelect=jQuery('#event_id');if(options.is_new){this.performerSelect.val(0);if(options.unit_id){this.performerSelect.val(options.unit_id);}
if(options.event_id){this.serviceSelect.val(options.event_id);}
this.startTimePicker.setValue(options.start_time);this.endTimePicker.setValue(options.end_time);this.datePicker.setValue(options.date);jQuery('.modal-title',this.header).text(Locale.get('Create breaktime'));}else{jQuery('.modal-title',this.header).text(Locale.get('Edit breaktime'));}
this.initAdditionalEvents();this.updateTimePickersBorders();this.initModeSwitcher();if(this.body.is(':visible')){Message.showInfo(Locale.get('Take into account that special day will be created or modified.'),this.container);}},initAdditionalEvents:function(){var instance=this;jQuery(this.datePicker).bind('change',function(){instance.updateTimePickersBorders();});this.performerSelect.change(function(){instance.updateTimePickersBorders();});},initModeSwitcher:function(){if(jQuery('form',this.container).data('show-form-mode-buttons')){jQuery('.calendar-form-mode',this.container).show();}else{jQuery('.calendar-form-mode',this.container).hide();}},setEventId:function(id){this.eventId=id;},getEventId:function(){return this.eventId;},updateTimePickersBorders:function(){if(!this.datePicker.getValue()){return;}
var instance=this;this.model.loadWorkingDaySchedule(this.datePicker.getValue(),this.performerSelect.val(),function(data){instance._setAvailableTime(instance.startTimePicker,data.start_time,data.end_time);instance._setAvailableTime(instance.endTimePicker,data.start_time,data.end_time,Config.getTimeFrame());});},_setAvailableTime:function(timePicker,start,end,correction){var startObj=new Time(start);var endObj=new Time(end);if(correction){startObj.parseFromInteger(startObj.getInteger()+correction);endObj.parseFromInteger(endObj.getInteger()+correction);}
timePicker.setAvailableTime(startObj,endObj);}});

var DashboardBreaktimeConfirmationForm=function(options){this.__construct(options);};jQuery.extend(DashboardBreaktimeConfirmationForm.prototype,CommonForm.prototype,{options:{'width':450,'title':Locale.get('Breaktime confirmation'),'save_button_title':Locale.get('Edit'),'delete_breaktime_button_title':Locale.get('Delete breaktime'),'delete_day_button_title':Locale.get('Clear special day'),'delete_breaktime_url':'/rest/worktime/breaktime','delete_day_url':'/rest/worktime/special'},eventData:{},loadBody:function(options){this.eventData=options;var description;var longerDescription='Navigate to worktime interface to change this breaktime?';if(this.eventData.isService){if(this.eventData.isSpecial){description='This is service special day %formattedDate%.';longerDescription='You can navigate to worktime interface to edit this breaktime or you can remove it here. "Clear special day" will remove all this day break time settings for this service.';}else{description='This is service week schedule.';}}else if(this.eventData.isProvider){if(this.eventData.isSpecial){description='This is provider special day %formattedDate%.';longerDescription='You can navigate to worktime interface to edit this breaktime or you can remove it here. "Clear special day" will remove all this day break time settings for this provider.';}else{description='This is provider week schedule.';}}else{if(this.eventData.isSpecial){description='This is company special day %formattedDate%.';longerDescription='You can navigate to worktime interface to edit this breaktime or you can remove it here. "Clear special day" will remove all this day break time settings for the company.';}else{description='This is company week schedule.';}}
this.eventData.formattedDate=new Date(this.eventData.day).getFormattedDate();var confirmationBody='<div class="messages-container"></div>'+'<div>'+Locale.getWithVars(description,this.eventData)+'</div>'+'<div><p>'+Locale.getWithVars(longerDescription,this.eventData)+'</p></div>';this.body.html(confirmationBody);if(this.eventData.isSpecial){this.deleteDayButton.attr('disabled',false).removeClass('disabled');this.deleteBreaktimeButton.attr('disabled',false).removeClass('disabled');}else{this.deleteDayButton.attr('disabled',true).addClass('disabled');this.deleteBreaktimeButton.attr('disabled',true).addClass('disabled');}},_submitAjax:function(){this._hideLoader();this.hideForm(true);var worktimeUrl;if(this.eventData.isService){var services=this.getParam('event_list');var serviceId=this.eventData.serviceId;var service;for(var i=0;i<services.length;++i){if(services[i].id==serviceId){service=services[i];}}
if(service&&service.class_id){if(this.eventData.isSpecial){worktimeUrl='/v2/management/#classes-worktime/class/'+service.class_id+'/year/'+this.eventData.year+'/day/'+this.eventData.day;}else{worktimeUrl='/v2/management/#classes-worktime/class/'+service.class_id;}}else{if(this.eventData.isSpecial){worktimeUrl='/v2/management/#services-worktime/service/'+this.eventData.serviceId+'/year/'+this.eventData.year+'/day/'+this.eventData.day;}else{worktimeUrl='/v2/management/#services-worktime/service/'+this.eventData.serviceId;}}}else if(this.eventData.isProvider){var providers=this.getParam('unit_list');var providerId=this.eventData.providerId;var provider;for(var i=0;i<providers.length;++i){if(providers[i].id==providerId){provider=providers[i];}}
if(provider&&provider.class_id){if(this.eventData.isSpecial){worktimeUrl='/v2/management/#classes-worktime/class/'+provider.class_id+'/year/'+this.eventData.year+'/day/'+this.eventData.day;}else{worktimeUrl='/v2/management/#classes-worktime/class/'+provider.class_id;}}else{if(this.eventData.isSpecial){worktimeUrl='/v2/management/#providers-worktime/provider/'+this.eventData.providerId+'/year/'+this.eventData.year+'/day/'+this.eventData.day;}else{worktimeUrl='/v2/management/#providers-worktime/provider/'+this.eventData.providerId;}}}else{if(this.eventData.isSpecial){worktimeUrl='/v2/management/#company-worktime/year/'+this.eventData.year+'/day/'+this.eventData.day;}else{worktimeUrl='/v2/management/#company-worktime/week';}}
window.open(worktimeUrl);},initForm:function(){var _this=this;if(!this.getParam('hide_buttons')){this.deleteBreaktimeButton=this.createButton(this.getParam('delete_breaktime_button_title',Locale.get('Delete')),'btn-danger');this.footer.append(this.deleteBreaktimeButton);this.deleteBreaktimeButton.click(function(){console.log(1111);console.log(_this.eventData);jQuery.ajax({type:'DELETE',headers:{"X-Csrf-Token":Config.getParam('csrf_token')},url:_this.getParam('delete_breaktime_url')
+('/date/'+_this.eventData.day)
+('/time/'+_this.eventData.time)
+(_this.eventData.serviceId?'/service/'+_this.eventData.serviceId:'')
+(_this.eventData.providerId?'/provider/'+_this.eventData.providerId:''),success:function(response){_this.hideForm(true);jQuery(_this).trigger('deleteBreaktime',[_this.eventData]);},error:function(response){var error=response.responseJSON?response.responseJSON.error:response.responseText;var cont=_this.container;if(jQuery('.messages-container',_this.container).length){cont=jQuery('.messages-container',_this.container);}
Message.showError(error,cont);_this.scrollToError();},dataType:'json'});});this.deleteDayButton=this.createButton(this.getParam('delete_day_button_title',Locale.get('Clear special day')),'btn-danger');this.footer.append(this.deleteDayButton);this.deleteDayButton.click(function(){jQuery.ajax({type:'DELETE',headers:{"X-Csrf-Token":Config.getParam('csrf_token')},url:_this.getParam('delete_day_url')
+('/date/'+_this.eventData.day)
+(_this.eventData.serviceId?'/service/'+_this.eventData.serviceId:'')
+(_this.eventData.providerId?'/provider/'+_this.eventData.providerId:''),success:function(response){_this.hideForm(true);jQuery(_this).trigger('deleteBreaktime',[_this.eventData]);},error:function(response){var error=response.responseJSON?response.responseJSON.error:response.responseText;var cont=_this.container;if(jQuery('.messages-container',_this.container).length){cont=jQuery('.messages-container',_this.container);}
Message.showError(error,cont);_this.scrollToError();},dataType:'json'});});}}});

var DashboardNoteForm=function(options){this.__construct(options);}
jQuery.extend(DashboardNoteForm.prototype,CommonForm.prototype,{options:{'add_form_url':'/index/add-note/','form_url':'/index/edit-note/','title':Locale.get('Create note'),'width':450,'save_button_title':Locale.get('Save and close')},startDateTimePicker:null,endDateTimePicker:null,performerSelect:null,serviceSelect:null,eventId:null,model:null,initForm:function(){var instance=this;this.model=new DashboardBookingFormModel();if(!this.getParam('hide_buttons')){this.deleteButton=this.createButton(this.getParam('delete_button_title',Locale.get('Delete')),'btn-outline-danger').insertAfter(this.cancelButton).click(function(){instance.deleteThis.val(1);instance.submitForm();});}
this.initHeaderButtons();},initHeaderButtons:function(){var instance=this;jQuery('<button/>').addClass('btn btn-tab calendar-form-mode').data('mode','booking').text(Locale.get('Create booking')).insertBefore(jQuery('.modal-title',this.header));this.modeSwitcher=jQuery('.calendar-form-mode',this.container);this.modeSwitcher.bind('click',function(){var newMode=jQuery(this).data('mode');jQuery(instance).trigger('formModeChange',[instance.getEventId(),newMode]);});this.header.addClass('has-switch-buttons');},_getUrl:function(options){var url=options.id?(this.getParam('form_url')+'id/'+options.id+'/'):this.getParam('add_form_url');url+='?mode='+options.mode;return url;},onFormLoad:function(options){var instance=this;this.startDateTimePicker=new UiDatetimePicker({'value_input':jQuery('#date_start',this.body),'calendar_button':jQuery('#date_start_calendar',this.body),'time_button':jQuery('#date_start_time',this.body),'timeframe':Config.getTimeFrame()});this.endDateTimePicker=new UiDatetimePicker({'value_input':jQuery('#date_end',this.body),'calendar_button':jQuery('#date_end_calendar',this.body),'time_button':jQuery('#date_end_time',this.body),'timeframe':Config.getTimeFrame()});this.performerSelect=jQuery('#unit_group_id',this.body);this.performerSelectContainer=this.performerSelect.closest('.form-group');this.serviceSelect=jQuery('#event_id',this.body);this.serviceSelectContainer=this.serviceSelect.closest('.form-group');this.deleteThis=jQuery('#delete_this',this.body);this.targetSelect=jQuery('#target',this.body);instance.updateFieldVisibility();this.targetSelect.change(function(){instance.updateFieldVisibility();});this.noteTypeSelect=jQuery('#note_type_id',this.body);var colorPreview=jQuery('<span/>').addClass('color-preview form-control').insertBefore(this.noteTypeSelect);var updateColorPreview=function(){var noteTypeId=instance.noteTypeSelect.val();var noteTypes=instance.getParam('note_types');var noteType=jQuery.grep(noteTypes,function(t){return t.id==noteTypeId;})[0];if(noteType!==undefined){colorPreview.css('background-color',noteType?'#'+noteType.color:'#fff');}};this.noteTypeSelect.change(updateColorPreview);updateColorPreview();if(!this.getParam('hide_buttons')&&this.deleteThis.length){this.deleteButton.show();}else{this.deleteButton.hide();}
if(options.is_new){this.targetSelect.val('company');if(options.unit_id){this.performerSelect.val(options.unit_id);this.targetSelect.val('unit_group');}
if(options.event_id){this.serviceSelect.val(options.event_id);this.targetSelect.val('event');}
this.updateFieldVisibility();this.startDateTimePicker.setValue(options.start_time);this.endDateTimePicker.setValue(options.end_time);jQuery('.modal-title',this.header).text(Locale.get('Create note'));}else{jQuery('.modal-title',this.header).text(Locale.get('Edit note'));}
this.initAdditionalEvents();instance.updateTimePickersBorders(this.startDateTimePicker,0);instance.updateTimePickersBorders(this.endDateTimePicker,Config.getTimeFrame());this.initModeSwitcher();},initAdditionalEvents:function(){var instance=this;jQuery(this.startDateTimePicker).bind('change',function(){instance.updateTimePickersBorders(instance.startDateTimePicker,0);});jQuery(this.endDateTimePicker).bind('change',function(){instance.updateTimePickersBorders(instance.endDateTimePicker,Config.getTimeFrame());});this.performerSelect.change(function(){instance.updateTimePickersBorders(instance.startDateTimePicker,0);instance.updateTimePickersBorders(instance.endDateTimePicker,Config.getTimeFrame());});},updateTimePickersBorders:function(timePicker,correction){if(!timePicker.getValue()){return;}
var instance=this;this.model.loadWorkingDaySchedule(timePicker.getValue(),this.performerSelect.val(),function(data){instance._setAvailableTime(timePicker,data.start_time,data.end_time,correction);});},initModeSwitcher:function(){if(jQuery('form',this.container).data('show-form-mode-buttons')){jQuery('.calendar-form-mode',this.container).show();}else{jQuery('.calendar-form-mode',this.container).hide();}},setEventId:function(id){this.eventId=id;},getEventId:function(){return this.eventId;},_setAvailableTime:function(timePicker,start,end,correction){var startObj=new Time(start);var endObj=new Time(end);if(correction){startObj.parseFromInteger(startObj.getInteger()+correction);endObj.parseFromInteger(endObj.getInteger()+correction);}
timePicker.setAvailableTime(startObj,endObj);},updateFieldVisibility:function(){var target=this.targetSelect.val();switch(target){case'event':this.performerSelectContainer.hide();this.serviceSelectContainer.show();break;case'unit_group':this.performerSelectContainer.show();this.serviceSelectContainer.hide();break;default:this.performerSelectContainer.hide();this.serviceSelectContainer.hide();}}});

var DashboardNoteConfirmationForm=function(options){this.__construct(options);};jQuery.extend(DashboardNoteConfirmationForm.prototype,CommonForm.prototype,{options:{'width':450,'title':Locale.get('Note changes confirmation'),'save_button_title':Locale.get('Yes'),'form_url':'/index/move-note/'},eventData:{},loadBody:function(options){this.eventData=options;var confirmationBody='<div class="messages-container"></div>'+'<div><p>'+Locale.get('Are you sure you want to change this note?')+'</div>';this.body.html(confirmationBody);},_submitAjax:function(){var instance=this;jQuery.post(this.getParam('form_url'),this.eventData,function(data){instance._handleResult(data);},'json');}});

var DashboardFilterView=function(options){this.__construct(options);};jQuery.extend(DashboardFilterView.prototype,CommonOptions.prototype,{options:{'unit_list':[],'unit_list_selected':[],'event_list':[],'event_list_selected':[],'location_list':[],'category_list':[],'unit_map':[],'plugins':[],},model:null,services:[],categories:{},units:[],locations:{},filterEventCombobox:null,filterUnitCombobox:null,filterEventList:null,filterUnitList:null,filterListItem:null,__construct:function(opts){this.setOptions(opts);this.model=new DashboardBookingFormModel({'unit_list':this.getParam('unit_list'),'event_list':this.getParam('event_list'),'location_list':this.getParam('location_list',[]),'category_list':this.getParam('category_list',[]),'unit_map':this.getParam('unit_map')});this.setParam('unit_list_selected',this.getParam('unit_list'));this.setParam('event_list_selected',this.getParam('event_list'));this.initDom();this.initEvents();this._loadSavedFilter();},initEvents:function(){var instance=this;var plugins=this.getParam('plugins',[]);jQuery(this.filterEventCombobox.element).on('change',function(){var data=instance.filterEventCombobox.getValue(true);var id=data.value;var categoryId=data.category_id;if(plugins.event_category&&instance.getParam('category_list').length){if(id&&data.is_category){if(!instance.categories[id]){instance.categories[id]=[];}
var events=instance.model.getEventList(null,id);var eventIds=jQuery.map(events,function(val,i){return parseInt(val.id);});instance.categories[id]=instance._unique(jQuery.merge(instance.categories[id],eventIds));}else
if(id&&categoryId){if(!instance.categories[categoryId]){instance.categories[categoryId]=[];}
jQuery.each(instance.categories,function(catId,catItem){var events=instance.model.getEventList(null,catId);jQuery.map(events,function(val,i){var currEventId=parseInt(val.id);if(currEventId==id){instance.categories[catId]=instance._unique(jQuery.merge(instance.categories[catId],[id]));}
return currEventId;});});}}else{if(id&&instance.services.indexOf(id)==-1){instance.services.push(parseInt(id));}}
if(id){instance.updateServices();instance.filterEventCombobox.setValue('');instance.updateEventsCombobox();}});jQuery(this.filterUnitCombobox.element).on('change',function(){var data=instance.filterUnitCombobox.getValue(true);var id=data.value;var categoryId=data.category_id;if(plugins.location&&instance.getParam('location_list').length){if(id&&data.is_category){if(!instance.locations[id]){instance.locations[id]=[];}
var units=instance.model.getUnitList(null,id);var unitIds=jQuery.map(units,function(val,i){return parseInt(val.id);});instance.locations[id]=instance._unique(jQuery.merge(instance.locations[id],unitIds));}else
if(id&&categoryId){if(!instance.locations[categoryId]){instance.locations[categoryId]=[];}
jQuery.each(instance.locations,function(locId,locItem){var units=instance.model.getUnitList(null,locId);jQuery.map(units,function(val,i){var currUnitId=parseInt(val.id);if(currUnitId==id){instance.locations[locId]=instance._unique(jQuery.merge(instance.locations[locId],[id]));}
return currUnitId;});});}}else{if(id&&instance.units.indexOf(id)==-1){instance.units.push(parseInt(id));}}
if(id){instance.updateUnits();instance.filterUnitCombobox.setValue('');instance.updateUnitsCombobox();}});jQuery('#new_filter_event_list_container').on('click','.remove',function(){var id=parseInt(jQuery(this).closest('.list-item').data('id'));var categoryId=parseInt(jQuery(this).closest('.list-item').data('category-id'));var isCategory=jQuery(this).closest('.list-item').hasClass('category');if(plugins.event_category&&instance.getParam('category_list').length){if(id&&isCategory){delete instance.categories[id];instance.updateServices();}else
if(id&&instance.categories[categoryId]){jQuery.each(instance.categories,function(categoryId,catItem){instance._without(instance.categories[categoryId],id);});instance.updateServices();}}else{instance._without(instance.services,id);instance.updateServices();}
instance.updateEventsCombobox();});jQuery('#new_filter_unit_list_container').on('click','.remove',function(){var id=parseInt(jQuery(this).closest('.list-item').data('id'));var categoryId=parseInt(jQuery(this).closest('.list-item').data('category-id'));var isCategory=jQuery(this).closest('.list-item').hasClass('category');if(plugins.location&&instance.getParam('location_list').length){if(id&&isCategory){delete instance.locations[id];instance.updateUnits();}else
if(id&&instance.locations[categoryId]){jQuery.each(instance.locations,function(catId,catItem){instance._without(instance.locations[catId],id);});instance.updateUnits();}}else{instance._without(instance.units,id);instance.updateUnits();}
instance.updateUnitsCombobox();});},initDom:function(){var plugins=this.getParam('plugins');this.filterEventCombobox=jQuery('#new_filter_service_id');this.filterUnitCombobox=jQuery('#new_filter_unit_id');this.filterEventList=jQuery('#new_filter_event_list_container');this.filterUnitList=jQuery('#new_filter_unit_list_container');this.filterListItem=this.filterEventList.find('.list-item.default');this.filterListItem.detach().removeClass('default hidden');if(plugins.event_category&&this.getParam('category_list').length){this.initCategoryEventsCombobox();}
if(plugins.location&&this.getParam('location_list').length){this.initLocationUnitsCombobox();}
this.filterEventCombobox=new UiComboboxTree({'element':this.filterEventCombobox});this.filterUnitCombobox=new UiComboboxTree({'element':this.filterUnitCombobox});},initCategoryEventsCombobox:function(){var categoryList=jQuery.merge([],this.getParam('category_list',[]));var eventListTmp=jQuery.merge([],this.getParam('event_list',[]));var eventListFiltered=[];var eventList=[];jQuery.each(eventListTmp,function(idx,event){eventList[event.id]=event;});this.filterEventCombobox.empty();var node='<option value="" ></option>';this.filterEventCombobox.append(node);for(var i=0;i<categoryList.length;i++){var category=categoryList[i];node='<option value="'+category.id+'" data-category="1">'+(category.name+'').escape()+'</option>';eventListFiltered.push(jQuery.extend({is_category:true},category));this.filterEventCombobox.append(node);var categoryEvents=this.model.getEventList(null,category.id);for(var j=0;j<categoryEvents.length;j++){var event=categoryEvents[j];eventList[event.id].is_used=1;node='<option value="'+event.id+'" data-category="0">'+(event.name+'').escape()+'</option>';eventListFiltered.push(event);this.filterEventCombobox.append(node);}}
this.setParam('event_list_selected',eventListFiltered);},updateEventsCombobox:function(){this._updateCombobox({list:this.getParam('event_list_selected',[]),selected:{items:this.services,categories:this.categories,categoriesItems:this.getFilterServices()},filterFunc:jQuery.proxy(this.model,"getEventList")},this.filterEventCombobox);},updateUnitsCombobox:function(){this._updateCombobox({list:this.getParam('unit_list_selected',[]),selected:{items:this.units,categories:this.locations,categoriesItems:this.getFilterUnits()},filterFunc:jQuery.proxy(this.model,"getUnitList")},this.filterUnitCombobox);},_updateCombobox:function(data,jqNode){var isWithCategories=!!data.selected.categories.length;var lastCategoryId=null;var itemsArr=isWithCategories?data.selected.categories:data.selected.items;jqNode.showItem();for(var i=0;i<data.list.length;i++){var item=data.list[i];if(isWithCategories){if(item.is_category){lastCategoryId=parseInt(item.id);var categoryItems=data.filterFunc(null,item.id);var isAllCategoriesItemsSelected=true;jQuery.each(categoryItems,function(num,_catItem){if(data.selected.categoriesItems.indexOf(parseInt(_catItem.id))==-1){isAllCategoriesItemsSelected=false;}});if(isAllCategoriesItemsSelected){jqNode.hideItem(item.id,true);}}else{if(itemsArr[lastCategoryId]&&itemsArr[lastCategoryId].indexOf(parseInt(item.id))!=-1){jqNode.hideItem(item.id,false);}}}else{if(itemsArr.indexOf(parseInt(item.id))!=-1){jqNode.hideItem(item.id,false);}}}},initLocationUnitsCombobox:function(){var locationList=jQuery.merge([],this.getParam('location_list',[]));var unitListTmp=jQuery.merge([],this.getParam('unit_list',[]));var unitListFiltered=[];var unitList=[];jQuery.each(unitListTmp,function(idx,unit){unitList[unit.id]=unit;});this.filterUnitCombobox.empty();var node='<option value="" ></option>';this.filterUnitCombobox.append(node);for(var i=0;i<locationList.length;i++){var location=locationList[i];node='<option value="'+location.id+'" data-category="1">'+(location.name+'').escape()+'</option>';unitListFiltered.push(jQuery.extend({is_category:true},location));this.filterUnitCombobox.append(node);var locationUnits=this.model.getUnitList(null,location.id);for(var j=0;j<locationUnits.length;j++){var unit=locationUnits[j];unitList[unit.id].is_used=1;node='<option value="'+unit.id+'" data-category="0">'+(unit.name+'').escape()+'</option>';unitListFiltered.push(unit);this.filterUnitCombobox.append(node);}}
this.setParam('unit_list_selected',unitListFiltered);},updateServices:function(){this._drawList(this.services,this.categories,this.getParam('event_list_selected',[]),this.filterEventList);},updateUnits:function(){this._drawList(this.units,this.locations,this.getParam('unit_list_selected',[]),this.filterUnitList);},_drawList:function(itemArr,categoryItemArr,list,jqNode){var isWithCategories=Object.keys(categoryItemArr).length?true:false;var lastCategoryNode=null;var lastCategoryId=0;jqNode.empty();for(var i=0;i<list.length;i++){var item=list[i];var itemNode=this.filterListItem.clone();jqNode.append(itemNode);itemNode.addClass('hidden').find('.name').text(item.name);itemNode.attr('data-id',item.id);if(isWithCategories){if(item.is_category){itemNode.addClass('category');lastCategoryNode=itemNode;lastCategoryId=parseInt(item.id);if(!categoryItemArr[item.id]){continue;}
if(!categoryItemArr[item.id].length){delete categoryItemArr[item.id];continue;}
itemNode.removeClass('hidden');}else{if(categoryItemArr[lastCategoryId]&&categoryItemArr[lastCategoryId].indexOf(parseInt(item.id))!=-1){itemNode.removeClass('hidden');}
itemNode.attr('data-category-id',lastCategoryId);}}else{if(itemArr.indexOf(parseInt(item.id))!=-1){itemNode.removeClass('hidden');}}}},_without:function(arr,item){var index=arr.indexOf(item);if(index>-1){arr.splice(index,1);}},_unique:function(arr){var uniqueNames=[];jQuery.each(arr,function(i,el){if(jQuery.inArray(el,uniqueNames)===-1)uniqueNames.push(el);});return uniqueNames;},getFilterServices:function(){if(Object.keys(this.categories).length){var services=[];jQuery.each(this.categories,function(catId,catItem){services=jQuery.merge(services,catItem);});return this._unique(services);}else{return jQuery.merge([],this.services);}},getFilterUnits:function(){if(Object.keys(this.locations).length){var units=[];jQuery.each(this.locations,function(locId,locItem){units=jQuery.merge(units,locItem);});return this._unique(units);}else{return jQuery.merge([],this.units);}},applyFilter:function(){this._saveFilter();},_saveFilter:function(){if(window.localStorage){localStorage.setItem('calendar-filter',JSON.stringify(jQuery.extend(this.getSavedFilterData(),{categories:this.categories,services:this.services,locations:this.locations,units:this.units,force_suffer:0})));}else{console.warn('localStorage can\'t be used');}},getSavedFilterData:function(){var _this=this;if(window.localStorage){var json=localStorage.getItem('calendar-filter');if(json){var data=JSON.parse(json);if(typeof data==='object'&&data){return data;}}}
return{};},_loadSavedFilter:function(){var _this=this;var filterData=this.getSavedFilterData();jQuery.each(['categories','services','locations','units'],function(index,item){if(filterData[item]){_this[item]=filterData[item];}});this.updateServices();this.updateUnits();this.updateEventsCombobox();this.updateUnitsCombobox();},isFilterIsset:function(){var res=false;if(!res&&this.units.length){res=true;}
if(!res&&this.services.length){res=true;}
if(!res&&Object.keys(this.locations).length){res=true;}
if(!res&&Object.keys(this.categories).length){res=true;}
return res;},clearFilter:function(){this.categories={};this.services=[];this.locations={};this.units=[];this.updateServices();this.updateUnits();this.updateEventsCombobox();this.updateUnitsCombobox();}});

var DashboardPluginLimitBookings=function(options){this.__construct(options);};jQuery.extend(DashboardPluginLimitBookings.prototype,DashboardPlugin.prototype,{subscribeEvents:function(){var instance=this;jQuery(this.view).bind('drawBreaktimes',function(event,date,unitId){instance._drawLimitBookings(date,unitId);});jQuery(this.view).bind('breaktimeTooltipsCreated',function(){instance.view.addTooltips(jQuery('.limit-bookings'),Locale.get('Limit bookings plugin'));});},_drawLimitBookings:function(date,unitId){var limitBookings=this.model.getLimitBookings(date);for(var i=0;i<limitBookings.length;i++){this.view.addDateBreaktime(date,new Time(limitBookings[i].start_time),new Time(limitBookings[i].end_time),unitId,'limit-bookings');}}});

var DashboardPluginGoogleBusyTime=function(options){this.__construct(options);};jQuery.extend(DashboardPluginGoogleBusyTime.prototype,DashboardPlugin.prototype,{options:{'available_units':[]},schedulerInstance:null,breaktimes:{},subscribeEvents:function(){var instance=this;jQuery(this.view).bind('finishLoadingWorkingHours',function(event,filter,schedulerInstance){instance.schedulerInstance=schedulerInstance;if(schedulerInstance._mode=='unit'){instance.drawFromCache(filter);instance.loadBusyTime(filter);}});jQuery(this.view).bind('startLoadingWorkingHours',function(event,filter,schedulerInstance){if(schedulerInstance._mode=='unit'){instance.drawFromCache(filter);}});jQuery(this.view).bind('breaktimeTooltipsCreated',function(){instance.view.addTooltips(jQuery('.google-busy-time'),Locale.get('External calendar event'));});},loadBusyTime:function(filter){var instance=this;var units=this._getUnitIds();var _this=this;this.model.loadBusyTimeUnits(filter,units,function(data){for(var i=0;i<units.length;i++){_this.drawBusyTime(_this.model.getBusyTime(units[i]),units[i]);}});},drawFromCache:function(filter){var units=this._getUnitIds();for(var i=0;i<units.length;i++){this.drawBusyTime(this.model.getBusyTime(units[i]),units[i]);}},drawBusyTime:function(data,unitId){this._clearBreaktimes(unitId);for(var i=0;i<data.length;i++){var from=Date.parseMysqlDate(data[i].from);var to=Date.parseMysqlDate(data[i].to);this._pushBreaktime(unitId,this.view.addBreaktime(from,to,unitId,'google-busy-time'));}
this.view.reloadView();},_pushBreaktime:function(unitId,breaktimeId){if(jQuery.type(this.breaktimes[unitId])==='undefined'){this.breaktimes[unitId]=[];}
this.breaktimes[unitId].push(breaktimeId);},_clearBreaktimes:function(unitId){if(jQuery.type(this.breaktimes[unitId])!='undefined'){for(var i=0;i<this.breaktimes[unitId].length;i++){this.view.removeBreaktime(this.breaktimes[unitId][i]);}}},_getUnitIds:function(){var units=this.model.getUnitList();var availableUnits=jQuery.map(this.getParam('available_units',[]),function(value){return parseInt(value);});var result=[];for(var i=0;i<units.length;i++){if(jQuery.inArray(parseInt(units[i].key),availableUnits)!=-1){result.push(units[i].key);}}
return result;}});

var DashboardPluginAutorefresh=function(options){this.__construct(options);};jQuery.extend(DashboardPluginAutorefresh.prototype,DashboardPlugin.prototype,{options:{'interval':30,'bookingsLimit':500},lastId:null,timerId:null,init:function(){this.start();},start:function(){if(this.timerId){return;}
var instance=this;this.timerId=setInterval(function(){instance.checkLastId();},this.getParam('interval')*1000);this.checkLastId();},stop:function(){if(this.timerId){clearInterval(this.timerId);this.timerId=null;}},checkLastId:function(){if(this.view.bookingsDataArr==null||(this.view.bookingsDataArr.length>=this.getParam('bookingsLimit'))){return;}
var instance=this;this.model.getLastActionId(function(id){if(instance.lastId&&instance.lastId!=id){instance.view.loadBookings(null,true);}
instance.lastId=id;});}});

var DashboardPluginPrintPdf=function(options){this.__construct(options);};jQuery.extend(DashboardPluginPrintPdf.prototype,DashboardPlugin.prototype,{options:{'size':[11.7,8.3],'padding':0.15,'ppi':96,'print':'#scheduler'},size:[],padding:0,widthCache:null,printNode:null,scriptsLoaded:false,init:function(){var inchSize=this.getParam('size');var ppi=this.getParam('ppi');this.padding=Math.round(this.getParam('padding')*ppi);this.size=[(inchSize[0]*ppi)-(this.padding*2),(inchSize[1]*ppi)-(this.padding*2)];this.printNode=jQuery(this.getParam('print'));},subscribeEvents:function(){var instance=this;jQuery('#pdf').click(function(){if(Config.getParam('forbidden_to_export',false)){var node=Message.showMessage(Locale.get('forbidden_to_export_for_support'),'danger',null,5000);var visibleTop=$('html').scrollTop();var visibleHeight=window.clientHeight;var parentTop=$(node).offset().top;var additionalValue=$('.sb-page-header').outerHeight();if(parentTop<visibleTop||parentTop>visibleTop+visibleHeight){$('html').animate({scrollTop:parentTop-additionalValue},'slow');}}else{instance.loadScrips(function(){instance.exportToPdf();});}});},loadScrips:function(handler){if(!this.scriptsLoaded){jQuery('<div />').appendTo('body').load('/index/print-js/',handler);this.scriptsLoaded=true;}else{handler();}},exportToPdf:function(){this.widthCache=this.printNode.width();this.printNode.width(jQuery('.dhx_cal_data').width());scheduler.callEvent("onAfterSchedulerResize",[]);var instance=this;if(window.noteCss!==undefined){jQuery('.note',this.printNode).each(function(){var classes=this.classList;var colorClass=null;for(var i=0;i<classes.length;++i){if(classes[i].indexOf('color_')===0){colorClass=classes[i];break;}}
if(colorClass){jQuery(this).css(window.noteCss[colorClass]);}});}
html2canvas(this.printNode,{onrendered:function(canvas){var result=instance._processCanvas(canvas);instance.printNode.width(instance.widthCache);scheduler.callEvent("onAfterSchedulerResize",[]);var format='p';var size=instance.getParam('size');if(size[0]>size[1]){format='l';}
var doc=new jsPDF(format,'in',size,true);for(var i=0;i<result.length;i++){if(i!==0){doc.addPage();}
doc.addImage(result[i].toDataURL('image/png',1.0),'PNG',instance.padding/instance.getParam('ppi'),instance.padding/instance.getParam('ppi'));}
doc.save('export-scheduler.pdf');}});},_processCanvas:function(canvas){var res=[];var offset=50;var offsetX=50;var sourceOffset=0;var sourceWidthOffset=0;var maxHeight=Math.round(this._getPageHeight());var maxWidth=Math.round(this._getPageWidth());while(sourceOffset<canvas.height){while(sourceWidthOffset<canvas.width){var item=document.createElement('canvas');item.width=Math.min(this._getPageWidth()+2,canvas.width-sourceWidthOffset)+offsetX;item.height=Math.min(this._getPageHeight()+2,canvas.height-sourceOffset)+offset;var context=item.getContext('2d');var height=Math.min(maxHeight-offset,canvas.height);var width=Math.min(maxWidth-offsetX,canvas.width);context.drawImage(canvas,sourceWidthOffset,sourceOffset,width,height,offsetX,offset,width,height);jQuery('#i').attr('src',item.toDataURL('image/png',1.0));sourceWidthOffset+=this._getPageWidth()-offsetX;offsetX=0;res.push(item);}
sourceOffset+=this._getPageHeight()-offset;offset=0;sourceWidthOffset=0;}
if(res.length){var context=res[0].getContext('2d');var text=jQuery('#scheduler_date').text();var textSize=context.measureText(text);context.textAlign='center';context.font='16px serif';context.fillText(text,(this._getPageWidth()-textSize.width)/2,this.padding*2);}
return res;},_getPageWidth:function(){return this.size[0];},_getPageHeight:function(){return this.size[1];}});

var DashboardPluginTickets=function(options){this.__construct(options);};jQuery.extend(DashboardPluginTickets.prototype,DashboardPlugin.prototype,{colors:{},init:function(){},subscribeCalendarEvents:function(){var _this=this;scheduler.attachEvent('onEventRendered',function(node,event){_this._updateTicketValidationStatus(node,event);});},_updateTicketValidationStatus:function(node,event){var showTicketInCalendar=!!parseInt(Config.getParam('show_ticket_validation_status_calendar'));if(showTicketInCalendar){if(event.medical_test_status){this.view.addTicketStatus(node,event.ticket_validated,event.medical_test_status);}else if(event.ticket_code){this.view.addTicketStatus(node,event.ticket_validated);}}}});

(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function(jQuery){"use strict";var domfocus=false,mousefocus=false,tabindexcounter=0,ascrailcounter=2000,globalmaxzindex=0;var $=jQuery,_doc=document,_win=window,$window=$(_win);var delegatevents=[];function getScriptPath(){var scripts=_doc.currentScript||(function(){var s=_doc.getElementsByTagName('script');return(s.length)?s[s.length-1]:false;})();var path=scripts?scripts.src.split('?')[0]:'';return(path.split('/').length>0)?path.split('/').slice(0,-1).join('/')+'/':'';}
var setAnimationFrame=_win.requestAnimationFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||false;var clearAnimationFrame=_win.cancelAnimationFrame||_win.webkitCancelAnimationFrame||_win.mozCancelAnimationFrame||false;if(!setAnimationFrame){var anilasttime=0;setAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-anilasttime));var id=_win.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);anilasttime=currTime+timeToCall;return id;};clearAnimationFrame=function(id){_win.clearTimeout(id);};}else{if(!_win.cancelAnimationFrame)clearAnimationFrame=function(id){};}
var ClsMutationObserver=_win.MutationObserver||_win.WebKitMutationObserver||false;var now=Date.now||function(){return new Date().getTime();};var _globaloptions={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:9*3,touchbehavior:false,emulatetouch:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,railhoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:true,enablescrollonselection:true,overflowx:true,overflowy:true,cursordragspeed:0.3,rtlmode:"auto",cursordragontouch:false,oneaxismousemode:"auto",scriptpath:getScriptPath(),preventmultitouchscrolling:true,disablemutationobserver:false,enableobserver:true,scrollbarid:false};var browserdetected=false;var getBrowserDetection=function(){if(browserdetected)return browserdetected;var _el=_doc.createElement('DIV'),_style=_el.style,_agent=navigator.userAgent,_platform=navigator.platform,d={};d.haspointerlock="pointerLockElement"in _doc||"webkitPointerLockElement"in _doc||"mozPointerLockElement"in _doc;d.isopera=("opera"in _win);d.isopera12=(d.isopera&&("getUserMedia"in navigator));d.isoperamini=(Object.prototype.toString.call(_win.operamini)==="[object OperaMini]");d.isie=(("all"in _doc)&&("attachEvent"in _el)&&!d.isopera);d.isieold=(d.isie&&!("msInterpolationMode"in _style));d.isie7=d.isie&&!d.isieold&&(!("documentMode"in _doc)||(_doc.documentMode===7));d.isie8=d.isie&&("documentMode"in _doc)&&(_doc.documentMode===8);d.isie9=d.isie&&("performance"in _win)&&(_doc.documentMode===9);d.isie10=d.isie&&("performance"in _win)&&(_doc.documentMode===10);d.isie11=("msRequestFullscreen"in _el)&&(_doc.documentMode>=11);d.ismsedge=("msCredentials"in _win);d.ismozilla=("MozAppearance"in _style);d.iswebkit=!d.ismsedge&&("WebkitAppearance"in _style);d.ischrome=d.iswebkit&&("chrome"in _win);d.ischrome38=(d.ischrome&&("touchAction"in _style));d.ischrome22=(!d.ischrome38)&&(d.ischrome&&d.haspointerlock);d.ischrome26=(!d.ischrome38)&&(d.ischrome&&("transition"in _style));d.cantouch=("ontouchstart"in _doc.documentElement)||("ontouchstart"in _win);d.hasw3ctouch=(_win.PointerEvent||false)&&((navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0));d.hasmstouch=(!d.hasw3ctouch)&&(_win.MSPointerEvent||false);d.ismac=/^mac$/i.test(_platform);d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(_platform);d.isios4=d.isios&&!("seal"in Object);d.isios7=d.isios&&("webkitHidden"in _doc);d.isios8=d.isios&&("hidden"in _doc);d.isios10=d.isios&&_win.Proxy;d.isandroid=(/android/i.test(_agent));d.haseventlistener=("addEventListener"in _el);d.trstyle=false;d.hastransform=false;d.hastranslate3d=false;d.transitionstyle=false;d.hastransition=false;d.transitionend=false;d.trstyle="transform";d.hastransform=("transform"in _style)||(function(){var check=['msTransform','webkitTransform','MozTransform','OTransform'];for(var a=0,c=check.length;a<c;a++){if(_style[check[a]]!==undefined){d.trstyle=check[a];break;}}
d.hastransform=(!!d.trstyle);})();if(d.hastransform){_style[d.trstyle]="translate3d(1px,2px,3px)";d.hastranslate3d=/translate3d/.test(_style[d.trstyle]);}
d.transitionstyle="transition";d.prefixstyle='';d.transitionend="transitionend";d.hastransition=("transition"in _style)||(function(){d.transitionend=false;var check=['webkitTransition','msTransition','MozTransition','OTransition','OTransition','KhtmlTransition'];var prefix=['-webkit-','-ms-','-moz-','-o-','-o','-khtml-'];var evs=['webkitTransitionEnd','msTransitionEnd','transitionend','otransitionend','oTransitionEnd','KhtmlTransitionEnd'];for(var a=0,c=check.length;a<c;a++){if(check[a]in _style){d.transitionstyle=check[a];d.prefixstyle=prefix[a];d.transitionend=evs[a];break;}}
if(d.ischrome26)d.prefixstyle=prefix[1];d.hastransition=(d.transitionstyle);})();function detectCursorGrab(){var lst=['grab','-webkit-grab','-moz-grab'];if((d.ischrome&&!d.ischrome38)||d.isie)lst=[];for(var a=0,l=lst.length;a<l;a++){var p=lst[a];_style.cursor=p;if(_style.cursor==p)return p;}
return'url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize';}
d.cursorgrabvalue=detectCursorGrab();d.hasmousecapture=("setCapture"in _el);d.hasMutationObserver=(ClsMutationObserver!==false);_el=null;browserdetected=d;return d;};var NiceScrollClass=function(myopt,me){var self=this;this.version='3.7.6';this.name='nicescroll';this.me=me;var $body=$("body");var opt=this.opt={doc:$body,win:false};$.extend(opt,_globaloptions);opt.snapbackspeed=80;if(myopt||false){for(var a in opt){if(myopt[a]!==undefined)opt[a]=myopt[a];}}
if(opt.disablemutationobserver)ClsMutationObserver=false;this.doc=opt.doc;this.iddoc=(this.doc&&this.doc[0])?this.doc[0].id||'':'';this.ispage=/^BODY|HTML/.test((opt.win)?opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=(opt.win!==false);this.win=opt.win||(this.ispage?$window:this.doc);this.docscroll=(this.ispage&&!this.haswrapper)?$window:this.win;this.body=$body;this.viewport=false;this.isfixed=false;this.iframe=false;this.isiframe=((this.doc[0].nodeName=='IFRAME')&&(this.win[0].nodeName=='IFRAME'));this.istextarea=(this.win[0].nodeName=='TEXTAREA');this.forcescreen=false;this.canshowonmouseevent=(opt.autohidemode!="scroll");this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.onscrollstart=false;this.onscrollend=false;this.onscrollcancel=false;this.onzoomin=false;this.onzoomout=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;if(opt.rtlmode=="auto"){var target=this.win[0]==_win?this.body:this.win;var writingMode=target.css("writing-mode")||target.css("-webkit-writing-mode")||target.css("-ms-writing-mode")||target.css("-moz-writing-mode");if(writingMode=="horizontal-tb"||writingMode=="lr-tb"||writingMode===""){this.isrtlmode=(target.css("direction")=="rtl");this.isvertical=false;}else{this.isrtlmode=(writingMode=="vertical-rl"||writingMode=="tb"||writingMode=="tb-rl"||writingMode=="rl-tb");this.isvertical=(writingMode=="vertical-rl"||writingMode=="tb"||writingMode=="tb-rl");}}else{this.isrtlmode=(opt.rtlmode===true);this.isvertical=false;}
this.scrollrunning=false;this.scrollmom=false;this.observer=false;this.observerremover=false;this.observerbody=false;if(opt.scrollbarid!==false){this.id=opt.scrollbarid;}else{do{this.id="ascrail"+(ascrailcounter++);}while(_doc.getElementById(this.id));}
this.rail=false;this.cursor=false;this.cursorfreezed=false;this.selectiondrag=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.railslocked=false;this.locked=false;this.hidden=false;this.cursoractive=true;this.wheelprevented=false;this.overflowx=opt.overflowx;this.overflowy=opt.overflowy;this.nativescrollingarea=false;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=getBrowserDetection();var cap=$.extend({},this.detected);this.canhwscroll=(cap.hastransform&&opt.hwacceleration);this.ishwscroll=(this.canhwscroll&&self.haswrapper);if(!this.isrtlmode){this.hasreversehr=false;}else if(this.isvertical){this.hasreversehr=!(cap.iswebkit||cap.isie||cap.isie11);}else{this.hasreversehr=!(cap.iswebkit||(cap.isie&&!cap.isie10&&!cap.isie11));}
this.istouchcapable=false;if(!cap.cantouch&&(cap.hasw3ctouch||cap.hasmstouch)){this.istouchcapable=true;}else if(cap.cantouch&&!cap.isios&&!cap.isandroid&&(cap.iswebkit||cap.ismozilla)){this.istouchcapable=true;}
if(!opt.enablemouselockapi){cap.hasmousecapture=false;cap.haspointerlock=false;}
this.debounced=function(name,fn,tm){if(!self)return;var dd=self.delaylist[name]||false;if(!dd){self.delaylist[name]={h:setAnimationFrame(function(){self.delaylist[name].fn.call(self);self.delaylist[name]=false;},tm)};fn.call(self);}
self.delaylist[name].fn=fn;};this.synched=function(name,fn){if(self.synclist[name])self.synclist[name]=fn;else{self.synclist[name]=fn;setAnimationFrame(function(){if(!self)return;self.synclist[name]&&self.synclist[name].call(self);self.synclist[name]=null;});}};this.unsynched=function(name){if(self.synclist[name])self.synclist[name]=false;};this.css=function(el,pars){for(var n in pars){self.saved.css.push([el,n,el.css(n)]);el.css(n,pars[n]);}};this.scrollTop=function(val){return(val===undefined)?self.getScrollTop():self.setScrollTop(val);};this.scrollLeft=function(val){return(val===undefined)?self.getScrollLeft():self.setScrollLeft(val);};var BezierClass=function(st,ed,spd,p1,p2,p3,p4){this.st=st;this.ed=ed;this.spd=spd;this.p1=p1||0;this.p2=p2||1;this.p3=p3||0;this.p4=p4||1;this.ts=now();this.df=ed-st;};BezierClass.prototype={B2:function(t){return 3*(1-t)*(1-t)*t;},B3:function(t){return 3*(1-t)*t*t;},B4:function(t){return t*t*t;},getPos:function(){return(now()-this.ts)/this.spd;},getNow:function(){var pc=(now()-this.ts)/this.spd;var bz=this.B2(pc)+this.B3(pc)+this.B4(pc);return(pc>=1)?this.ed:this.st+(this.df*bz)|0;},update:function(ed,spd){this.st=this.getNow();this.ed=ed;this.spd=spd;this.ts=now();this.df=this.ed-this.st;return this;}};function getMatrixValues(){var tr=self.doc.css(cap.trstyle);if(tr&&(tr.substr(0,6)=="matrix")){return tr.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,'').split(/, +/);}
return false;}
if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};if(cap.hastranslate3d&&cap.isios)this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return(mtx.length==16)?-mtx[13]:-mtx[5];if(self.timerscroll&&self.timerscroll.bz)return self.timerscroll.bz.getNow();}
return self.doc.translate.y;};this.getScrollLeft=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return(mtx.length==16)?-mtx[12]:-mtx[4];if(self.timerscroll&&self.timerscroll.bh)return self.timerscroll.bh.getNow();}
return self.doc.translate.x;};this.notifyScrollEvent=function(el){var e=_doc.createEvent("UIEvents");e.initUIEvent("scroll",false,false,_win,1);e.niceevent=true;el.dispatchEvent(e);};var cxscrollleft=(this.isrtlmode)?1:-1;if(cap.hastranslate3d&&opt.enabletranslate3d){this.setScrollTop=function(val,silent){self.doc.translate.y=val;self.doc.translate.ty=(val*-1)+"px";self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0)");if(!silent)self.notifyScrollEvent(self.win[0]);};this.setScrollLeft=function(val,silent){self.doc.translate.x=val;self.doc.translate.tx=(val*cxscrollleft)+"px";self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0)");if(!silent)self.notifyScrollEvent(self.win[0]);};}else{this.setScrollTop=function(val,silent){self.doc.translate.y=val;self.doc.translate.ty=(val*-1)+"px";self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")");if(!silent)self.notifyScrollEvent(self.win[0]);};this.setScrollLeft=function(val,silent){self.doc.translate.x=val;self.doc.translate.tx=(val*cxscrollleft)+"px";self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")");if(!silent)self.notifyScrollEvent(self.win[0]);};}}else{this.getScrollTop=function(){return self.docscroll.scrollTop();};this.setScrollTop=function(val){self.docscroll.scrollTop(val);};this.getScrollLeft=function(){var val;if(!self.hasreversehr){val=self.docscroll.scrollLeft();}else if(self.detected.ismozilla){val=self.page.maxw-Math.abs(self.docscroll.scrollLeft());}else{val=self.page.maxw-self.docscroll.scrollLeft();}
return val;};this.setScrollLeft=function(val){return setTimeout(function(){if(!self)return;if(self.hasreversehr){if(self.detected.ismozilla){val=-(self.page.maxw-val);}else{val=self.page.maxw-val;}}
return self.docscroll.scrollLeft(val);},1);};}
this.getTarget=function(e){if(!e)return false;if(e.target)return e.target;if(e.srcElement)return e.srcElement;return false;};this.hasParent=function(e,id){if(!e)return false;var el=e.target||e.srcElement||e||false;while(el&&el.id!=id){el=el.parentNode||false;}
return(el!==false);};function getZIndex(){var dom=self.win;if("zIndex"in dom)return dom.zIndex();while(dom.length>0){if(dom[0].nodeType==9)return false;var zi=dom.css('zIndex');if(!isNaN(zi)&&zi!==0)return parseInt(zi);dom=dom.parent();}
return false;}
var _convertBorderWidth={"thin":1,"medium":3,"thick":5};function getWidthToPixel(dom,prop,chkheight){var wd=dom.css(prop);var px=parseFloat(wd);if(isNaN(px)){px=_convertBorderWidth[wd]||0;var brd=(px==3)?((chkheight)?(self.win.outerHeight()-self.win.innerHeight()):(self.win.outerWidth()-self.win.innerWidth())):1;if(self.isie8&&px)px+=1;return(brd)?px:0;}
return px;}
this.getDocumentScrollOffset=function(){return{top:_win.pageYOffset||_doc.documentElement.scrollTop,left:_win.pageXOffset||_doc.documentElement.scrollLeft};};this.getOffset=function(){if(self.isfixed){var ofs=self.win.offset();var scrl=self.getDocumentScrollOffset();ofs.top-=scrl.top;ofs.left-=scrl.left;return ofs;}
var ww=self.win.offset();if(!self.viewport)return ww;var vp=self.viewport.offset();return{top:ww.top-vp.top,left:ww.left-vp.left};};this.updateScrollBar=function(len){var pos,off;if(self.ishwscroll){self.rail.css({height:self.win.innerHeight()-(opt.railpadding.top+opt.railpadding.bottom)});if(self.railh)self.railh.css({width:self.win.innerWidth()-(opt.railpadding.left+opt.railpadding.right)});}else{var wpos=self.getOffset();pos={top:wpos.top,left:wpos.left-(opt.railpadding.left+opt.railpadding.right)};pos.top+=getWidthToPixel(self.win,'border-top-width',true);pos.left+=(self.rail.align)?self.win.outerWidth()-getWidthToPixel(self.win,'border-right-width')-self.rail.width:getWidthToPixel(self.win,'border-left-width');off=opt.railoffset;if(off){if(off.top)pos.top+=off.top;if(off.left)pos.left+=off.left;}
if(!self.railslocked)self.rail.css({top:pos.top,left:pos.left,height:((len)?len.h:self.win.innerHeight())-(opt.railpadding.top+opt.railpadding.bottom)});if(self.zoom){self.zoom.css({top:pos.top+1,left:(self.rail.align==1)?pos.left-20:pos.left+self.rail.width+4});}
if(self.railh&&!self.railslocked){pos={top:wpos.top,left:wpos.left};off=opt.railhoffset;if(off){if(off.top)pos.top+=off.top;if(off.left)pos.left+=off.left;}
var y=(self.railh.align)?pos.top+getWidthToPixel(self.win,'border-top-width',true)+self.win.innerHeight()-self.railh.height:pos.top+getWidthToPixel(self.win,'border-top-width',true);var x=pos.left+getWidthToPixel(self.win,'border-left-width');self.railh.css({top:y-(opt.railpadding.top+opt.railpadding.bottom),left:x,width:self.railh.width});}}};this.doRailClick=function(e,dbl,hr){var fn,pg,cur,pos;if(self.railslocked)return;self.cancelEvent(e);if(!("pageY"in e)){e.pageX=e.clientX+_doc.documentElement.scrollLeft;e.pageY=e.clientY+_doc.documentElement.scrollTop;}
if(dbl){fn=(hr)?self.doScrollLeft:self.doScrollTop;cur=(hr)?((e.pageX-self.railh.offset().left-(self.cursorwidth/2))*self.scrollratio.x):((e.pageY-self.rail.offset().top-(self.cursorheight/2))*self.scrollratio.y);self.unsynched("relativexy");fn(cur|0);}else{fn=(hr)?self.doScrollLeftBy:self.doScrollBy;cur=(hr)?self.scroll.x:self.scroll.y;pos=(hr)?e.pageX-self.railh.offset().left:e.pageY-self.rail.offset().top;pg=(hr)?self.view.w:self.view.h;fn((cur>=pos)?pg:-pg);}};self.newscrolly=self.newscrollx=0;self.hasanimationframe=("requestAnimationFrame"in _win);self.hascancelanimationframe=("cancelAnimationFrame"in _win);self.hasborderbox=false;this.init=function(){self.saved.css=[];if(cap.isoperamini)return true;if(cap.isandroid&&!("hidden"in _doc))return true;opt.emulatetouch=opt.emulatetouch||opt.touchbehavior;self.hasborderbox=_win.getComputedStyle&&(_win.getComputedStyle(_doc.body)['box-sizing']==="border-box");var _scrollyhidden={'overflow-y':'hidden'};if(cap.isie11||cap.isie10)_scrollyhidden['-ms-overflow-style']='none';if(self.ishwscroll){this.doc.css(cap.transitionstyle,cap.prefixstyle+'transform 0ms ease-out');if(cap.transitionend)self.bind(self.doc,cap.transitionend,self.onScrollTransitionEnd,false);}
self.zindex="auto";if(!self.ispage&&opt.zindex=="auto"){self.zindex=getZIndex()||"auto";}else{self.zindex=opt.zindex;}
if(!self.ispage&&self.zindex!="auto"&&self.zindex>globalmaxzindex){globalmaxzindex=self.zindex;}
if(self.isie&&self.zindex===0&&opt.zindex=="auto"){self.zindex="auto";}
if(!self.ispage||!cap.isieold){var cont=self.docscroll;if(self.ispage)cont=(self.haswrapper)?self.win:self.doc;self.css(cont,_scrollyhidden);if(self.ispage&&(cap.isie11||cap.isie)){self.css($("html"),_scrollyhidden);}
if(cap.isios&&!self.ispage&&!self.haswrapper)self.css($body,{"-webkit-overflow-scrolling":"touch"});var cursor=$(_doc.createElement('div'));cursor.css({position:"relative",top:0,"float":"right",width:opt.cursorwidth,height:0,'background-color':opt.cursorcolor,border:opt.cursorborder,'background-clip':'padding-box','-webkit-border-radius':opt.cursorborderradius,'-moz-border-radius':opt.cursorborderradius,'border-radius':opt.cursorborderradius});cursor.addClass('nicescroll-cursors');self.cursor=cursor;var rail=$(_doc.createElement('div'));rail.attr('id',self.id);rail.addClass('nicescroll-rails nicescroll-rails-vr');var v,a,kp=["left","right","top","bottom"];for(var n in kp){a=kp[n];v=opt.railpadding[a]||0;v&&rail.css("padding-"+a,v+"px");}
rail.append(cursor);rail.width=Math.max(parseFloat(opt.cursorwidth),cursor.outerWidth());rail.css({width:rail.width+"px",zIndex:self.zindex,background:opt.background,cursor:"default"});rail.visibility=true;rail.scrollable=true;rail.align=(opt.railalign=="left")?0:1;self.rail=rail;self.rail.drag=false;var zoom=false;if(opt.boxzoom&&!self.ispage&&!cap.isieold){zoom=_doc.createElement('div');self.bind(zoom,"click",self.doZoom);self.bind(zoom,"mouseenter",function(){self.zoom.css('opacity',opt.cursoropacitymax);});self.bind(zoom,"mouseleave",function(){self.zoom.css('opacity',opt.cursoropacitymin);});self.zoom=$(zoom);self.zoom.css({cursor:"pointer",zIndex:self.zindex,backgroundImage:'url('+opt.scriptpath+'zoomico.png)',height:18,width:18,backgroundPosition:'0 0'});if(opt.dblclickzoom)self.bind(self.win,"dblclick",self.doZoom);if(cap.cantouch&&opt.gesturezoom){self.ongesturezoom=function(e){if(e.scale>1.5)self.doZoomIn(e);if(e.scale<0.8)self.doZoomOut(e);return self.cancelEvent(e);};self.bind(self.win,"gestureend",self.ongesturezoom);}}
self.railh=false;var railh;if(opt.horizrailenabled){self.css(cont,{overflowX:'hidden'});cursor=$(_doc.createElement('div'));cursor.css({position:"absolute",top:0,height:opt.cursorwidth,width:0,backgroundColor:opt.cursorcolor,border:opt.cursorborder,backgroundClip:'padding-box','-webkit-border-radius':opt.cursorborderradius,'-moz-border-radius':opt.cursorborderradius,'border-radius':opt.cursorborderradius});if(cap.isieold)cursor.css('overflow','hidden');cursor.addClass('nicescroll-cursors');self.cursorh=cursor;railh=$(_doc.createElement('div'));railh.attr('id',self.id+'-hr');railh.addClass('nicescroll-rails nicescroll-rails-hr');railh.height=Math.max(parseFloat(opt.cursorwidth),cursor.outerHeight());railh.css({height:railh.height+"px",'zIndex':self.zindex,"background":opt.background});railh.append(cursor);railh.visibility=true;railh.scrollable=true;railh.align=(opt.railvalign=="top")?0:1;self.railh=railh;self.railh.drag=false;}
if(self.ispage){rail.css({position:"fixed",top:0,height:"100%"});rail.css((rail.align)?{right:0}:{left:0});self.body.append(rail);if(self.railh){railh.css({position:"fixed",left:0,width:"100%"});railh.css((railh.align)?{bottom:0}:{top:0});self.body.append(railh);}}else{if(self.ishwscroll){if(self.win.css('position')=='static')self.css(self.win,{'position':'relative'});var bd=(self.win[0].nodeName=='HTML')?self.body:self.win;$(bd).scrollTop(0).scrollLeft(0);if(self.zoom){self.zoom.css({position:"absolute",top:1,right:0,"margin-right":rail.width+4});bd.append(self.zoom);}
rail.css({position:"absolute",top:0});rail.css((rail.align)?{right:0}:{left:0});bd.append(rail);if(railh){railh.css({position:"absolute",left:0,bottom:0});railh.css((railh.align)?{bottom:0}:{top:0});bd.append(railh);}}else{self.isfixed=(self.win.css("position")=="fixed");var rlpos=(self.isfixed)?"fixed":"absolute";if(!self.isfixed)self.viewport=self.getViewport(self.win[0]);if(self.viewport){self.body=self.viewport;if(!(/fixed|absolute/.test(self.viewport.css("position"))))self.css(self.viewport,{"position":"relative"});}
rail.css({position:rlpos});if(self.zoom)self.zoom.css({position:rlpos});self.updateScrollBar();self.body.append(rail);if(self.zoom)self.body.append(self.zoom);if(self.railh){railh.css({position:rlpos});self.body.append(railh);}}
if(cap.isios)self.css(self.win,{'-webkit-tap-highlight-color':'rgba(0,0,0,0)','-webkit-touch-callout':'none'});if(opt.disableoutline){if(cap.isie)self.win.attr("hideFocus","true");if(cap.iswebkit)self.win.css('outline','none');}}
if(opt.autohidemode===false){self.autohidedom=false;self.rail.css({opacity:opt.cursoropacitymax});if(self.railh)self.railh.css({opacity:opt.cursoropacitymax});}else if((opt.autohidemode===true)||(opt.autohidemode==="leave")){self.autohidedom=$().add(self.rail);if(cap.isie8)self.autohidedom=self.autohidedom.add(self.cursor);if(self.railh)self.autohidedom=self.autohidedom.add(self.railh);if(self.railh&&cap.isie8)self.autohidedom=self.autohidedom.add(self.cursorh);}else if(opt.autohidemode=="scroll"){self.autohidedom=$().add(self.rail);if(self.railh)self.autohidedom=self.autohidedom.add(self.railh);}else if(opt.autohidemode=="cursor"){self.autohidedom=$().add(self.cursor);if(self.railh)self.autohidedom=self.autohidedom.add(self.cursorh);}else if(opt.autohidemode=="hidden"){self.autohidedom=false;self.hide();self.railslocked=false;}
if(cap.cantouch||self.istouchcapable||opt.emulatetouch||cap.hasmstouch){self.scrollmom=new ScrollMomentumClass2D(self);var delayedclick=null;self.ontouchstart=function(e){if(self.locked)return false;if(e.pointerType&&(e.pointerType==='mouse'||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return false;self.hasmoving=false;if(self.scrollmom.timer){self.triggerScrollEnd();self.scrollmom.stop();}
if(!self.railslocked){var tg=self.getTarget(e);if(tg){var skp=(/INPUT/i.test(tg.nodeName))&&(/range/i.test(tg.type));if(skp)return self.stopPropagation(e);}
var ismouse=(e.type==="mousedown");if(!("clientX"in e)&&("changedTouches"in e)){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY;}
if(self.forcescreen){var le=e;e={"original":(e.original)?e.original:e};e.clientX=le.screenX;e.clientY=le.screenY;}
self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:false,tg:tg};if(self.ispage||!opt.directionlockdeadzone){self.rail.drag.dl="f";}else{var view={w:$window.width(),h:$window.height()};var page=self.getContentSize();var maxh=page.h-view.h;var maxw=page.w-view.w;if(self.rail.scrollable&&!self.railh.scrollable)self.rail.drag.ck=(maxh>0)?"v":false;else if(!self.rail.scrollable&&self.railh.scrollable)self.rail.drag.ck=(maxw>0)?"h":false;else self.rail.drag.ck=false;}
if(opt.emulatetouch&&self.isiframe&&cap.isie){var wp=self.win.position();self.rail.drag.x+=wp.left;self.rail.drag.y+=wp.top;}
self.hasmoving=false;self.lastmouseup=false;self.scrollmom.reset(e.clientX,e.clientY);if(tg&&ismouse){var ip=/INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);if(!ip){if(cap.hasmousecapture)tg.setCapture();if(opt.emulatetouch){if(tg.onclick&&!(tg._onclick||false)){tg._onclick=tg.onclick;tg.onclick=function(e){if(self.hasmoving)return false;tg._onclick.call(this,e);};}
return self.cancelEvent(e);}
return self.stopPropagation(e);}
if(/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))){self.preventclick={"tg":tg,"click":false};}}}};self.ontouchend=function(e){if(!self.rail.drag)return true;if(self.rail.drag.pt==2){if(e.pointerType&&(e.pointerType==='mouse'||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return false;self.rail.drag=false;var ismouse=(e.type==="mouseup");if(self.hasmoving){self.scrollmom.doMomentum();self.lastmouseup=true;self.hideCursor();if(cap.hasmousecapture)_doc.releaseCapture();if(ismouse)return self.cancelEvent(e);}}
else if(self.rail.drag.pt==1){return self.onmouseup(e);}};var moveneedoffset=(opt.emulatetouch&&self.isiframe&&!cap.hasmousecapture);var locktollerance=opt.directionlockdeadzone*0.3|0;self.ontouchmove=function(e,byiframe){if(!self.rail.drag)return true;if(e.targetTouches&&opt.preventmultitouchscrolling){if(e.targetTouches.length>1)return true;}
if(e.pointerType&&(e.pointerType==='mouse'||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return true;if(self.rail.drag.pt==2){if(("changedTouches"in e)){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY;}
var ofy,ofx;ofx=ofy=0;if(moveneedoffset&&!byiframe){var wp=self.win.position();ofx=-wp.left;ofy=-wp.top;}
var fy=e.clientY+ofy;var my=(fy-self.rail.drag.y);var fx=e.clientX+ofx;var mx=(fx-self.rail.drag.x);var ny=self.rail.drag.st-my;if(self.ishwscroll&&opt.bouncescroll){if(ny<0){ny=Math.round(ny/2);}else if(ny>self.page.maxh){ny=self.page.maxh+Math.round((ny-self.page.maxh)/2);}}else{if(ny<0){ny=0;fy=0;}
else if(ny>self.page.maxh){ny=self.page.maxh;fy=0;}
if(fy===0&&!self.hasmoving){if(!self.ispage)self.rail.drag=false;return true;}}
var nx=self.getScrollLeft();if(self.railh&&self.railh.scrollable){nx=(self.isrtlmode)?mx-self.rail.drag.sl:self.rail.drag.sl-mx;if(self.ishwscroll&&opt.bouncescroll){if(nx<0){nx=Math.round(nx/2);}else if(nx>self.page.maxw){nx=self.page.maxw+Math.round((nx-self.page.maxw)/2);}}else{if(nx<0){nx=0;fx=0;}
if(nx>self.page.maxw){nx=self.page.maxw;fx=0;}}}
if(!self.hasmoving){if(self.rail.drag.y===e.clientY&&self.rail.drag.x===e.clientX)return self.cancelEvent(e);var ay=Math.abs(my);var ax=Math.abs(mx);var dz=opt.directionlockdeadzone;if(!self.rail.drag.ck){if(ay>dz&&ax>dz)self.rail.drag.dl="f";else if(ay>dz)self.rail.drag.dl=(ax>locktollerance)?"f":"v";else if(ax>dz)self.rail.drag.dl=(ay>locktollerance)?"f":"h";}
else if(self.rail.drag.ck=="v"){if(ax>dz&&ay<=locktollerance){self.rail.drag=false;}
else if(ay>dz)self.rail.drag.dl="v";}
else if(self.rail.drag.ck=="h"){if(ay>dz&&ax<=locktollerance){self.rail.drag=false;}
else if(ax>dz)self.rail.drag.dl="h";}
if(!self.rail.drag.dl)return self.cancelEvent(e);self.triggerScrollStart(e.clientX,e.clientY,0,0,0);self.hasmoving=true;}
if(self.preventclick&&!self.preventclick.click){self.preventclick.click=self.preventclick.tg.onclick||false;self.preventclick.tg.onclick=self.onpreventclick;}
if(self.rail.drag.dl){if(self.rail.drag.dl=="v")nx=self.rail.drag.sl;else if(self.rail.drag.dl=="h")ny=self.rail.drag.st;}
self.synched("touchmove",function(){if(self.rail.drag&&(self.rail.drag.pt==2)){if(self.prepareTransition)self.resetTransition();if(self.rail.scrollable)self.setScrollTop(ny);self.scrollmom.update(fx,fy);if(self.railh&&self.railh.scrollable){self.setScrollLeft(nx);self.showCursor(ny,nx);}else{self.showCursor(ny);}
if(cap.isie10)_doc.selection.clear();}});return self.cancelEvent(e);}
else if(self.rail.drag.pt==1){return self.onmousemove(e);}};self.ontouchstartCursor=function(e,hronly){if(self.rail.drag&&self.rail.drag.pt!=3)return;if(self.locked)return self.cancelEvent(e);self.cancelScroll();self.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:self.scroll.x,sy:self.scroll.y,pt:3,hr:(!!hronly)};var tg=self.getTarget(e);if(!self.ispage&&cap.hasmousecapture)tg.setCapture();if(self.isiframe&&!cap.hasmousecapture){self.saved.csspointerevents=self.doc.css("pointer-events");self.css(self.doc,{"pointer-events":"none"});}
return self.cancelEvent(e);};self.ontouchendCursor=function(e){if(self.rail.drag){if(cap.hasmousecapture)_doc.releaseCapture();if(self.isiframe&&!cap.hasmousecapture)self.doc.css("pointer-events",self.saved.csspointerevents);if(self.rail.drag.pt!=3)return;self.rail.drag=false;return self.cancelEvent(e);}};self.ontouchmoveCursor=function(e){if(self.rail.drag){if(self.rail.drag.pt!=3)return;self.cursorfreezed=true;if(self.rail.drag.hr){self.scroll.x=self.rail.drag.sx+(e.touches[0].clientX-self.rail.drag.x);if(self.scroll.x<0)self.scroll.x=0;var mw=self.scrollvaluemaxw;if(self.scroll.x>mw)self.scroll.x=mw;}else{self.scroll.y=self.rail.drag.sy+(e.touches[0].clientY-self.rail.drag.y);if(self.scroll.y<0)self.scroll.y=0;var my=self.scrollvaluemax;if(self.scroll.y>my)self.scroll.y=my;}
self.synched('touchmove',function(){if(self.rail.drag&&(self.rail.drag.pt==3)){self.showCursor();if(self.rail.drag.hr)self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),opt.cursordragspeed);else self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),opt.cursordragspeed);}});return self.cancelEvent(e);}};}
self.onmousedown=function(e,hronly){if(self.rail.drag&&self.rail.drag.pt!=1)return;if(self.railslocked)return self.cancelEvent(e);self.cancelScroll();self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:hronly||false};var tg=self.getTarget(e);if(cap.hasmousecapture)tg.setCapture();if(self.isiframe&&!cap.hasmousecapture){self.saved.csspointerevents=self.doc.css("pointer-events");self.css(self.doc,{"pointer-events":"none"});}
self.hasmoving=false;return self.cancelEvent(e);};self.onmouseup=function(e){if(self.rail.drag){if(self.rail.drag.pt!=1)return true;if(cap.hasmousecapture)_doc.releaseCapture();if(self.isiframe&&!cap.hasmousecapture)self.doc.css("pointer-events",self.saved.csspointerevents);self.rail.drag=false;self.cursorfreezed=false;if(self.hasmoving)self.triggerScrollEnd();return self.cancelEvent(e);}};self.onmousemove=function(e){if(self.rail.drag){if(self.rail.drag.pt!==1)return;if(cap.ischrome&&e.which===0)return self.onmouseup(e);self.cursorfreezed=true;if(!self.hasmoving)self.triggerScrollStart(e.clientX,e.clientY,0,0,0);self.hasmoving=true;if(self.rail.drag.hr){self.scroll.x=self.rail.drag.sx+(e.clientX-self.rail.drag.x);if(self.scroll.x<0)self.scroll.x=0;var mw=self.scrollvaluemaxw;if(self.scroll.x>mw)self.scroll.x=mw;}else{self.scroll.y=self.rail.drag.sy+(e.clientY-self.rail.drag.y);if(self.scroll.y<0)self.scroll.y=0;var my=self.scrollvaluemax;if(self.scroll.y>my)self.scroll.y=my;}
self.synched('mousemove',function(){if(self.cursorfreezed){self.showCursor();if(self.rail.drag.hr){self.scrollLeft(Math.round(self.scroll.x*self.scrollratio.x));}else{self.scrollTop(Math.round(self.scroll.y*self.scrollratio.y));}}});return self.cancelEvent(e);}
else{self.checkarea=0;}};if(cap.cantouch||opt.emulatetouch){self.onpreventclick=function(e){if(self.preventclick){self.preventclick.tg.onclick=self.preventclick.click;self.preventclick=false;return self.cancelEvent(e);}};self.onclick=(cap.isios)?false:function(e){if(self.lastmouseup){self.lastmouseup=false;return self.cancelEvent(e);}else{return true;}};if(opt.grabcursorenabled&&cap.cursorgrabvalue){self.css((self.ispage)?self.doc:self.win,{'cursor':cap.cursorgrabvalue});self.css(self.rail,{'cursor':cap.cursorgrabvalue});}}else{var checkSelectionScroll=function(e){if(!self.selectiondrag)return;if(e){var ww=self.win.outerHeight();var df=(e.pageY-self.selectiondrag.top);if(df>0&&df<ww)df=0;if(df>=ww)df-=ww;self.selectiondrag.df=df;}
if(self.selectiondrag.df===0)return;var rt=-(self.selectiondrag.df*2/6)|0;self.doScrollBy(rt);self.debounced("doselectionscroll",function(){checkSelectionScroll();},50);};if("getSelection"in _doc){self.hasTextSelected=function(){return(_doc.getSelection().rangeCount>0);};}else if("selection"in _doc){self.hasTextSelected=function(){return(_doc.selection.type!="None");};}else{self.hasTextSelected=function(){return false;};}
self.onselectionstart=function(e){if(self.ispage)return;self.selectiondrag=self.win.offset();};self.onselectionend=function(e){self.selectiondrag=false;};self.onselectiondrag=function(e){if(!self.selectiondrag)return;if(self.hasTextSelected())self.debounced("selectionscroll",function(){checkSelectionScroll(e);},250);};}
if(cap.hasw3ctouch){self.css((self.ispage)?$("html"):self.win,{'touch-action':'none'});self.css(self.rail,{'touch-action':'none'});self.css(self.cursor,{'touch-action':'none'});self.bind(self.win,"pointerdown",self.ontouchstart);self.bind(_doc,"pointerup",self.ontouchend);self.delegate(_doc,"pointermove",self.ontouchmove);}else if(cap.hasmstouch){self.css((self.ispage)?$("html"):self.win,{'-ms-touch-action':'none'});self.css(self.rail,{'-ms-touch-action':'none'});self.css(self.cursor,{'-ms-touch-action':'none'});self.bind(self.win,"MSPointerDown",self.ontouchstart);self.bind(_doc,"MSPointerUp",self.ontouchend);self.delegate(_doc,"MSPointerMove",self.ontouchmove);self.bind(self.cursor,"MSGestureHold",function(e){e.preventDefault();});self.bind(self.cursor,"contextmenu",function(e){e.preventDefault();});}else if(cap.cantouch){self.bind(self.win,"touchstart",self.ontouchstart,false,true);self.bind(_doc,"touchend",self.ontouchend,false,true);self.bind(_doc,"touchcancel",self.ontouchend,false,true);self.delegate(_doc,"touchmove",self.ontouchmove,false,true);}
if(opt.emulatetouch){self.bind(self.win,"mousedown",self.ontouchstart,false,true);self.bind(_doc,"mouseup",self.ontouchend,false,true);self.bind(_doc,"mousemove",self.ontouchmove,false,true);}
if(opt.cursordragontouch||(!cap.cantouch&&!opt.emulatetouch)){self.rail.css({cursor:"default"});self.railh&&self.railh.css({cursor:"default"});self.jqbind(self.rail,"mouseenter",function(){if(!self.ispage&&!self.win.is(":visible"))return false;if(self.canshowonmouseevent)self.showCursor();self.rail.active=true;});self.jqbind(self.rail,"mouseleave",function(){self.rail.active=false;if(!self.rail.drag)self.hideCursor();});if(opt.sensitiverail){self.bind(self.rail,"click",function(e){self.doRailClick(e,false,false);});self.bind(self.rail,"dblclick",function(e){self.doRailClick(e,true,false);});self.bind(self.cursor,"click",function(e){self.cancelEvent(e);});self.bind(self.cursor,"dblclick",function(e){self.cancelEvent(e);});}
if(self.railh){self.jqbind(self.railh,"mouseenter",function(){if(!self.ispage&&!self.win.is(":visible"))return false;if(self.canshowonmouseevent)self.showCursor();self.rail.active=true;});self.jqbind(self.railh,"mouseleave",function(){self.rail.active=false;if(!self.rail.drag)self.hideCursor();});if(opt.sensitiverail){self.bind(self.railh,"click",function(e){self.doRailClick(e,false,true);});self.bind(self.railh,"dblclick",function(e){self.doRailClick(e,true,true);});self.bind(self.cursorh,"click",function(e){self.cancelEvent(e);});self.bind(self.cursorh,"dblclick",function(e){self.cancelEvent(e);});}}}
if(opt.cursordragontouch&&(this.istouchcapable||cap.cantouch)){self.bind(self.cursor,"touchstart",self.ontouchstartCursor);self.bind(self.cursor,"touchmove",self.ontouchmoveCursor);self.bind(self.cursor,"touchend",self.ontouchendCursor);self.cursorh&&self.bind(self.cursorh,"touchstart",function(e){self.ontouchstartCursor(e,true);});self.cursorh&&self.bind(self.cursorh,"touchmove",self.ontouchmoveCursor);self.cursorh&&self.bind(self.cursorh,"touchend",self.ontouchendCursor);}
if(!opt.emulatetouch&&!cap.isandroid&&!cap.isios){self.bind((cap.hasmousecapture)?self.win:_doc,"mouseup",self.onmouseup);self.bind(_doc,"mousemove",self.onmousemove);if(self.onclick)self.bind(_doc,"click",self.onclick);self.bind(self.cursor,"mousedown",self.onmousedown);self.bind(self.cursor,"mouseup",self.onmouseup);if(self.railh){self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,true);});self.bind(self.cursorh,"mouseup",self.onmouseup);}
if(!self.ispage&&opt.enablescrollonselection){self.bind(self.win[0],"mousedown",self.onselectionstart);self.bind(_doc,"mouseup",self.onselectionend);self.bind(self.cursor,"mouseup",self.onselectionend);if(self.cursorh)self.bind(self.cursorh,"mouseup",self.onselectionend);self.bind(_doc,"mousemove",self.onselectiondrag);}
if(self.zoom){self.jqbind(self.zoom,"mouseenter",function(){if(self.canshowonmouseevent)self.showCursor();self.rail.active=true;});self.jqbind(self.zoom,"mouseleave",function(){self.rail.active=false;if(!self.rail.drag)self.hideCursor();});}}else{self.bind((cap.hasmousecapture)?self.win:_doc,"mouseup",self.ontouchend);if(self.onclick)self.bind(_doc,"click",self.onclick);if(opt.cursordragontouch){self.bind(self.cursor,"mousedown",self.onmousedown);self.bind(self.cursor,"mouseup",self.onmouseup);self.cursorh&&self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,true);});self.cursorh&&self.bind(self.cursorh,"mouseup",self.onmouseup);}else{self.bind(self.rail,"mousedown",function(e){e.preventDefault();});self.railh&&self.bind(self.railh,"mousedown",function(e){e.preventDefault();});}}
if(opt.enablemousewheel){if(!self.isiframe)self.mousewheel((cap.isie&&self.ispage)?_doc:self.win,self.onmousewheel);self.mousewheel(self.rail,self.onmousewheel);if(self.railh)self.mousewheel(self.railh,self.onmousewheelhr);}
if(!self.ispage&&!cap.cantouch&&!(/HTML|^BODY/.test(self.win[0].nodeName))){if(!self.win.attr("tabindex"))self.win.attr({"tabindex":++tabindexcounter});self.bind(self.win,"focus",function(e){domfocus=(self.getTarget(e)).id||self.getTarget(e)||false;self.hasfocus=true;if(self.canshowonmouseevent)self.noticeCursor();});self.bind(self.win,"blur",function(e){domfocus=false;self.hasfocus=false;});self.bind(self.win,"mouseenter",function(e){mousefocus=(self.getTarget(e)).id||self.getTarget(e)||false;self.hasmousefocus=true;if(self.canshowonmouseevent)self.noticeCursor();});self.bind(self.win,"mouseleave",function(e){mousefocus=false;self.hasmousefocus=false;if(!self.rail.drag)self.hideCursor();});}
self.onkeypress=function(e){if(self.railslocked&&self.page.maxh===0)return true;e=e||_win.event;var tg=self.getTarget(e);if(tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)){var tp=tg.getAttribute('type')||tg.type||false;if((!tp)||!(/submit|button|cancel/i.tp))return true;}
if($(tg).attr('contenteditable'))return true;if(self.hasfocus||(self.hasmousefocus&&!domfocus)||(self.ispage&&!domfocus&&!mousefocus)){var key=e.keyCode;if(self.railslocked&&key!=27)return self.cancelEvent(e);var ctrl=e.ctrlKey||false;var shift=e.shiftKey||false;var ret=false;switch(key){case 38:case 63233:self.doScrollBy(24*3);ret=true;break;case 40:case 63235:self.doScrollBy(-24*3);ret=true;break;case 37:case 63232:if(self.railh){(ctrl)?self.doScrollLeft(0):self.doScrollLeftBy(24*3);ret=true;}
break;case 39:case 63234:if(self.railh){(ctrl)?self.doScrollLeft(self.page.maxw):self.doScrollLeftBy(-24*3);ret=true;}
break;case 33:case 63276:self.doScrollBy(self.view.h);ret=true;break;case 34:case 63277:self.doScrollBy(-self.view.h);ret=true;break;case 36:case 63273:(self.railh&&ctrl)?self.doScrollPos(0,0):self.doScrollTo(0);ret=true;break;case 35:case 63275:(self.railh&&ctrl)?self.doScrollPos(self.page.maxw,self.page.maxh):self.doScrollTo(self.page.maxh);ret=true;break;case 32:if(opt.spacebarenabled){(shift)?self.doScrollBy(self.view.h):self.doScrollBy(-self.view.h);ret=true;}
break;case 27:if(self.zoomactive){self.doZoom();ret=true;}
break;}
if(ret)return self.cancelEvent(e);}};if(opt.enablekeyboard)self.bind(_doc,(cap.isopera&&!cap.isopera12)?"keypress":"keydown",self.onkeypress);self.bind(_doc,"keydown",function(e){var ctrl=e.ctrlKey||false;if(ctrl)self.wheelprevented=true;});self.bind(_doc,"keyup",function(e){var ctrl=e.ctrlKey||false;if(!ctrl)self.wheelprevented=false;});self.bind(_win,"blur",function(e){self.wheelprevented=false;});self.bind(_win,'resize',self.onscreenresize);self.bind(_win,'orientationchange',self.onscreenresize);self.bind(_win,"load",self.lazyResize);if(cap.ischrome&&!self.ispage&&!self.haswrapper){var tmp=self.win.attr("style");var ww=parseFloat(self.win.css("width"))+1;self.win.css('width',ww);self.synched("chromefix",function(){self.win.attr("style",tmp);});}
self.onAttributeChange=function(e){self.lazyResize(self.isieold?250:30);};if(opt.enableobserver){if((!self.isie11)&&(ClsMutationObserver!==false)){self.observerbody=new ClsMutationObserver(function(mutations){mutations.forEach(function(mut){if(mut.type=="attributes"){return($body.hasClass("modal-open")&&$body.hasClass("modal-dialog")&&!$.contains($('.modal-dialog')[0],self.doc[0]))?self.hide():self.show();}});if(self.me.clientWidth!=self.page.width||self.me.clientHeight!=self.page.height)return self.lazyResize(30);});self.observerbody.observe(_doc.body,{childList:true,subtree:true,characterData:false,attributes:true,attributeFilter:['class']});}
if(!self.ispage&&!self.haswrapper){var _dom=self.win[0];if(ClsMutationObserver!==false){self.observer=new ClsMutationObserver(function(mutations){mutations.forEach(self.onAttributeChange);});self.observer.observe(_dom,{childList:true,characterData:false,attributes:true,subtree:false});self.observerremover=new ClsMutationObserver(function(mutations){mutations.forEach(function(mo){if(mo.removedNodes.length>0){for(var dd in mo.removedNodes){if(!!self&&(mo.removedNodes[dd]===_dom))return self.remove();}}});});self.observerremover.observe(_dom.parentNode,{childList:true,characterData:false,attributes:false,subtree:false});}else{self.bind(_dom,(cap.isie&&!cap.isie9)?"propertychange":"DOMAttrModified",self.onAttributeChange);if(cap.isie9)_dom.attachEvent("onpropertychange",self.onAttributeChange);self.bind(_dom,"DOMNodeRemoved",function(e){if(e.target===_dom)self.remove();});}}}
if(!self.ispage&&opt.boxzoom)self.bind(_win,"resize",self.resizeZoom);if(self.istextarea){self.bind(self.win,"keydown",self.lazyResize);self.bind(self.win,"mouseup",self.lazyResize);}
self.lazyResize(30);}
if(this.doc[0].nodeName=='IFRAME'){var oniframeload=function(){self.iframexd=false;var doc;try{doc='contentDocument'in this?this.contentDocument:this.contentWindow._doc;var a=doc.domain;}catch(e){self.iframexd=true;doc=false;}
if(self.iframexd){if("console"in _win)console.log('NiceScroll error: policy restriced iframe');return true;}
self.forcescreen=true;if(self.isiframe){self.iframe={"doc":$(doc),"html":self.doc.contents().find('html')[0],"body":self.doc.contents().find('body')[0]};self.getContentSize=function(){return{w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)};};self.docscroll=$(self.iframe.body);}
if(!cap.isios&&opt.iframeautoresize&&!self.isiframe){self.win.scrollTop(0);self.doc.height("");var hh=Math.max(doc.getElementsByTagName('html')[0].scrollHeight,doc.body.scrollHeight);self.doc.height(hh);}
self.lazyResize(30);self.css($(self.iframe.body),_scrollyhidden);if(cap.isios&&self.haswrapper){self.css($(doc.body),{'-webkit-transform':'translate3d(0,0,0)'});}
if('contentWindow'in this){self.bind(this.contentWindow,"scroll",self.onscroll);}else{self.bind(doc,"scroll",self.onscroll);}
if(opt.enablemousewheel){self.mousewheel(doc,self.onmousewheel);}
if(opt.enablekeyboard)self.bind(doc,(cap.isopera)?"keypress":"keydown",self.onkeypress);if(cap.cantouch){self.bind(doc,"touchstart",self.ontouchstart);self.bind(doc,"touchmove",self.ontouchmove);}
else if(opt.emulatetouch){self.bind(doc,"mousedown",self.ontouchstart);self.bind(doc,"mousemove",function(e){return self.ontouchmove(e,true);});if(opt.grabcursorenabled&&cap.cursorgrabvalue)self.css($(doc.body),{'cursor':cap.cursorgrabvalue});}
self.bind(doc,"mouseup",self.ontouchend);if(self.zoom){if(opt.dblclickzoom)self.bind(doc,'dblclick',self.doZoom);if(self.ongesturezoom)self.bind(doc,"gestureend",self.ongesturezoom);}};if(this.doc[0].readyState&&this.doc[0].readyState==="complete"){setTimeout(function(){oniframeload.call(self.doc[0],false);},500);}
self.bind(this.doc,"load",oniframeload);}};this.showCursor=function(py,px){if(self.cursortimeout){clearTimeout(self.cursortimeout);self.cursortimeout=0;}
if(!self.rail)return;if(self.autohidedom){self.autohidedom.stop().css({opacity:opt.cursoropacitymax});self.cursoractive=true;}
if(!self.rail.drag||self.rail.drag.pt!=1){if(py!==undefined&&py!==false){self.scroll.y=(py/self.scrollratio.y)|0;}
if(px!==undefined){self.scroll.x=(px/self.scrollratio.x)|0;}}
self.cursor.css({height:self.cursorheight,top:self.scroll.y});if(self.cursorh){var lx=(self.hasreversehr)?self.scrollvaluemaxw-self.scroll.x:self.scroll.x;self.cursorh.css({width:self.cursorwidth,left:(!self.rail.align&&self.rail.visibility)?lx+self.rail.width:lx});self.cursoractive=true;}
if(self.zoom)self.zoom.stop().css({opacity:opt.cursoropacitymax});};this.hideCursor=function(tm){if(self.cursortimeout)return;if(!self.rail)return;if(!self.autohidedom)return;if(self.hasmousefocus&&opt.autohidemode==="leave")return;self.cursortimeout=setTimeout(function(){if(!self.rail.active||!self.showonmouseevent){self.autohidedom.stop().animate({opacity:opt.cursoropacitymin});if(self.zoom)self.zoom.stop().animate({opacity:opt.cursoropacitymin});self.cursoractive=false;}
self.cursortimeout=0;},tm||opt.hidecursordelay);};this.noticeCursor=function(tm,py,px){self.showCursor(py,px);if(!self.rail.active)self.hideCursor(tm);};this.getContentSize=(self.ispage)?function(){return{w:Math.max(_doc.body.scrollWidth,_doc.documentElement.scrollWidth),h:Math.max(_doc.body.scrollHeight,_doc.documentElement.scrollHeight)};}:(self.haswrapper)?function(){return{w:self.doc[0].offsetWidth,h:self.doc[0].offsetHeight};}:function(){return{w:self.docscroll[0].scrollWidth,h:self.docscroll[0].scrollHeight};};this.onResize=function(e,page){if(!self||!self.win)return false;var premaxh=self.page.maxh,premaxw=self.page.maxw,previewh=self.view.h,previeww=self.view.w;self.view={w:(self.ispage)?self.win.width():self.win[0].clientWidth,h:(self.ispage)?self.win.height():self.win[0].clientHeight};self.page=(page)?page:self.getContentSize();self.page.maxh=Math.max(0,self.page.h-self.view.h);self.page.maxw=Math.max(0,self.page.w-self.view.w);if((self.page.maxh==premaxh)&&(self.page.maxw==premaxw)&&(self.view.w==previeww)&&(self.view.h==previewh)){if(!self.ispage){var pos=self.win.offset();if(self.lastposition){var lst=self.lastposition;if((lst.top==pos.top)&&(lst.left==pos.left))return self;}
self.lastposition=pos;}else{return self;}}
if(self.page.maxh===0){self.hideRail();self.scrollvaluemax=0;self.scroll.y=0;self.scrollratio.y=0;self.cursorheight=0;self.setScrollTop(0);if(self.rail)self.rail.scrollable=false;}else{self.page.maxh-=(opt.railpadding.top+opt.railpadding.bottom);self.rail.scrollable=true;}
if(self.page.maxw===0){self.hideRailHr();self.scrollvaluemaxw=0;self.scroll.x=0;self.scrollratio.x=0;self.cursorwidth=0;self.setScrollLeft(0);if(self.railh){self.railh.scrollable=false;}}else{self.page.maxw-=(opt.railpadding.left+opt.railpadding.right);if(self.railh)self.railh.scrollable=(opt.horizrailenabled);}
self.railslocked=(self.locked)||((self.page.maxh===0)&&(self.page.maxw===0));if(self.railslocked){if(!self.ispage)self.updateScrollBar(self.view);return false;}
if(!self.hidden){if(!self.rail.visibility)self.showRail();if(self.railh&&!self.railh.visibility)self.showRailHr();}
if(self.istextarea&&self.win.css('resize')&&self.win.css('resize')!='none')self.view.h-=20;self.cursorheight=Math.min(self.view.h,Math.round(self.view.h*(self.view.h/self.page.h)));self.cursorheight=(opt.cursorfixedheight)?opt.cursorfixedheight:Math.max(opt.cursorminheight,self.cursorheight);self.cursorwidth=Math.min(self.view.w,Math.round(self.view.w*(self.view.w/self.page.w)));self.cursorwidth=(opt.cursorfixedheight)?opt.cursorfixedheight:Math.max(opt.cursorminheight,self.cursorwidth);self.scrollvaluemax=self.view.h-self.cursorheight-(opt.railpadding.top+opt.railpadding.bottom);if(!self.hasborderbox)self.scrollvaluemax-=self.cursor[0].offsetHeight-self.cursor[0].clientHeight;if(self.railh){self.railh.width=(self.page.maxh>0)?(self.view.w-self.rail.width):self.view.w;self.scrollvaluemaxw=self.railh.width-self.cursorwidth-(opt.railpadding.left+opt.railpadding.right);}
if(!self.ispage)self.updateScrollBar(self.view);self.scrollratio={x:(self.page.maxw/self.scrollvaluemaxw),y:(self.page.maxh/self.scrollvaluemax)};var sy=self.getScrollTop();if(sy>self.page.maxh){self.doScrollTop(self.page.maxh);}else{self.scroll.y=(self.getScrollTop()/self.scrollratio.y)|0;self.scroll.x=(self.getScrollLeft()/self.scrollratio.x)|0;if(self.cursoractive)self.noticeCursor();}
if(self.scroll.y&&(self.getScrollTop()===0))self.doScrollTo((self.scroll.y*self.scrollratio.y)|0);return self;};this.resize=self.onResize;var hlazyresize=0;this.onscreenresize=function(e){clearTimeout(hlazyresize);var hiderails=(!self.ispage&&!self.haswrapper);if(hiderails)self.hideRails();hlazyresize=setTimeout(function(){if(self){if(hiderails)self.showRails();self.resize();}
hlazyresize=0;},120);};this.lazyResize=function(tm){clearTimeout(hlazyresize);tm=isNaN(tm)?240:tm;hlazyresize=setTimeout(function(){self&&self.resize();hlazyresize=0;},tm);return self;};function _modernWheelEvent(dom,name,fn,bubble){self._bind(dom,name,function(e){e=e||_win.event;var event={original:e,target:e.target||e.srcElement,type:"wheel",deltaMode:e.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=false;return false;},stopImmediatePropagation:function(){(e.stopImmediatePropagation)?e.stopImmediatePropagation():e.cancelBubble=true;}};if(name=="mousewheel"){e.wheelDeltaX&&(event.deltaX=-1/40*e.wheelDeltaX);e.wheelDeltaY&&(event.deltaY=-1/40*e.wheelDeltaY);!event.deltaY&&!event.deltaX&&(event.deltaY=-1/40*e.wheelDelta);}else{event.deltaY=e.detail;}
return fn.call(dom,event);},bubble);}
this.jqbind=function(dom,name,fn){self.events.push({e:dom,n:name,f:fn,q:true});$(dom).on(name,fn);};this.mousewheel=function(dom,fn,bubble){var el=("jquery"in dom)?dom[0]:dom;if("onwheel"in _doc.createElement("div")){self._bind(el,"wheel",fn,bubble||false);}else{var wname=(_doc.onmousewheel!==undefined)?"mousewheel":"DOMMouseScroll";_modernWheelEvent(el,wname,fn,bubble||false);if(wname=="DOMMouseScroll")_modernWheelEvent(el,"MozMousePixelScroll",fn,bubble||false);}};var passiveSupported=false;if(cap.haseventlistener){try{var options=Object.defineProperty({},"passive",{get:function(){passiveSupported=!0;}});_win.addEventListener("test",null,options);}catch(err){}
this.stopPropagation=function(e){if(!e)return false;e=(e.original)?e.original:e;e.stopPropagation();return false;};this.cancelEvent=function(e){if(e.cancelable)e.preventDefault();e.stopImmediatePropagation();if(e.preventManipulation)e.preventManipulation();return false;};}else{Event.prototype.preventDefault=function(){this.returnValue=false;};Event.prototype.stopPropagation=function(){this.cancelBubble=true;};_win.constructor.prototype.addEventListener=_doc.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(type,listener,useCapture){this.attachEvent("on"+type,listener);};_win.constructor.prototype.removeEventListener=_doc.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(type,listener,useCapture){this.detachEvent("on"+type,listener);};this.cancelEvent=function(e){e=e||_win.event;if(e){e.cancelBubble=true;e.cancel=true;e.returnValue=false;}
return false;};this.stopPropagation=function(e){e=e||_win.event;if(e)e.cancelBubble=true;return false;};}
this.delegate=function(dom,name,fn,bubble,active){var de=delegatevents[name]||false;if(!de){de={a:[],l:[],f:function(e){var lst=de.l,l=lst.length-1;var r=false;for(var a=l;a>=0;a--){r=lst[a].call(e.target,e);if(r===false)return false;}
return r;}};self.bind(dom,name,de.f,bubble,active);delegatevents[name]=de;}
if(self.ispage){de.a=[self.id].concat(de.a);de.l=[fn].concat(de.l);}else{de.a.push(self.id);de.l.push(fn);}};this.undelegate=function(dom,name,fn,bubble,active){var de=delegatevents[name]||false;if(de&&de.l){for(var a=0,l=de.l.length;a<l;a++){if(de.a[a]===self.id){de.a.splice(a);de.l.splice(a);if(de.a.length===0){self._unbind(dom,name,de.l.f);delegatevents[name]=null;}}}}};this.bind=function(dom,name,fn,bubble,active){var el=("jquery"in dom)?dom[0]:dom;self._bind(el,name,fn,bubble||false,active||false);};this._bind=function(el,name,fn,bubble,active){self.events.push({e:el,n:name,f:fn,b:bubble,q:false});(passiveSupported&&active)?el.addEventListener(name,fn,{passive:false,capture:bubble}):el.addEventListener(name,fn,bubble||false);};this._unbind=function(el,name,fn,bub){if(delegatevents[name])self.undelegate(el,name,fn,bub);else el.removeEventListener(name,fn,bub);};this.unbindAll=function(){for(var a=0;a<self.events.length;a++){var r=self.events[a];(r.q)?r.e.unbind(r.n,r.f):self._unbind(r.e,r.n,r.f,r.b);}};this.showRails=function(){return self.showRail().showRailHr();};this.showRail=function(){if((self.page.maxh!==0)&&(self.ispage||self.win.css('display')!='none')){self.rail.visibility=true;self.rail.css('display','block');}
return self;};this.showRailHr=function(){if(self.railh){if((self.page.maxw!==0)&&(self.ispage||self.win.css('display')!='none')){self.railh.visibility=true;self.railh.css('display','block');}}
return self;};this.hideRails=function(){return self.hideRail().hideRailHr();};this.hideRail=function(){self.rail.visibility=false;self.rail.css('display','none');return self;};this.hideRailHr=function(){if(self.railh){self.railh.visibility=false;self.railh.css('display','none');}
return self;};this.show=function(){self.hidden=false;self.railslocked=false;return self.showRails();};this.hide=function(){self.hidden=true;self.railslocked=true;return self.hideRails();};this.toggle=function(){return(self.hidden)?self.show():self.hide();};this.remove=function(){self.stop();if(self.cursortimeout)clearTimeout(self.cursortimeout);for(var n in self.delaylist)if(self.delaylist[n])clearAnimationFrame(self.delaylist[n].h);self.doZoomOut();self.unbindAll();if(cap.isie9)self.win[0].detachEvent("onpropertychange",self.onAttributeChange);if(self.observer!==false)self.observer.disconnect();if(self.observerremover!==false)self.observerremover.disconnect();if(self.observerbody!==false)self.observerbody.disconnect();self.events=null;if(self.cursor){self.cursor.remove();}
if(self.cursorh){self.cursorh.remove();}
if(self.rail){self.rail.remove();}
if(self.railh){self.railh.remove();}
if(self.zoom){self.zoom.remove();}
for(var a=0;a<self.saved.css.length;a++){var d=self.saved.css[a];d[0].css(d[1],(d[2]===undefined)?'':d[2]);}
self.saved=false;self.me.data('__nicescroll','');var lst=$.nicescroll;lst.each(function(i){if(!this)return;if(this.id===self.id){delete lst[i];for(var b=++i;b<lst.length;b++,i++)lst[i]=lst[b];lst.length--;if(lst.length)delete lst[lst.length];}});for(var i in self){self[i]=null;delete self[i];}
self=null;};this.scrollstart=function(fn){this.onscrollstart=fn;return self;};this.scrollend=function(fn){this.onscrollend=fn;return self;};this.scrollcancel=function(fn){this.onscrollcancel=fn;return self;};this.zoomin=function(fn){this.onzoomin=fn;return self;};this.zoomout=function(fn){this.onzoomout=fn;return self;};this.isScrollable=function(e){var dom=(e.target)?e.target:e;if(dom.nodeName=='OPTION')return true;while(dom&&(dom.nodeType==1)&&(dom!==this.me[0])&&!(/^BODY|HTML/.test(dom.nodeName))){var dd=$(dom);var ov=dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';if(/scroll|auto/.test(ov))return(dom.clientHeight!=dom.scrollHeight);dom=(dom.parentNode)?dom.parentNode:false;}
return false;};this.getViewport=function(me){var dom=(me&&me.parentNode)?me.parentNode:false;while(dom&&(dom.nodeType==1)&&!(/^BODY|HTML/.test(dom.nodeName))){var dd=$(dom);if(/fixed|absolute/.test(dd.css("position")))return dd;var ov=dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';if((/scroll|auto/.test(ov))&&(dom.clientHeight!=dom.scrollHeight))return dd;if(dd.getNiceScroll().length>0)return dd;dom=(dom.parentNode)?dom.parentNode:false;}
return false;};this.triggerScrollStart=function(cx,cy,rx,ry,ms){if(self.onscrollstart){var info={type:"scrollstart",current:{x:cx,y:cy},request:{x:rx,y:ry},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info);}};this.triggerScrollEnd=function(){if(self.onscrollend){var px=self.getScrollLeft();var py=self.getScrollTop();var info={type:"scrollend",current:{x:px,y:py},end:{x:px,y:py}};self.onscrollend.call(self,info);}};var scrolldiry=0,scrolldirx=0,scrolltmr=0,scrollspd=1;function doScrollRelative(px,py,chkscroll,iswheel){if(!self.scrollrunning){self.newscrolly=self.getScrollTop();self.newscrollx=self.getScrollLeft();scrolltmr=now();}
var gap=(now()-scrolltmr);scrolltmr=now();if(gap>350){scrollspd=1;}else{scrollspd+=(2-scrollspd)/10;}
px=px*scrollspd|0;py=py*scrollspd|0;if(px){if(iswheel){if(px<0){if(self.getScrollLeft()>=self.page.maxw)return true;}else{if(self.getScrollLeft()<=0)return true;}}
var dx=px>0?1:-1;if(scrolldirx!==dx){if(self.scrollmom)self.scrollmom.stop();self.newscrollx=self.getScrollLeft();scrolldirx=dx;}
self.lastdeltax-=px;}
if(py){var chk=(function(){var top=self.getScrollTop();if(py<0){if(top>=self.page.maxh)return true;}else{if(top<=0)return true;}})();if(chk){if(opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive)return true;var ny=self.view.h>>1;if(self.newscrolly<-ny){self.newscrolly=-ny;py=-1;}
else if(self.newscrolly>self.page.maxh+ny){self.newscrolly=self.page.maxh+ny;py=1;}
else py=0;}
var dy=py>0?1:-1;if(scrolldiry!==dy){if(self.scrollmom)self.scrollmom.stop();self.newscrolly=self.getScrollTop();scrolldiry=dy;}
self.lastdeltay-=py;}
if(py||px){self.synched("relativexy",function(){var dty=self.lastdeltay+self.newscrolly;self.lastdeltay=0;var dtx=self.lastdeltax+self.newscrollx;self.lastdeltax=0;if(!self.rail.drag)self.doScrollPos(dtx,dty);});}}
var hasparentscrollingphase=false;function execScrollWheel(e,hr,chkscroll){var px,py;if(!chkscroll&&hasparentscrollingphase)return true;if(e.deltaMode===0){px=-(e.deltaX*(opt.mousescrollstep/(18*3)))|0;py=-(e.deltaY*(opt.mousescrollstep/(18*3)))|0;}else if(e.deltaMode===1){px=-(e.deltaX*opt.mousescrollstep*50/80)|0;py=-(e.deltaY*opt.mousescrollstep*50/80)|0;}
if(hr&&opt.oneaxismousemode&&(px===0)&&py){px=py;py=0;if(chkscroll){var hrend=(px<0)?(self.getScrollLeft()>=self.page.maxw):(self.getScrollLeft()<=0);if(hrend){py=px;px=0;}}}
if(self.isrtlmode)px=-px;var chk=doScrollRelative(px,py,chkscroll,true);if(chk){if(chkscroll)hasparentscrollingphase=true;}else{hasparentscrollingphase=false;e.stopImmediatePropagation();return e.preventDefault();}}
this.onmousewheel=function(e){if(self.wheelprevented||self.locked)return false;if(self.railslocked){self.debounced("checkunlock",self.resize,250);return false;}
if(self.rail.drag)return self.cancelEvent(e);if(opt.oneaxismousemode==="auto"&&e.deltaX!==0)opt.oneaxismousemode=false;if(opt.oneaxismousemode&&e.deltaX===0){if(!self.rail.scrollable){if(self.railh&&self.railh.scrollable){return self.onmousewheelhr(e);}else{return true;}}}
var nw=now();var chk=false;if(opt.preservenativescrolling&&((self.checkarea+600)<nw)){self.nativescrollingarea=self.isScrollable(e);chk=true;}
self.checkarea=nw;if(self.nativescrollingarea)return true;var ret=execScrollWheel(e,false,chk);if(ret)self.checkarea=0;return ret;};this.onmousewheelhr=function(e){if(self.wheelprevented)return;if(self.railslocked||!self.railh.scrollable)return true;if(self.rail.drag)return self.cancelEvent(e);var nw=now();var chk=false;if(opt.preservenativescrolling&&((self.checkarea+600)<nw)){self.nativescrollingarea=self.isScrollable(e);chk=true;}
self.checkarea=nw;if(self.nativescrollingarea)return true;if(self.railslocked)return self.cancelEvent(e);return execScrollWheel(e,true,chk);};this.stop=function(){self.cancelScroll();if(self.scrollmon)self.scrollmon.stop();self.cursorfreezed=false;self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y));self.noticeCursor();return self;};this.getTransitionSpeed=function(dif){return 80+(dif/72)*opt.scrollspeed|0;};if(!opt.smoothscroll){this.doScrollLeft=function(x,spd){var y=self.getScrollTop();self.doScrollPos(x,y,spd);};this.doScrollTop=function(y,spd){var x=self.getScrollLeft();self.doScrollPos(x,y,spd);};this.doScrollPos=function(x,y,spd){var nx=(x>self.page.maxw)?self.page.maxw:x;if(nx<0)nx=0;var ny=(y>self.page.maxh)?self.page.maxh:y;if(ny<0)ny=0;self.synched('scroll',function(){self.setScrollTop(ny);self.setScrollLeft(nx);});};this.cancelScroll=function(){};}else if(self.ishwscroll&&cap.hastransition&&opt.usetransition&&!!opt.smoothscroll){var lasttransitionstyle='';this.resetTransition=function(){lasttransitionstyle='';self.doc.css(cap.prefixstyle+'transition-duration','0ms');};this.prepareTransition=function(dif,istime){var ex=(istime)?dif:self.getTransitionSpeed(dif);var trans=ex+'ms';if(lasttransitionstyle!==trans){lasttransitionstyle=trans;self.doc.css(cap.prefixstyle+'transition-duration',trans);}
return ex;};this.doScrollLeft=function(x,spd){var y=(self.scrollrunning)?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd);};this.doScrollTop=function(y,spd){var x=(self.scrollrunning)?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd);};this.cursorupdate={running:false,start:function(){var m=this;if(m.running)return;m.running=true;var loop=function(){if(m.running)setAnimationFrame(loop);self.showCursor(self.getScrollTop(),self.getScrollLeft());self.notifyScrollEvent(self.win[0]);};setAnimationFrame(loop);},stop:function(){this.running=false;}};this.doScrollPos=function(x,y,spd){var py=self.getScrollTop();var px=self.getScrollLeft();if(((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0))self.cancelScroll();if(!opt.bouncescroll){if(y<0)y=0;else if(y>self.page.maxh)y=self.page.maxh;if(x<0)x=0;else if(x>self.page.maxw)x=self.page.maxw;}else{if(y<0)y=y/2|0;else if(y>self.page.maxh)y=self.page.maxh+(y-self.page.maxh)/2|0;if(x<0)x=x/2|0;else if(x>self.page.maxw)x=self.page.maxw+(x-self.page.maxw)/2|0;}
if(self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly)return false;self.newscrolly=y;self.newscrollx=x;var top=self.getScrollTop();var lft=self.getScrollLeft();var dst={};dst.x=x-lft;dst.y=y-top;var dd=Math.sqrt((dst.x*dst.x)+(dst.y*dst.y))|0;var ms=self.prepareTransition(dd);if(!self.scrollrunning){self.scrollrunning=true;self.triggerScrollStart(lft,top,x,y,ms);self.cursorupdate.start();}
self.scrollendtrapped=true;if(!cap.transitionend){if(self.scrollendtrapped)clearTimeout(self.scrollendtrapped);self.scrollendtrapped=setTimeout(self.onScrollTransitionEnd,ms);}
self.setScrollTop(self.newscrolly);self.setScrollLeft(self.newscrollx);};this.cancelScroll=function(){if(!self.scrollendtrapped)return true;var py=self.getScrollTop();var px=self.getScrollLeft();self.scrollrunning=false;if(!cap.transitionend)clearTimeout(cap.transitionend);self.scrollendtrapped=false;self.resetTransition();self.setScrollTop(py);if(self.railh)self.setScrollLeft(px);if(self.timerscroll&&self.timerscroll.tm)clearInterval(self.timerscroll.tm);self.timerscroll=false;self.cursorfreezed=false;self.cursorupdate.stop();self.showCursor(py,px);return self;};this.onScrollTransitionEnd=function(){if(!self.scrollendtrapped)return;var py=self.getScrollTop();var px=self.getScrollLeft();if(py<0)py=0;else if(py>self.page.maxh)py=self.page.maxh;if(px<0)px=0;else if(px>self.page.maxw)px=self.page.maxw;if((py!=self.newscrolly)||(px!=self.newscrollx))return self.doScrollPos(px,py,opt.snapbackspeed);if(self.scrollrunning)self.triggerScrollEnd();self.scrollrunning=false;self.scrollendtrapped=false;self.resetTransition();self.timerscroll=false;self.setScrollTop(py);if(self.railh)self.setScrollLeft(px);self.cursorupdate.stop();self.noticeCursor(false,py,px);self.cursorfreezed=false;};}else{this.doScrollLeft=function(x,spd){var y=(self.scrollrunning)?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd);};this.doScrollTop=function(y,spd){var x=(self.scrollrunning)?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd);};this.doScrollPos=function(x,y,spd){var py=self.getScrollTop();var px=self.getScrollLeft();if(((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0))self.cancelScroll();var clipped=false;if(!self.bouncescroll||!self.rail.visibility){if(y<0){y=0;clipped=true;}else if(y>self.page.maxh){y=self.page.maxh;clipped=true;}}
if(!self.bouncescroll||!self.railh.visibility){if(x<0){x=0;clipped=true;}else if(x>self.page.maxw){x=self.page.maxw;clipped=true;}}
if(self.scrollrunning&&(self.newscrolly===y)&&(self.newscrollx===x))return true;self.newscrolly=y;self.newscrollx=x;self.dst={};self.dst.x=x-px;self.dst.y=y-py;self.dst.px=px;self.dst.py=py;var dd=Math.sqrt((self.dst.x*self.dst.x)+(self.dst.y*self.dst.y))|0;var ms=self.getTransitionSpeed(dd);self.bzscroll={};var p3=(clipped)?1:0.58;self.bzscroll.x=new BezierClass(px,self.newscrollx,ms,0,0,p3,1);self.bzscroll.y=new BezierClass(py,self.newscrolly,ms,0,0,p3,1);var loopid=now();var loop=function(){if(!self.scrollrunning)return;var x=self.bzscroll.y.getPos();self.setScrollLeft(self.bzscroll.x.getNow());self.setScrollTop(self.bzscroll.y.getNow());if(x<=1){self.timer=setAnimationFrame(loop);}else{self.scrollrunning=false;self.timer=0;self.triggerScrollEnd();}};if(!self.scrollrunning){self.triggerScrollStart(px,py,x,y,ms);self.scrollrunning=true;self.timer=setAnimationFrame(loop);}};this.cancelScroll=function(){if(self.timer)clearAnimationFrame(self.timer);self.timer=0;self.bzscroll=false;self.scrollrunning=false;return self;};}
this.doScrollBy=function(stp,relative){doScrollRelative(0,stp);};this.doScrollLeftBy=function(stp,relative){doScrollRelative(stp,0);};this.doScrollTo=function(pos,relative){var ny=(relative)?Math.round(pos*self.scrollratio.y):pos;if(ny<0)ny=0;else if(ny>self.page.maxh)ny=self.page.maxh;self.cursorfreezed=false;self.doScrollTop(pos);};this.checkContentSize=function(){var pg=self.getContentSize();if((pg.h!=self.page.h)||(pg.w!=self.page.w))self.resize(false,pg);};self.onscroll=function(e){if(self.rail.drag)return;if(!self.cursorfreezed){self.synched('scroll',function(){self.scroll.y=Math.round(self.getScrollTop()/self.scrollratio.y);if(self.railh)self.scroll.x=Math.round(self.getScrollLeft()/self.scrollratio.x);self.noticeCursor();});}};self.bind(self.docscroll,"scroll",self.onscroll);this.doZoomIn=function(e){if(self.zoomactive)return;self.zoomactive=true;self.zoomrestore={style:{}};var lst=['position','top','left','zIndex','backgroundColor','marginTop','marginBottom','marginLeft','marginRight'];var win=self.win[0].style;for(var a in lst){var pp=lst[a];self.zoomrestore.style[pp]=(win[pp]!==undefined)?win[pp]:'';}
self.zoomrestore.style.width=self.win.css('width');self.zoomrestore.style.height=self.win.css('height');self.zoomrestore.padding={w:self.win.outerWidth()-self.win.width(),h:self.win.outerHeight()-self.win.height()};if(cap.isios4){self.zoomrestore.scrollTop=$window.scrollTop();$window.scrollTop(0);}
self.win.css({position:(cap.isios4)?"absolute":"fixed",top:0,left:0,zIndex:globalmaxzindex+100,margin:0});var bkg=self.win.css("backgroundColor");if(""===bkg||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(bkg))self.win.css("backgroundColor","#fff");self.rail.css({zIndex:globalmaxzindex+101});self.zoom.css({zIndex:globalmaxzindex+102});self.zoom.css('backgroundPosition','0 -18px');self.resizeZoom();if(self.onzoomin)self.onzoomin.call(self);return self.cancelEvent(e);};this.doZoomOut=function(e){if(!self.zoomactive)return;self.zoomactive=false;self.win.css("margin","");self.win.css(self.zoomrestore.style);if(cap.isios4){$window.scrollTop(self.zoomrestore.scrollTop);}
self.rail.css({"z-index":self.zindex});self.zoom.css({"z-index":self.zindex});self.zoomrestore=false;self.zoom.css('backgroundPosition','0 0');self.onResize();if(self.onzoomout)self.onzoomout.call(self);return self.cancelEvent(e);};this.doZoom=function(e){return(self.zoomactive)?self.doZoomOut(e):self.doZoomIn(e);};this.resizeZoom=function(){if(!self.zoomactive)return;var py=self.getScrollTop();self.win.css({width:$window.width()-self.zoomrestore.padding.w+"px",height:$window.height()-self.zoomrestore.padding.h+"px"});self.onResize();self.setScrollTop(Math.min(self.page.maxh,py));};this.init();$.nicescroll.push(this);};var ScrollMomentumClass2D=function(nc){var self=this;this.nc=nc;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=false;this.snapy=false;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.reset=function(px,py){self.stop();self.steptime=0;self.lasttime=now();self.speedx=0;self.speedy=0;self.lastx=px;self.lasty=py;self.lastscrollx=-1;self.lastscrolly=-1;};this.update=function(px,py){var tm=now();self.steptime=tm-self.lasttime;self.lasttime=tm;var dy=py-self.lasty;var dx=px-self.lastx;var sy=self.nc.getScrollTop();var sx=self.nc.getScrollLeft();var newy=sy+dy;var newx=sx+dx;self.snapx=(newx<0)||(newx>self.nc.page.maxw);self.snapy=(newy<0)||(newy>self.nc.page.maxh);self.speedx=dx;self.speedy=dy;self.lastx=px;self.lasty=py;};this.stop=function(){self.nc.unsynched("domomentum2d");if(self.timer)clearTimeout(self.timer);self.timer=0;self.lastscrollx=-1;self.lastscrolly=-1;};this.doSnapy=function(nx,ny){var snap=false;if(ny<0){ny=0;snap=true;}else if(ny>self.nc.page.maxh){ny=self.nc.page.maxh;snap=true;}
if(nx<0){nx=0;snap=true;}else if(nx>self.nc.page.maxw){nx=self.nc.page.maxw;snap=true;}
(snap)?self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed):self.nc.triggerScrollEnd();};this.doMomentum=function(gp){var t=now();var l=(gp)?t+gp:self.lasttime;var sl=self.nc.getScrollLeft();var st=self.nc.getScrollTop();var pageh=self.nc.page.maxh;var pagew=self.nc.page.maxw;self.speedx=(pagew>0)?Math.min(60,self.speedx):0;self.speedy=(pageh>0)?Math.min(60,self.speedy):0;var chk=l&&(t-l)<=60;if((st<0)||(st>pageh)||(sl<0)||(sl>pagew))chk=false;var sy=(self.speedy&&chk)?self.speedy:false;var sx=(self.speedx&&chk)?self.speedx:false;if(sy||sx){var tm=Math.max(16,self.steptime);if(tm>50){var xm=tm/50;self.speedx*=xm;self.speedy*=xm;tm=50;}
self.demulxy=0;self.lastscrollx=self.nc.getScrollLeft();self.chkx=self.lastscrollx;self.lastscrolly=self.nc.getScrollTop();self.chky=self.lastscrolly;var nx=self.lastscrollx;var ny=self.lastscrolly;var onscroll=function(){var df=((now()-t)>600)?0.04:0.02;if(self.speedx){nx=Math.floor(self.lastscrollx-(self.speedx*(1-self.demulxy)));self.lastscrollx=nx;if((nx<0)||(nx>pagew))df=0.10;}
if(self.speedy){ny=Math.floor(self.lastscrolly-(self.speedy*(1-self.demulxy)));self.lastscrolly=ny;if((ny<0)||(ny>pageh))df=0.10;}
self.demulxy=Math.min(1,self.demulxy+df);self.nc.synched("domomentum2d",function(){if(self.speedx){var scx=self.nc.getScrollLeft();self.chkx=nx;self.nc.setScrollLeft(nx);}
if(self.speedy){var scy=self.nc.getScrollTop();self.chky=ny;self.nc.setScrollTop(ny);}
if(!self.timer){self.nc.hideCursor();self.doSnapy(nx,ny);}});if(self.demulxy<1){self.timer=setTimeout(onscroll,tm);}else{self.stop();self.nc.hideCursor();self.doSnapy(nx,ny);}};onscroll();}else{self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop());}};};var _scrollTop=jQuery.fn.scrollTop;jQuery.cssHooks.pageYOffset={get:function(elem,computed,extra){var nice=$.data(elem,'__nicescroll')||false;return(nice&&nice.ishwscroll)?nice.getScrollTop():_scrollTop.call(elem);},set:function(elem,value){var nice=$.data(elem,'__nicescroll')||false;(nice&&nice.ishwscroll)?nice.setScrollTop(parseInt(value)):_scrollTop.call(elem,value);return this;}};jQuery.fn.scrollTop=function(value){if(value===undefined){var nice=(this[0])?$.data(this[0],'__nicescroll')||false:false;return(nice&&nice.ishwscroll)?nice.getScrollTop():_scrollTop.call(this);}else{return this.each(function(){var nice=$.data(this,'__nicescroll')||false;(nice&&nice.ishwscroll)?nice.setScrollTop(parseInt(value)):_scrollTop.call($(this),value);});}};var _scrollLeft=jQuery.fn.scrollLeft;$.cssHooks.pageXOffset={get:function(elem,computed,extra){var nice=$.data(elem,'__nicescroll')||false;return(nice&&nice.ishwscroll)?nice.getScrollLeft():_scrollLeft.call(elem);},set:function(elem,value){var nice=$.data(elem,'__nicescroll')||false;(nice&&nice.ishwscroll)?nice.setScrollLeft(parseInt(value)):_scrollLeft.call(elem,value);return this;}};jQuery.fn.scrollLeft=function(value){if(value===undefined){var nice=(this[0])?$.data(this[0],'__nicescroll')||false:false;return(nice&&nice.ishwscroll)?nice.getScrollLeft():_scrollLeft.call(this);}else{return this.each(function(){var nice=$.data(this,'__nicescroll')||false;(nice&&nice.ishwscroll)?nice.setScrollLeft(parseInt(value)):_scrollLeft.call($(this),value);});}};var NiceScrollArray=function(doms){var self=this;this.length=0;this.name="nicescrollarray";this.each=function(fn){$.each(self,fn);return self;};this.push=function(nice){self[self.length]=nice;self.length++;};this.eq=function(idx){return self[idx];};if(doms){for(var a=0;a<doms.length;a++){var nice=$.data(doms[a],'__nicescroll')||false;if(nice){this[this.length]=nice;this.length++;}}}
return this;};function mplex(el,lst,fn){for(var a=0,l=lst.length;a<l;a++)fn(el,lst[a]);}
mplex(NiceScrollArray.prototype,['show','hide','toggle','onResize','resize','remove','stop','doScrollPos'],function(e,n){e[n]=function(){var args=arguments;return this.each(function(){this[n].apply(this,args);});};});jQuery.fn.getNiceScroll=function(index){if(index===undefined){return new NiceScrollArray(this);}else{return this[index]&&$.data(this[index],'__nicescroll')||false;}};var pseudos=jQuery.expr.pseudos||jQuery.expr[':'];pseudos.nicescroll=function(a){return $.data(a,'__nicescroll')!==undefined;};$.fn.niceScroll=function(wrapper,_opt){if(_opt===undefined&&typeof wrapper=="object"&&!("jquery"in wrapper)){_opt=wrapper;wrapper=false;}
var ret=new NiceScrollArray();this.each(function(){var $this=$(this);var opt=$.extend({},_opt);if(wrapper||false){var wrp=$(wrapper);opt.doc=(wrp.length>1)?$(wrapper,$this):wrp;opt.win=$this;}
var docundef=!("doc"in opt);if(!docundef&&!("win"in opt))opt.win=$this;var nice=$this.data('__nicescroll')||false;if(!nice){opt.doc=opt.doc||$this;nice=new NiceScrollClass(opt,$this);$this.data('__nicescroll',nice);}
ret.push(nice);});return(ret.length===1)?ret[0]:ret;};_win.NiceScroll={getjQuery:function(){return jQuery;}};if(!$.nicescroll){$.nicescroll=new NiceScrollArray();$.nicescroll.options=_globaloptions;}}));

var MenuHandler=function(options){this.__construct(options);}
jQuery.extend(MenuHandler.prototype,new CommonOptions(),{options:{},menu_items:[],__construct:function(options){options=jQuery.extend({},options,{menu_items:"ul > li",viewports:{extraSmall:0,small:575,medium:979,large:1366},main_container:".main-container",hamburger:".sidebar-toggle-box",nice_scroll:{horizrailenabled:false,styler:"fb",cursorcolor:"#0BADEF",cursorwidth:'5',cursorborderradius:'10px',background:'#404040',spacebarenabled:false,cursordragontouch:true,cursorborder:'',disablemutationobserver:true,emulatetouch:false}});this.setOptions(options);},showSubmenu:function(item,base_height,show){var parentOffsetTop=jQuery(item).offset().top-jQuery(window).scrollTop();var sidebarOffset=jQuery('.sidebar-menu').offset().top-jQuery(window).scrollTop();jQuery('.sub').animate({'height':0},300,this.updateScrollbar.bind(this));jQuery('.nav-item').removeClass('expanded');jQuery('.sub').getNiceScroll().hide();if(typeof show=='undefined'){show=true;}
jQuery('.sub',item).stop().animate({'height':show?base_height:0},300,this.updateScrollbar.bind(this));jQuery(item).toggleClass('expanded',show);jQuery('.sub',item).css('right',`-210px`);setTimeout(()=>{jQuery('.sub',item).niceScroll(this.options.nice_scroll);jQuery('.sub',item).getNiceScroll().resize();},400);if(base_height>jQuery(window).height()/2){jQuery('.sub',item).css('top',`-${parentOffsetTop-sidebarOffset}px`);}},initScrollbar:function(){this.$sidebar=jQuery(this.options.menu);this.$sidebar.niceScroll(this.options.nice_scroll);},updateScrollbar:function(){if(this.$sidebar)this.$sidebar.getNiceScroll().resize();},hideScrollbar:function(){if(this.$sidebar)this.$sidebar.getNiceScroll().hide();},showScrollbar:function(){if(this.$sidebar)this.$sidebar.getNiceScroll().show();},initMenuItems:function(){var _this=this;var sub=jQuery(".sidebar-menu .sub-menu.active",_this.options.menu);this.$menu_items=jQuery(this.options.menu_items,this.options.menu);this.$menu_items.click(function(){if(jQuery(this).hasClass('sub-nav-item')){_this.showSubmenu(jQuery(this),jQuery('.sub',jQuery(this)).prop('scrollHeight'),!jQuery(this).hasClass('expanded'));jQuery(this).parent().getNiceScroll().hide();}else{jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}
setTimeout(function(){_this.$main_container.removeClass('menu-expanded')},120)});this.$menu_items.each(function(i,item){if(jQuery(item).hasClass('sub-menu')){jQuery('.dropdown-toggle',item).click(function(){_this.showSubmenu(item,jQuery('.sub',item).prop('scrollHeight'),!jQuery(item).hasClass('expanded'));if(!jQuery(item).hasClass('expanded')){jQuery('.sub',item).getNiceScroll().hide();}else{jQuery('.sub',item).getNiceScroll().show();}
return false;});}});jQuery('.sub-menu .dropdown-toggle',this.options.menu).click(function(){var size=_this.viewport;switch(_this.viewport){case'large':_this.$main_container.removeClass('menu-collapsed');break;case'medium':case'small':case'extra-small':_this.$main_container.addClass('menu-expanded');break;}
_this.updateScrollbar();});},initState:function(){var _this=this;this.viewport=this.getBrowserViewport();jQuery(window).on('resize',function(){var viewport=_this.getBrowserViewport();if(viewport!=_this.viewport){_this.viewport=viewport;switch(_this.viewport){case'large':_this.$main_container.removeClass('menu-expanded');break;case'medium':case'small':case'extra-small':_this.$main_container.removeClass('menu-collapsed');if(_this.$main_container.hasClass('menu-expanded')){setTimeout(function(){jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),true);});},200);}else{var sub=jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu);sub.each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}
break;}
_this.updateMenuStateFromAddress();}}.bind(this));},initAddressListener:function(){var _this=this;this.updateMenuStateFromAddress();jQuery(window).on('hashchange',function(){if(jQuery(_this.$main_container).hasClass('menu-expanded')){jQuery(_this.$main_container).removeClass('menu-expanded');}
_this.updateMenuStateFromAddress();});},initHamburger:function(){var _this=this;var headerDropdowns=jQuery('.dropdown-toggle');jQuery(this.options.hamburger).click(function(){var el=_this.$main_container;var sub=jQuery(".sidebar-menu .sub-menu.active",_this.options.menu);switch(_this.viewport){case'large':if(!el.hasClass("menu-collapsed")){jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}
el.toggleClass('menu-collapsed');if(!el.hasClass('menu-collapsed')){if(sub.length){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),true);}}
break;case'medium':case'small':case'extra-small':if(el.hasClass("menu-expanded")){jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}
el.toggleClass('menu-expanded');if(el.hasClass('menu-expanded')){if(sub.length){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),true);}}
break;}
jQuery(document).trigger('menu-resize');});jQuery('#sidebar').mouseenter(function(){switch(_this.viewport){case'medium':case'small':case'extra-small':if(!_this.$main_container.hasClass("menu-expanded")){_this.hideScrollbar();setTimeout(function(){_this.updateScrollbar();_this.showScrollbar();},400);}
break;default:_this.updateScrollbar();}});jQuery('#sidebar').mouseleave(function(){switch(_this.viewport){case'medium':case'small':case'extra-small':if(!_this.$main_container.hasClass("menu-expanded")){_this.hideScrollbar();var sub=jQuery(".sidebar-menu .sub-menu.active",_this.options.menu);if(sub.length){clearTimeout(_this.hoverTimeout);_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);}
setTimeout(function(){_this.updateScrollbar();_this.showScrollbar();},400);}
break;default:_this.updateScrollbar();}});},initDropdownAffectMenu:function(){var _this=this;var headerDropdownsToggle=jQuery('.top-menu .dropdown');var headerDropdowns=jQuery('.top-menu .dropdown-menu');headerDropdownsToggle.each(function(){jQuery(this).on('click',function(){if(_this.viewport=='extra-small'){var el=_this.$main_container;var sub=jQuery(".sidebar-menu .sub-menu.active",_this.options.menu);if(el.hasClass("menu-expanded")){jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}
el.removeClass('menu-expanded');}});});jQuery('.header .top-menu .dropdown .dropdown-toggle').on('click',function(e){$(this).closest('.dropdown-toggle').toggleClass('show');if(e.target==e.currentTarget){}});headerDropdowns.each(function(){jQuery(this).mouseleave(function(){jQuery(this).removeClass('show');jQuery(this).parent().removeClass('show');});});},initNewTooltips:function(){jQuery('[data-new-tooltip]').each(function(){var $this=jQuery(this);var tooltipName=$this.data('new-tooltip');var $tooltip=jQuery('.new-tooltip[data-name="'+tooltipName+'"]');var timeout;$this.mouseenter(function(){clearTimeout(timeout);jQuery('[data-content-var]',$tooltip).each(function(){var varName=jQuery(this).data('content-var');var varValue=$this.data(varName);jQuery(this).text(varValue);});jQuery('[data-style-width-percent]',$tooltip).each(function(){var varName=jQuery(this).data('style-width-percent');var varValue=$this.data(varName);jQuery(this).css({width:varValue+'%'});});jQuery('[data-cat-class]',$tooltip).each(function(){var classTemplate=jQuery(this).data('cat-class');var className=classTemplate.replace('%cat%',$this.data('cat'));jQuery(this).removeClass(function(i,classes){var existingClasses=classes.match(RegExp(classTemplate.replace('%cat%','\\d+'),'g'));return existingClasses?existingClasses.join(' '):false;});jQuery(this).addClass(className);});$tooltip.css({left:$this.offset().left+$this.width(),top:$this.offset().top-50}).addClass('in');}).mouseleave(function(){timeout=setTimeout(function(){$tooltip.removeClass('in');},500);});$tooltip.mouseenter(function(){clearTimeout(timeout);}).mouseleave(function(){timeout=setTimeout(function(){$tooltip.removeClass('in');},500);});});},init:function(){this.$main_container=jQuery(this.options.main_container);jQuery('.hidden-submenu',this.options.menu).removeClass('hidden-submenu').height(0);this.initState();this.initScrollbar();this.initMenuItems();this.initAddressListener();this.initHamburger();this.initNewTooltips();this.initDropdownAffectMenu();this.hideOnClickOutside();},getBrowserViewport:function(){var width=jQuery(window).width();if(width>this.options.viewports.large){return'large';}else if(width>this.options.viewports.medium){return'medium';}else if(width>this.options.viewports.small){return'small';}else{return'extra-small';}},updateMenuStateFromAddress:function(){var _this=this;var path=location.pathname+location.hash;jQuery('#sidebar .nav-item').each(function(){var $item=jQuery(this);var isActive=false;if($item.hasClass('sub-menu')){var $exactItem=null;jQuery('.sub-nav-item',this).each(function(){var $subitem=jQuery(this);var isSubitemActive=false;jQuery('a',$subitem).each(function(){var $a=jQuery(this);if($a.attr('href')!==undefined){var href=$a.attr('href').replace(/\/$/,"");if(path.indexOf('/v2/management/#invoice-recurring-profile-report')==0&&href.indexOf('/v2/management/#invoice-report')==0){href=href.replace('#invoice-report','#invoice-recurring-profile-report');}else if(path.indexOf('/v2/management/#invoice-outstanding-balance-report')==0&&href.indexOf('/v2/management/#invoice-report')==0){href=href.replace('#invoice-report','#invoice-outstanding-balance-report');}else if(path.indexOf('/v2/settings/configuration/plugin')==0&&href.indexOf('/v2/management/#plugins')==0){href=href.replace('/v2/management/#plugins','/v2/settings/configuration/plugin');}else if(path.indexOf('/v2/management/#membership-report')==0&&href.indexOf('/v2/ext/membership/payment-report')==0){href=href.replace('/v2/ext/membership/payment-report','/v2/management/#membership-report');}else if(path.indexOf('/v2/ext/calendar')==0&&href.indexOf('/ext/google-calendar-export/settings')==0){href=href.replace('/ext/google-calendar-export/settings','/v2/ext/calendar');}else if(path.indexOf('/ext/google-calendar-export/settings')==0&&href.indexOf('/v2/ext/calendar')==0){href=href.replace('/v2/ext/calendar','/ext/google-calendar-export/settings');}else if(path.indexOf('/v2/ext/google-business')==0&&href.indexOf('/v2/management/#plugins')==0){href=href.replace('/v2/management/#plugins','/v2/ext/google-business');}else if(path.indexOf('/v2/management/#google-business')==0&&href.indexOf('/v2/management/#plugins')==0){href=href.replace('/v2/management/#plugins','/v2/management/#google-business');}else if(path.indexOf('/v2/ext')==0&&path.indexOf('ext/calendar')==-1&&path.indexOf('ext/approve-booking')==-1&&href.indexOf('/v2/management/#plugins')==0){href=href.replace('/v2/management/#plugins','/v2/ext');}else if(path.indexOf('/v2/management/#approve-booking-report')==0){if(href){if(href.indexOf('/v2/management/#detailed-report')==0){isActive=true;isSubitemActive=true;}}}else if(path.indexOf('/v2/management/#pwa-push-report')==0){if(href){if(href.indexOf('/v2/management/#pwa-client-report')==0){isActive=true;isSubitemActive=true;}}}else if(path.indexOf('/v2/management/#contact-widget-report')==0||path.indexOf('/v2/management/#promotion-message-report')==0){if(href){if(href.indexOf('/v2/management/#sms-report')==0){isActive=true;isSubitemActive=true;}}}else if(path.indexOf('/v2/design#homepage-tab')==0||path.indexOf('/v2/design#theme-tab')==0){if(href){if(href.indexOf('/v2/design')==0){isActive=true;isSubitemActive=true;}}}}
if(path==href||path.indexOf(href+'/')===0){isActive=true;isSubitemActive=true;if(path==href){$exactItem=$subitem;}
if(path.indexOf('#payments/packs')>=0&&href.indexOf('#payments/packs')>=0){$exactItem=$subitem;}}});if(isSubitemActive){$subitem.addClass('active');$item.addClass('active');}else{$subitem.removeClass('active');}});if($exactItem){jQuery('.sub-nav-item',$item).removeClass('active');$exactItem.addClass('active');}}else{jQuery('a',this).each(function(){var $a=jQuery(this);if($a.attr('href')!==undefined){var href=$a.attr('href').replace(/\/$/,"");}
if(path.indexOf('/settings/')==0&&path.indexOf('/settings/custom-css')==-1&&href.indexOf('/v2/index/configuration-menu')==0){href=href.replace('/v2/index/configuration-menu','/settings');}
if(path.indexOf('/v2/settings/')==0&&href.indexOf('/v2/index/configuration-menu')==0){if(path.indexOf('/v2/settings/configuration/plugin')==-1){href=href.replace('/v2/index/configuration-menu','/v2/settings');}}
if(path.indexOf('/v2/design/')==0&&href.indexOf('/v2/index/configuration-menu')==0){href=href.replace('/v2/index/configuration-menu','/v2/design');}
if(path.indexOf('/v2/index/delete-company')==0&&href.indexOf('/v2/index/configuration-menu')==0){href=href.replace('/v2/index/configuration-menu','/v2/index/delete-company');}
if(path==href||path.indexOf(href+'/')===0){isActive=true;}});}
if(isActive){$item.addClass('active');}else{$item.removeClass('active');}});this.updateScrollbar();},hideOnClickOutside:function(){var _this=this;var sidebar=jQuery('#sidebar');jQuery(document).on('click',function(e){if(!sidebar.is(e.target)&&sidebar.has(e.target).length===0){jQuery(".sidebar-menu .sub-menu.expanded",_this.options.menu).each(function(i,sub){_this.showSubmenu(sub,jQuery('.sub',sub).prop('scrollHeight'),false);});}})}});

(function(){var chatBtn=null;jQuery('#supportChat, .live-help-menu-item a').click(function(){var userEmail=jQuery(this).data('email');var userFirstName=jQuery(this).data('name');var iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if(iOS){var url='https://simply.ladesk.com/scripts/generateWidget.php?v=4.31.4.4&t=1463557486&cwid=d93152a2&cwt=chat_mobile&pt=ladesk';window.open(url);}else if(typeof(LiveAgent)=='undefined'){var scriptElement=document.createElement('script');scriptElement.id='la_x2s6df8d';scriptElement.src='https://simply.ladesk.com/scripts/track.js';scriptElement.onload=function(){initChatBtn(userEmail,userFirstName);};document.body.appendChild(scriptElement);}else if(!chatBtn){initChatBtn(userEmail,userFirstName);}else{openChat();}});jQuery(document).on("click","#trigger_support_chat",function(e){e.preventDefault();jQuery("#supportChat").trigger("click");});function initChatBtn(userEmail,userFirstName){LiveAgent.setUserDetails(userEmail,userFirstName);chatBtn=LiveAgent.createButton('cb30a715',document.getElementById('originalButtonContainer'));chatBtn.old_onOnline=chatBtn.onOnline;chatBtn.old_onOffline=chatBtn.onOffline;chatBtn.onOnline=function(){chatBtn.old_onOnline();openChat();};chatBtn.onOffline=function(){chatBtn.old_onOffline();openChat();};}
function openChat(){try{chatBtn.onClick();}catch(e){}}
if(window.location.search.indexOf('init-live-help')>-1){jQuery('#supportChat, .live-help-menu-item a').click();}})();

(function($){var ColorPicker=function(){var
ids={},inAction,charMin=65,visible,tpl='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit">Close</div></div>',defaults={eventName:'click',onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:'ff0000',livePreview:true,flat:false},fillRGBFields=function(hsb,cal){var rgb=HSBToRGB(hsb);$(cal).data('colorpicker').fields.eq(1).val(rgb.r).end().eq(2).val(rgb.g).end().eq(3).val(rgb.b).end();},fillHSBFields=function(hsb,cal){$(cal).data('colorpicker').fields.eq(4).val(hsb.h).end().eq(5).val(hsb.s).end().eq(6).val(hsb.b).end();},fillHexFields=function(hsb,cal){$(cal).data('colorpicker').fields.eq(0).val(HSBToHex(hsb)).end();},setSelector=function(hsb,cal){$(cal).data('colorpicker').selector.css('backgroundColor','#'+HSBToHex({h:hsb.h,s:100,b:100}));$(cal).data('colorpicker').selectorIndic.css({left:parseInt(150*hsb.s/100,10),top:parseInt(150*(100-hsb.b)/100,10)});},setHue=function(hsb,cal){$(cal).data('colorpicker').hue.css('top',parseInt(150-150*hsb.h/360,10));},setCurrentColor=function(hsb,cal){$(cal).data('colorpicker').currentColor.css('backgroundColor','#'+HSBToHex(hsb));},setNewColor=function(hsb,cal){$(cal).data('colorpicker').newColor.css('backgroundColor','#'+HSBToHex(hsb));},keyUp=function(ev){var pressedKey=ev.charCode||ev.keyCode||-1;if((pressedKey>charMin&&pressedKey<=90)||pressedKey==32){return false;}
var cal=$(this).parent().parent();if(cal.data('colorpicker').livePreview===true){change.apply(this);}},change=function(ev){var cal=$(this).parent().parent(),col;if(this.parentNode.className.indexOf('_hex')>0){cal.data('colorpicker').color=col=HexToHSB(fixHex(this.value));}else if(this.parentNode.className.indexOf('_hsb')>0){cal.data('colorpicker').color=col=fixHSB({h:parseInt(cal.data('colorpicker').fields.eq(4).val(),10),s:parseInt(cal.data('colorpicker').fields.eq(5).val(),10),b:parseInt(cal.data('colorpicker').fields.eq(6).val(),10)});}else{cal.data('colorpicker').color=col=RGBToHSB(fixRGB({r:parseInt(cal.data('colorpicker').fields.eq(1).val(),10),g:parseInt(cal.data('colorpicker').fields.eq(2).val(),10),b:parseInt(cal.data('colorpicker').fields.eq(3).val(),10)}));}
if(ev){fillRGBFields(col,cal.get(0));if(this.parentNode.className.indexOf('_hex')===-1){fillHexFields(col,cal.get(0));}
fillHSBFields(col,cal.get(0));}
setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0));cal.data('colorpicker').onChange.apply(cal,[col,HSBToHex(col),HSBToRGB(col)]);},blur=function(ev){var cal=$(this).parent().parent();cal.data('colorpicker').fields.parent().removeClass('colorpicker_focus')},focus=function(){charMin=this.parentNode.className.indexOf('_hex')>0?70:65;$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');$(this).parent().addClass('colorpicker_focus');},downIncrement=function(ev){var field=$(this).parent().find('input').focus();var current={el:$(this).parent().addClass('colorpicker_slider'),max:this.parentNode.className.indexOf('_hsb_h')>0?360:(this.parentNode.className.indexOf('_hsb')>0?100:255),y:ev.pageY,field:field,val:parseInt(field.val(),10),preview:$(this).parent().parent().data('colorpicker').livePreview};$(document).bind('mouseup',current,upIncrement);$(document).bind('mousemove',current,moveIncrement);},moveIncrement=function(ev){ev.data.field.val(Math.max(0,Math.min(ev.data.max,parseInt(ev.data.val+ev.pageY-ev.data.y,10))));if(ev.data.preview){change.apply(ev.data.field.get(0),[true]);}
return false;},upIncrement=function(ev){change.apply(ev.data.field.get(0),[true]);ev.data.el.removeClass('colorpicker_slider').find('input').focus();$(document).unbind('mouseup',upIncrement);$(document).unbind('mousemove',moveIncrement);return false;},downHue=function(ev){var current={cal:$(this).parent(),y:$(this).offset().top};current.preview=current.cal.data('colorpicker').livePreview;$(document).bind('mouseup',current,upHue);$(document).bind('mousemove',current,moveHue);},moveHue=function(ev){change.apply(ev.data.cal.data('colorpicker').fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(ev.pageY-ev.data.y))))/150,10)).get(0),[ev.data.preview]);return false;},upHue=function(ev){fillRGBFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));$(document).unbind('mouseup',upHue);$(document).unbind('mousemove',moveHue);return false;},downSelector=function(ev){var current={cal:$(this).parent(),pos:$(this).offset()};current.preview=current.cal.data('colorpicker').livePreview;$(document).bind('mouseup',current,upSelector);$(document).bind('mousemove',current,moveSelector);},moveSelector=function(ev){change.apply(ev.data.cal.data('colorpicker').fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(ev.pageY-ev.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX-ev.data.pos.left))))/150,10)).get(0),[ev.data.preview]);return false;},upSelector=function(ev){fillRGBFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data('colorpicker').color,ev.data.cal.get(0));$(document).unbind('mouseup',upSelector);$(document).unbind('mousemove',moveSelector);return false;},enterSubmit=function(ev){$(this).addClass('colorpicker_focus');},leaveSubmit=function(ev){$(this).removeClass('colorpicker_focus');},clickSubmit=function(ev){var cal=$(this).parent();var col=cal.data('colorpicker').color;cal.data('colorpicker').origColor=col;setCurrentColor(col,cal.get(0));cal.data('colorpicker').onSubmit(col,HSBToHex(col),HSBToRGB(col));},show=function(ev){var cal=$('#'+$(this).data('colorpickerId'));cal.data('colorpicker').onBeforeShow.apply(this,[cal.get(0)]);if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){cal.css({left:'50%',top:'50%',margin:'-88px 0 0 -178px'});}else{var pos=$(this).offset();var viewPort=getViewport();var top=pos.top+this.offsetHeight;var left=pos.left;if(top+176>viewPort.t+viewPort.h){top-=this.offsetHeight+176;}
if(left+356>viewPort.l+viewPort.w){left-=356;}
cal.css({left:left+'px',top:top+'px'});}
if(cal.data('colorpicker').onShow.apply(this,[cal.get(0)])!=false){cal.show();}
$(document).bind('mousedown',{cal:cal},hide);return false;},hide=function(ev){if(!isChildOf(ev.data.cal.get(0),ev.target,ev.data.cal.get(0))){if(ev.data.cal.data('colorpicker').onHide.apply(this,[ev.data.cal.get(0)])!=false){ev.data.cal.hide();}
$(document).unbind('mousedown',hide);}},isChildOf=function(parentEl,el,container){if(parentEl==el){return true;}
if(parentEl.contains){return parentEl.contains(el);}
if(parentEl.compareDocumentPosition){return!!(parentEl.compareDocumentPosition(el)&16);}
var prEl=el.parentNode;while(prEl&&prEl!=container){if(prEl==parentEl)
return true;prEl=prEl.parentNode;}
return false;},getViewport=function(){var m=document.compatMode=='CSS1Compat';return{l:window.pageXOffset||(m?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(m?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(m?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(m?document.documentElement.clientHeight:document.body.clientHeight)};},fixHSB=function(hsb){return{h:Math.min(360,Math.max(0,hsb.h)),s:Math.min(100,Math.max(0,hsb.s)),b:Math.min(100,Math.max(0,hsb.b))};},fixRGB=function(rgb){return{r:Math.min(255,Math.max(0,rgb.r)),g:Math.min(255,Math.max(0,rgb.g)),b:Math.min(255,Math.max(0,rgb.b))};},fixHex=function(hex){var len=6-hex.length;if(len>0){var o=[];for(var i=0;i<len;i++){o.push('0');}
o.push(hex);hex=o.join('');}
return hex;},HexToRGB=function(hex){var hex=parseInt(((hex.indexOf('#')>-1)?hex.substring(1):hex),16);return{r:hex>>16,g:(hex&0x00FF00)>>8,b:(hex&0x0000FF)};},HexToHSB=function(hex){return RGBToHSB(HexToRGB(hex));},RGBToHSB=function(rgb){var hsb={};hsb.b=Math.max(Math.max(rgb.r,rgb.g),rgb.b);hsb.s=(hsb.b<=0)?0:Math.round(100*(hsb.b-Math.min(Math.min(rgb.r,rgb.g),rgb.b))/hsb.b);hsb.b=Math.round((hsb.b/255)*100);if((rgb.r==rgb.g)&&(rgb.g==rgb.b))hsb.h=0;else if(rgb.r>=rgb.g&&rgb.g>=rgb.b)hsb.h=60*(rgb.g-rgb.b)/(rgb.r-rgb.b);else if(rgb.g>=rgb.r&&rgb.r>=rgb.b)hsb.h=60+60*(rgb.g-rgb.r)/(rgb.g-rgb.b);else if(rgb.g>=rgb.b&&rgb.b>=rgb.r)hsb.h=120+60*(rgb.b-rgb.r)/(rgb.g-rgb.r);else if(rgb.b>=rgb.g&&rgb.g>=rgb.r)hsb.h=180+60*(rgb.b-rgb.g)/(rgb.b-rgb.r);else if(rgb.b>=rgb.r&&rgb.r>=rgb.g)hsb.h=240+60*(rgb.r-rgb.g)/(rgb.b-rgb.g);else if(rgb.r>=rgb.b&&rgb.b>=rgb.g)hsb.h=300+60*(rgb.r-rgb.b)/(rgb.r-rgb.g);else hsb.h=0;hsb.h=Math.round(hsb.h);return hsb;},HSBToRGB=function(hsb){var rgb={};var h=Math.round(hsb.h);var s=Math.round(hsb.s*255/100);var v=Math.round(hsb.b*255/100);if(s==0){rgb.r=rgb.g=rgb.b=v;}else{var t1=v;var t2=(255-s)*v/255;var t3=(t1-t2)*(h%60)/60;if(h==360)h=0;if(h<60){rgb.r=t1;rgb.b=t2;rgb.g=t2+t3}
else if(h<120){rgb.g=t1;rgb.b=t2;rgb.r=t1-t3}
else if(h<180){rgb.g=t1;rgb.r=t2;rgb.b=t2+t3}
else if(h<240){rgb.b=t1;rgb.r=t2;rgb.g=t1-t3}
else if(h<300){rgb.b=t1;rgb.g=t2;rgb.r=t2+t3}
else if(h<360){rgb.r=t1;rgb.g=t2;rgb.b=t1-t3}
else{rgb.r=0;rgb.g=0;rgb.b=0}}
return{r:Math.round(rgb.r),g:Math.round(rgb.g),b:Math.round(rgb.b)};},RGBToHex=function(rgb){var hex=[rgb.r.toString(16),rgb.g.toString(16),rgb.b.toString(16)];$.each(hex,function(nr,val){if(val.length==1){hex[nr]='0'+val;}});return hex.join('');},HSBToHex=function(hsb){return RGBToHex(HSBToRGB(hsb));};return{init:function(options){options=$.extend({},defaults,options||{});if(typeof options.color=='string'){options.color=HexToHSB(options.color);}else if(options.color.r!=undefined&&options.color.g!=undefined&&options.color.b!=undefined){options.color=RGBToHSB(options.color);}else if(options.color.h!=undefined&&options.color.s!=undefined&&options.color.b!=undefined){options.color=fixHSB(options.color);}else{return this;}
options.origColor=options.color;return this.each(function(){if(!$(this).data('colorpickerId')){var id='collorpicker_'+parseInt(Math.random()*1000);$(this).data('colorpickerId',id);var cal=$(tpl).attr('id',id);if(options.flat){cal.appendTo(this).show();}else{cal.appendTo(document.body);}
options.fields=cal.find('input').bind('keyup',keyUp).bind('change',change).bind('blur',blur).bind('focus',focus);cal.find('span').bind('mousedown',downIncrement);options.selector=cal.find('div.colorpicker_color').bind('mousedown',downSelector);options.selectorIndic=options.selector.find('div div');options.hue=cal.find('div.colorpicker_hue div');cal.find('div.colorpicker_hue').bind('mousedown',downHue);options.newColor=cal.find('div.colorpicker_new_color');options.currentColor=cal.find('div.colorpicker_current_color');cal.data('colorpicker',options);cal.find('div.colorpicker_submit').bind('mouseenter',enterSubmit).bind('mouseleave',leaveSubmit).bind('click',clickSubmit);fillRGBFields(options.color,cal.get(0));fillHSBFields(options.color,cal.get(0));fillHexFields(options.color,cal.get(0));setHue(options.color,cal.get(0));setSelector(options.color,cal.get(0));setCurrentColor(options.color,cal.get(0));setNewColor(options.color,cal.get(0));if(options.flat){cal.css({position:'relative',display:'block'});}else{$(this).bind(options.eventName,show);}}});},showPicker:function(){return this.each(function(){if($(this).data('colorpickerId')){show.apply(this);}});},hidePicker:function(){return this.each(function(){if($(this).data('colorpickerId')){$('#'+$(this).data('colorpickerId')).hide();}});},setColor:function(col){if(typeof col=='string'){col=HexToHSB(col);}else if(col.r!=undefined&&col.g!=undefined&&col.b!=undefined){col=RGBToHSB(col);}else if(col.h!=undefined&&col.s!=undefined&&col.b!=undefined){col=fixHSB(col);}else{return this;}
return this.each(function(){if($(this).data('colorpickerId')){var cal=$('#'+$(this).data('colorpickerId'));cal.data('colorpicker').color=col;cal.data('colorpicker').origColor=col;fillRGBFields(col,cal.get(0));fillHSBFields(col,cal.get(0));fillHexFields(col,cal.get(0));setHue(col,cal.get(0));setSelector(col,cal.get(0));setCurrentColor(col,cal.get(0));setNewColor(col,cal.get(0));}});}};}();$.fn.extend({ColorPicker:ColorPicker.init,ColorPickerHide:ColorPicker.hidePicker,ColorPickerShow:ColorPicker.showPicker,ColorPickerSetColor:ColorPicker.setColor});})(jQuery)